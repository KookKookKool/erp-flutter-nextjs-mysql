"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/organizations/route";
exports.ids = ["app/api/admin/organizations/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_flutter_erp_fluter_nextjs_tidb_backend_app_api_admin_organizations_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/organizations/route.ts */ \"(rsc)/./app/api/admin/organizations/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/organizations/route\",\n        pathname: \"/api/admin/organizations\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/organizations/route\"\n    },\n    resolvedPagePath: \"D:\\\\flutter\\\\erp_fluter_nextjs_tidb\\\\backend\\\\app\\\\api\\\\admin\\\\organizations\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_flutter_erp_fluter_nextjs_tidb_backend_app_api_admin_organizations_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/admin/organizations/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRm9yZ2FuaXphdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGb3JnYW5pemF0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFkbWluJTJGb3JnYW5pemF0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDZmx1dHRlciU1Q2VycF9mbHV0ZXJfbmV4dGpzX3RpZGIlNUNiYWNrZW5kJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDZmx1dHRlciU1Q2VycF9mbHV0ZXJfbmV4dGpzX3RpZGIlNUNiYWNrZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NDO0FBQ25IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJwLWJhY2tlbmQvPzE3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcZmx1dHRlclxcXFxlcnBfZmx1dGVyX25leHRqc190aWRiXFxcXGJhY2tlbmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxvcmdhbml6YXRpb25zXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9vcmdhbml6YXRpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vb3JnYW5pemF0aW9uc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vb3JnYW5pemF0aW9ucy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXGZsdXR0ZXJcXFxcZXJwX2ZsdXRlcl9uZXh0anNfdGlkYlxcXFxiYWNrZW5kXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcb3JnYW5pemF0aW9uc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hZG1pbi9vcmdhbml6YXRpb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/organizations/route.ts":
/*!**********************************************!*\
  !*** ./app/api/admin/organizations/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n// Middleware สำหรับตรวจสอบ Admin Token\nasync function verifyAdmin(request) {\n    const authorization = request.headers.get(\"authorization\");\n    if (!authorization || !authorization.startsWith(\"Bearer \")) {\n        return null;\n    }\n    const token = authorization.split(\" \")[1];\n    const payload = _lib_auth__WEBPACK_IMPORTED_MODULE_2__.AuthService.verifyToken(token);\n    if (!payload) {\n        return null;\n    }\n    const admin = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].adminUser.findUnique({\n        where: {\n            id: payload.adminId\n        }\n    });\n    return admin?.isActive ? admin : null;\n}\n// GET - รายชื่อองค์กรทั้งหมด\nasync function GET(request) {\n    try {\n        const admin = await verifyAdmin(request);\n        if (!admin) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const status = searchParams.get(\"status\");\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const skip = (page - 1) * limit;\n        const where = status ? {\n            status: status\n        } : {};\n        const [organizations, total] = await Promise.all([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findMany({\n                where,\n                skip,\n                take: limit,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                select: {\n                    id: true,\n                    orgCode: true,\n                    orgName: true,\n                    orgEmail: true,\n                    adminName: true,\n                    adminEmail: true,\n                    status: true,\n                    subscriptionPlan: true,\n                    subscriptionStart: true,\n                    subscriptionEnd: true,\n                    createdAt: true,\n                    approvedAt: true,\n                    schemaName: true,\n                    isActive: true\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.count({\n                where\n            })\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            organizations,\n            pagination: {\n                page,\n                limit,\n                total,\n                pages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"❌ Error fetching organizations:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"เกิดข้อผิดพลาดในการดึงข้อมูล\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL29yZ2FuaXphdGlvbnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1RDtBQUN0QjtBQUNPO0FBRXhDLHVDQUF1QztBQUN2QyxlQUFlRyxZQUFZQyxPQUFvQjtJQUM3QyxNQUFNQyxnQkFBZ0JELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBQzFDLElBQUksQ0FBQ0YsaUJBQWlCLENBQUNBLGNBQWNHLFVBQVUsQ0FBQyxZQUFZO1FBQzFELE9BQU87SUFDVDtJQUVBLE1BQU1DLFFBQVFKLGNBQWNLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUN6QyxNQUFNQyxVQUFVVCxrREFBV0EsQ0FBQ1UsV0FBVyxDQUFDSDtJQUV4QyxJQUFJLENBQUNFLFNBQVM7UUFDWixPQUFPO0lBQ1Q7SUFFQSxNQUFNRSxRQUFRLE1BQU1aLG1EQUFNQSxDQUFDYSxTQUFTLENBQUNDLFVBQVUsQ0FBQztRQUM5Q0MsT0FBTztZQUFFQyxJQUFJTixRQUFRTyxPQUFPO1FBQUM7SUFDL0I7SUFFQSxPQUFPTCxPQUFPTSxXQUFXTixRQUFRO0FBQ25DO0FBRUEsNkJBQTZCO0FBQ3RCLGVBQWVPLElBQUloQixPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTVMsUUFBUSxNQUFNVixZQUFZQztRQUNoQyxJQUFJLENBQUNTLE9BQU87WUFDVixPQUFPYixrRkFBWUEsQ0FBQ3FCLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSXJCLFFBQVFzQixHQUFHO1FBQzVDLE1BQU1ILFNBQVNDLGFBQWFqQixHQUFHLENBQUM7UUFDaEMsTUFBTW9CLE9BQU9DLFNBQVNKLGFBQWFqQixHQUFHLENBQUMsV0FBVztRQUNsRCxNQUFNc0IsUUFBUUQsU0FBU0osYUFBYWpCLEdBQUcsQ0FBQyxZQUFZO1FBQ3BELE1BQU11QixPQUFPLENBQUNILE9BQU8sS0FBS0U7UUFFMUIsTUFBTWIsUUFBUU8sU0FBUztZQUFFQSxRQUFRQTtRQUFjLElBQUksQ0FBQztRQUVwRCxNQUFNLENBQUNRLGVBQWVDLE1BQU0sR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7WUFDL0NqQyxtREFBTUEsQ0FBQ2tDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDO2dCQUMzQnBCO2dCQUNBYztnQkFDQU8sTUFBTVI7Z0JBQ05TLFNBQVM7b0JBQUVDLFdBQVc7Z0JBQU87Z0JBQzdCQyxRQUFRO29CQUNOdkIsSUFBSTtvQkFDSndCLFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZDLFdBQVc7b0JBQ1hDLFlBQVk7b0JBQ1p0QixRQUFRO29CQUNSdUIsa0JBQWtCO29CQUNsQkMsbUJBQW1CO29CQUNuQkMsaUJBQWlCO29CQUNqQlQsV0FBVztvQkFDWFUsWUFBWTtvQkFDWkMsWUFBWTtvQkFDWi9CLFVBQVU7Z0JBQ1o7WUFDRjtZQUNBbEIsbURBQU1BLENBQUNrQyxZQUFZLENBQUNnQixLQUFLLENBQUM7Z0JBQUVuQztZQUFNO1NBQ25DO1FBRUQsT0FBT2hCLGtGQUFZQSxDQUFDcUIsSUFBSSxDQUFDO1lBQ3ZCVTtZQUNBcUIsWUFBWTtnQkFDVnpCO2dCQUNBRTtnQkFDQUc7Z0JBQ0FxQixPQUFPQyxLQUFLQyxJQUFJLENBQUN2QixRQUFRSDtZQUMzQjtRQUNGO0lBRUYsRUFBRSxPQUFPUCxPQUFPO1FBQ2RrQyxRQUFRbEMsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsT0FBT3RCLGtGQUFZQSxDQUFDcUIsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQStCLEdBQ3hDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJwLWJhY2tlbmQvLi9hcHAvYXBpL2FkbWluL29yZ2FuaXphdGlvbnMvcm91dGUudHM/NDExYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJ1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJ0AvbGliL2F1dGgnXHJcblxyXG4vLyBNaWRkbGV3YXJlIOC4quC4s+C4q+C4o+C4seC4muC4leC4o+C4p+C4iOC4quC4reC4miBBZG1pbiBUb2tlblxyXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlBZG1pbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJylcclxuICBpZiAoIWF1dGhvcml6YXRpb24gfHwgIWF1dGhvcml6YXRpb24uc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV1cclxuICBjb25zdCBwYXlsb2FkID0gQXV0aFNlcnZpY2UudmVyaWZ5VG9rZW4odG9rZW4pXHJcbiAgXHJcbiAgaWYgKCFwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29uc3QgYWRtaW4gPSBhd2FpdCBwcmlzbWEuYWRtaW5Vc2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuYWRtaW5JZCB9XHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIGFkbWluPy5pc0FjdGl2ZSA/IGFkbWluIDogbnVsbFxyXG59XHJcblxyXG4vLyBHRVQgLSDguKPguLLguKLguIrguLfguYjguK3guK3guIfguITguYzguIHguKPguJfguLHguYnguIfguKvguKHguJRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhZG1pbiA9IGF3YWl0IHZlcmlmeUFkbWluKHJlcXVlc3QpXHJcbiAgICBpZiAoIWFkbWluKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBjb25zdCBzdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKVxyXG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSB8fCAnMScpXHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJylcclxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogbGltaXRcclxuXHJcbiAgICBjb25zdCB3aGVyZSA9IHN0YXR1cyA/IHsgc3RhdHVzOiBzdGF0dXMgYXMgYW55IH0gOiB7fVxyXG5cclxuICAgIGNvbnN0IFtvcmdhbml6YXRpb25zLCB0b3RhbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIHByaXNtYS5vcmdhbml6YXRpb24uZmluZE1hbnkoe1xyXG4gICAgICAgIHdoZXJlLFxyXG4gICAgICAgIHNraXAsXHJcbiAgICAgICAgdGFrZTogbGltaXQsXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxyXG4gICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgICBvcmdDb2RlOiB0cnVlLFxyXG4gICAgICAgICAgb3JnTmFtZTogdHJ1ZSxcclxuICAgICAgICAgIG9yZ0VtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgYWRtaW5OYW1lOiB0cnVlLFxyXG4gICAgICAgICAgYWRtaW5FbWFpbDogdHJ1ZSxcclxuICAgICAgICAgIHN0YXR1czogdHJ1ZSxcclxuICAgICAgICAgIHN1YnNjcmlwdGlvblBsYW46IHRydWUsXHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25TdGFydDogdHJ1ZSxcclxuICAgICAgICAgIHN1YnNjcmlwdGlvbkVuZDogdHJ1ZSxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcclxuICAgICAgICAgIGFwcHJvdmVkQXQ6IHRydWUsXHJcbiAgICAgICAgICBzY2hlbWFOYW1lOiB0cnVlLFxyXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pLFxyXG4gICAgICBwcmlzbWEub3JnYW5pemF0aW9uLmNvdW50KHsgd2hlcmUgfSlcclxuICAgIF0pXHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgb3JnYW5pemF0aW9ucyxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIHBhZ2UsXHJcbiAgICAgICAgbGltaXQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgcGFnZXM6IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIG9yZ2FuaXphdGlvbnM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICfguYDguIHguLTguJTguILguYnguK3guJzguLTguJTguJ7guKXguLLguJTguYPguJnguIHguLLguKPguJTguLbguIfguILguYnguK3guKHguLnguKUnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiQXV0aFNlcnZpY2UiLCJ2ZXJpZnlBZG1pbiIsInJlcXVlc3QiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInNwbGl0IiwicGF5bG9hZCIsInZlcmlmeVRva2VuIiwiYWRtaW4iLCJhZG1pblVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImFkbWluSWQiLCJpc0FjdGl2ZSIsIkdFVCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0Iiwic2tpcCIsIm9yZ2FuaXphdGlvbnMiLCJ0b3RhbCIsIlByb21pc2UiLCJhbGwiLCJvcmdhbml6YXRpb24iLCJmaW5kTWFueSIsInRha2UiLCJvcmRlckJ5IiwiY3JlYXRlZEF0Iiwic2VsZWN0Iiwib3JnQ29kZSIsIm9yZ05hbWUiLCJvcmdFbWFpbCIsImFkbWluTmFtZSIsImFkbWluRW1haWwiLCJzdWJzY3JpcHRpb25QbGFuIiwic3Vic2NyaXB0aW9uU3RhcnQiLCJzdWJzY3JpcHRpb25FbmQiLCJhcHByb3ZlZEF0Iiwic2NoZW1hTmFtZSIsImNvdW50IiwicGFnaW5hdGlvbiIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/organizations/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService),\n/* harmony export */   verifyAdmin: () => (/* binding */ verifyAdmin)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n\n\n\nconst JWT_SECRET = \"your-super-secret-jwt-key-change-this-in-production\" || 0;\n// Verify admin token from request\nasync function verifyAdmin(request) {\n    try {\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n            return null;\n        }\n        const token = authHeader.substring(7);\n        const payload = AuthService.verifyToken(token);\n        if (!payload) {\n            return null;\n        }\n        // ตรวจสอบว่า admin ยังมีอยู่ในระบบ\n        const admin = await _prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].adminUser.findUnique({\n            where: {\n                id: payload.adminId\n            }\n        });\n        if (!admin || !admin.isActive) {\n            return null;\n        }\n        return admin;\n    } catch (error) {\n        console.error(\"Error verifying admin:\", error);\n        return null;\n    }\n}\nclass AuthService {\n    static async hashPassword(password) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n    }\n    static async comparePassword(password, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n    }\n    static async verifyPassword(password, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n    }\n    static generateToken(payload) {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign(payload, JWT_SECRET, {\n            expiresIn: \"24h\"\n        });\n    }\n    static verifyToken(token) {\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n    static generateOrgCode() {\n        const now = new Date();\n        const year = now.getFullYear().toString().substring(2) // 25\n        ;\n        const month = (now.getMonth() + 1).toString().padStart(2, \"0\");\n        const day = now.getDate().toString().padStart(2, \"0\");\n        const hour = now.getHours().toString().padStart(2, \"0\");\n        const minute = now.getMinutes().toString().padStart(2, \"0\");\n        // สุ่มเลข 3 หลัก\n        const random = Math.floor(100 + Math.random() * 900).toString();\n        return `ORG${year}${month}${day}${hour}${minute}${random}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZCO0FBQ0M7QUFFRDtBQUU3QixNQUFNRyxhQUFhQyxxREFBc0IsSUFBSTtBQWE3QyxrQ0FBa0M7QUFDM0IsZUFBZUUsWUFBWUMsT0FBb0I7SUFDcEQsSUFBSTtRQUNGLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBQ3ZDLElBQUksQ0FBQ0YsY0FBYyxDQUFDQSxXQUFXRyxVQUFVLENBQUMsWUFBWTtZQUNwRCxPQUFPO1FBQ1Q7UUFFQSxNQUFNQyxRQUFRSixXQUFXSyxTQUFTLENBQUM7UUFDbkMsTUFBTUMsVUFBVUMsWUFBWUMsV0FBVyxDQUFDSjtRQUN4QyxJQUFJLENBQUNFLFNBQVM7WUFDWixPQUFPO1FBQ1Q7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTUcsUUFBUSxNQUFNZiwrQ0FBTUEsQ0FBQ2dCLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO1lBQzlDQyxPQUFPO2dCQUFFQyxJQUFJUCxRQUFRUSxPQUFPO1lBQUM7UUFDL0I7UUFFQSxJQUFJLENBQUNMLFNBQVMsQ0FBQ0EsTUFBTU0sUUFBUSxFQUFFO1lBQzdCLE9BQU87UUFDVDtRQUVBLE9BQU9OO0lBQ1QsRUFBRSxPQUFPTyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87SUFDVDtBQUNGO0FBRU8sTUFBTVQ7SUFDWCxhQUFhVyxhQUFhQyxRQUFnQixFQUFtQjtRQUMzRCxPQUFPM0Isb0RBQVcsQ0FBQzJCLFVBQVU7SUFDL0I7SUFFQSxhQUFhRSxnQkFBZ0JGLFFBQWdCLEVBQUVHLGNBQXNCLEVBQW9CO1FBQ3ZGLE9BQU85Qix1REFBYyxDQUFDMkIsVUFBVUc7SUFDbEM7SUFFQSxhQUFhRSxlQUFlTCxRQUFnQixFQUFFRyxjQUFzQixFQUFvQjtRQUN0RixPQUFPOUIsdURBQWMsQ0FBQzJCLFVBQVVHO0lBQ2xDO0lBRUEsT0FBT0csY0FBY25CLE9BQTBCLEVBQVU7UUFDdkQsT0FBT2Isd0RBQVEsQ0FBQ2EsU0FBU1gsWUFBWTtZQUFFZ0MsV0FBVztRQUFNO0lBQzFEO0lBRUEsT0FBT25CLFlBQVlKLEtBQWEsRUFBNEI7UUFDMUQsSUFBSTtZQUNGLE9BQU9YLDBEQUFVLENBQUNXLE9BQU9UO1FBQzNCLEVBQUUsT0FBT3FCLE9BQU87WUFDZCxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE9BQU9hLGtCQUEwQjtRQUMvQixNQUFNQyxNQUFNLElBQUlDO1FBQ2hCLE1BQU1DLE9BQU9GLElBQUlHLFdBQVcsR0FBR0MsUUFBUSxHQUFHN0IsU0FBUyxDQUFDLEdBQUcsS0FBSzs7UUFDNUQsTUFBTThCLFFBQVEsQ0FBQ0wsSUFBSU0sUUFBUSxLQUFLLEdBQUdGLFFBQVEsR0FBR0csUUFBUSxDQUFDLEdBQUc7UUFDMUQsTUFBTUMsTUFBTVIsSUFBSVMsT0FBTyxHQUFHTCxRQUFRLEdBQUdHLFFBQVEsQ0FBQyxHQUFHO1FBQ2pELE1BQU1HLE9BQU9WLElBQUlXLFFBQVEsR0FBR1AsUUFBUSxHQUFHRyxRQUFRLENBQUMsR0FBRztRQUNuRCxNQUFNSyxTQUFTWixJQUFJYSxVQUFVLEdBQUdULFFBQVEsR0FBR0csUUFBUSxDQUFDLEdBQUc7UUFFdkQsaUJBQWlCO1FBQ2pCLE1BQU1PLFNBQVNDLEtBQUtDLEtBQUssQ0FBQyxNQUFNRCxLQUFLRCxNQUFNLEtBQUssS0FBS1YsUUFBUTtRQUU3RCxPQUFPLENBQUMsR0FBRyxFQUFFRixLQUFLLEVBQUVHLE1BQU0sRUFBRUcsSUFBSSxFQUFFRSxLQUFLLEVBQUVFLE9BQU8sRUFBRUUsT0FBTyxDQUFDO0lBQzVEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcnAtYmFja2VuZC8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCBwcmlzbWEgZnJvbSAnLi9wcmlzbWEnXHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAneW91ci1zZWNyZXQta2V5J1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pblRva2VuUGF5bG9hZCB7XHJcbiAgYWRtaW5JZD86IHN0cmluZ1xyXG4gIHVzZXJJZD86IHN0cmluZ1xyXG4gIG9yZ0lkPzogc3RyaW5nXHJcbiAgb3JnQ29kZT86IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBuYW1lPzogc3RyaW5nXHJcbiAgcm9sZTogc3RyaW5nXHJcbiAgdHlwZT86ICdhZG1pbicgfCAnb3JnX2FkbWluJyB8ICdvcmdfdXNlcidcclxufVxyXG5cclxuLy8gVmVyaWZ5IGFkbWluIHRva2VuIGZyb20gcmVxdWVzdFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QWRtaW4ocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKVxyXG4gICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNylcclxuICAgIGNvbnN0IHBheWxvYWQgPSBBdXRoU2VydmljZS52ZXJpZnlUb2tlbih0b2tlbilcclxuICAgIGlmICghcGF5bG9hZCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBhZG1pbiDguKLguLHguIfguKHguLXguK3guKLguLnguYjguYPguJnguKPguLDguJrguJpcclxuICAgIGNvbnN0IGFkbWluID0gYXdhaXQgcHJpc21hLmFkbWluVXNlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuYWRtaW5JZCB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghYWRtaW4gfHwgIWFkbWluLmlzQWN0aXZlKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkbWluXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBhZG1pbjonLCBlcnJvcilcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2Uge1xyXG4gIHN0YXRpYyBhc3luYyBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEyKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2VuZXJhdGVUb2tlbihwYXlsb2FkOiBBZG1pblRva2VuUGF5bG9hZCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICcyNGgnIH0pXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZyk6IEFkbWluVG9rZW5QYXlsb2FkIHwgbnVsbCB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgQWRtaW5Ub2tlblBheWxvYWRcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2VuZXJhdGVPcmdDb2RlKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMikgLy8gMjVcclxuICAgIGNvbnN0IG1vbnRoID0gKG5vdy5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpXHJcbiAgICBjb25zdCBkYXkgPSBub3cuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gICAgY29uc3QgaG91ciA9IG5vdy5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gICAgY29uc3QgbWludXRlID0gbm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJylcclxuICAgIFxyXG4gICAgLy8g4Liq4Li44LmI4Lih4LmA4Lil4LiCIDMg4Lir4Lil4Lix4LiBXHJcbiAgICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKDEwMCArIE1hdGgucmFuZG9tKCkgKiA5MDApLnRvU3RyaW5nKClcclxuICAgIFxyXG4gICAgcmV0dXJuIGBPUkcke3llYXJ9JHttb250aH0ke2RheX0ke2hvdXJ9JHttaW51dGV9JHtyYW5kb219YFxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwicHJpc21hIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJ2ZXJpZnlBZG1pbiIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInN1YnN0cmluZyIsInBheWxvYWQiLCJBdXRoU2VydmljZSIsInZlcmlmeVRva2VuIiwiYWRtaW4iLCJhZG1pblVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImFkbWluSWQiLCJpc0FjdGl2ZSIsImVycm9yIiwiY29uc29sZSIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsImNvbXBhcmVQYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiY29tcGFyZSIsInZlcmlmeVBhc3N3b3JkIiwiZ2VuZXJhdGVUb2tlbiIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnkiLCJnZW5lcmF0ZU9yZ0NvZGUiLCJub3ciLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwidG9TdHJpbmciLCJtb250aCIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91ciIsImdldEhvdXJzIiwibWludXRlIiwiZ2V0TWludXRlcyIsInJhbmRvbSIsIk1hdGgiLCJmbG9vciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = globalThis.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalThis.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQU03QyxNQUFNQyxTQUFTQyxXQUFXRCxNQUFNLElBQUksSUFBSUQsd0RBQVlBO0FBRXBELElBQUlHLElBQXlCLEVBQWNELFdBQVdELE1BQU0sR0FBR0E7QUFFL0QsaUVBQWVBLE1BQU1BLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcnAtYmFja2VuZC8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICB2YXIgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcclxufVxyXG5cclxuY29uc3QgcHJpc21hID0gZ2xvYmFsVGhpcy5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsVGhpcy5wcmlzbWEgPSBwcmlzbWFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByaXNtYVxyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiZ2xvYmFsVGhpcyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();