/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/organizations/[id]/route";
exports.ids = ["app/api/admin/organizations/[id]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_flutter_erp_fluter_nextjs_tidb_backend_app_api_admin_organizations_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/organizations/[id]/route.ts */ \"(rsc)/./app/api/admin/organizations/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/organizations/[id]/route\",\n        pathname: \"/api/admin/organizations/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/organizations/[id]/route\"\n    },\n    resolvedPagePath: \"D:\\\\flutter\\\\erp_fluter_nextjs_tidb\\\\backend\\\\app\\\\api\\\\admin\\\\organizations\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_flutter_erp_fluter_nextjs_tidb_backend_app_api_admin_organizations_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/admin/organizations/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRm9yZ2FuaXphdGlvbnMlMkYlNUJpZCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZvcmdhbml6YXRpb25zJTJGJTVCaWQlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRm9yZ2FuaXphdGlvbnMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDZmx1dHRlciU1Q2VycF9mbHV0ZXJfbmV4dGpzX3RpZGIlNUNiYWNrZW5kJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDZmx1dHRlciU1Q2VycF9mbHV0ZXJfbmV4dGpzX3RpZGIlNUNiYWNrZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzRDO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJwLWJhY2tlbmQvPzZmZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcZmx1dHRlclxcXFxlcnBfZmx1dGVyX25leHRqc190aWRiXFxcXGJhY2tlbmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxvcmdhbml6YXRpb25zXFxcXFtpZF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL29yZ2FuaXphdGlvbnMvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FkbWluL29yZ2FuaXphdGlvbnMvW2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vb3JnYW5pemF0aW9ucy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcZmx1dHRlclxcXFxlcnBfZmx1dGVyX25leHRqc190aWRiXFxcXGJhY2tlbmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxvcmdhbml6YXRpb25zXFxcXFtpZF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vb3JnYW5pemF0aW9ucy9baWRdL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/organizations/[id]/route.ts":
/*!***************************************************!*\
  !*** ./app/api/admin/organizations/[id]/route.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/database-manager */ \"(rsc)/./lib/database-manager.ts\");\n\n\n\n\nasync function verifyAdmin(request) {\n    const authorization = request.headers.get(\"authorization\");\n    if (!authorization || !authorization.startsWith(\"Bearer \")) {\n        return null;\n    }\n    const token = authorization.split(\" \")[1];\n    const payload = _lib_auth__WEBPACK_IMPORTED_MODULE_2__.AuthService.verifyToken(token);\n    if (!payload) {\n        return null;\n    }\n    const admin = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].adminUser.findUnique({\n        where: {\n            id: payload.adminId\n        }\n    });\n    return admin?.isActive ? admin : null;\n}\n// GET - รายละเอียดองค์กร\nasync function GET(request, { params }) {\n    try {\n        const admin = await verifyAdmin(request);\n        if (!admin) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const organization = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findUnique({\n            where: {\n                id: params.id\n            },\n            include: {\n                users: {\n                    select: {\n                        id: true,\n                        email: true,\n                        name: true,\n                        role: true,\n                        isActive: true,\n                        createdAt: true\n                    }\n                }\n            }\n        });\n        if (!organization) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"ไม่พบองค์กรนี้\"\n            }, {\n                status: 404\n            });\n        }\n        // ดึงข้อมูล users จาก organization schema\n        let users = [];\n        if (organization.schemaName) {\n            const dbManager = _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__.DatabaseManager.getInstance();\n            users = await dbManager.getOrganizationUsers(organization.schemaName);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            organization: {\n                ...organization,\n                users\n            }\n        });\n    } catch (error) {\n        console.error(\"❌ Error fetching organization:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"เกิดข้อผิดพลาดในการดึงข้อมูล\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PATCH - อัพเดทสถานะองค์กร (อนุมัติ/ปฏิเสธ)\nasync function PATCH(request, { params }) {\n    try {\n        const admin = await verifyAdmin(request);\n        if (!admin) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { action, subscriptionPlan, subscriptionEnd, orgName, orgEmail, orgPhone, orgAddress, orgDescription, adminName, adminEmail } = body;\n        const organization = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findUnique({\n            where: {\n                id: params.id\n            }\n        });\n        if (!organization) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"ไม่พบองค์กรนี้\"\n            }, {\n                status: 404\n            });\n        }\n        let updateData = {};\n        let auditAction = \"\";\n        let dbManager = null;\n        switch(action){\n            case \"approve\":\n                if (organization.status !== \"PENDING\") {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"สามารถอนุมัติได้เฉพาะองค์กรที่มีสถานะรอการอนุมัติเท่านั้น\"\n                    }, {\n                        status: 400\n                    });\n                }\n                // สร้าง Database Schema สำหรับองค์กร\n                dbManager = _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__.DatabaseManager.getInstance();\n                const schemaName = await dbManager.createOrganizationSchema(organization.orgCode);\n                // สร้าง Super Admin User เริ่มต้น\n                const adminCredentials = await dbManager.createInitialAdminUser(schemaName, {\n                    email: organization.adminEmail,\n                    name: organization.adminName,\n                    orgCode: organization.orgCode // ใช้รหัสองค์กรสำหรับสร้างอีเมล admin_รหัสองค์กร\n                });\n                console.log(`📧 Super Admin credentials for ${organization.orgCode}:`, adminCredentials);\n                console.log(`🔑 Login URL: http://localhost:3000/admin/login`);\n                console.log(`📧 Email: ${adminCredentials.email}`);\n                console.log(`🔐 Password: ${adminCredentials.password}`);\n                updateData = {\n                    status: \"APPROVED\",\n                    isActive: true,\n                    approvedAt: new Date(),\n                    approvedBy: admin.id,\n                    schemaName,\n                    subscriptionPlan: subscriptionPlan || \"BASIC\",\n                    subscriptionStart: new Date(),\n                    subscriptionEnd: subscriptionEnd ? new Date(subscriptionEnd) : new Date(Date.now() + 365 * 24 * 60 * 60 * 1000) // 1 ปี\n                };\n                auditAction = \"APPROVE_ORGANIZATION\";\n                break;\n            case \"reject\":\n                updateData = {\n                    status: \"REJECTED\",\n                    isActive: false\n                };\n                auditAction = \"REJECT_ORGANIZATION\";\n                break;\n            case \"suspend\":\n                updateData = {\n                    status: \"SUSPENDED\",\n                    isActive: false\n                };\n                auditAction = \"SUSPEND_ORGANIZATION\";\n                break;\n            case \"reactivate\":\n                // Handle reactivation for different statuses\n                if (organization.status === \"SUSPENDED\") {\n                    updateData = {\n                        status: \"APPROVED\",\n                        isActive: true\n                    };\n                } else if (organization.status === \"REJECTED\") {\n                    // Re-approve rejected organization\n                    dbManager = _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__.DatabaseManager.getInstance();\n                    const schemaName = await dbManager.createOrganizationSchema(organization.orgCode);\n                    updateData = {\n                        status: \"APPROVED\",\n                        isActive: true,\n                        approvedAt: new Date(),\n                        approvedBy: admin.id,\n                        schemaName,\n                        subscriptionPlan: subscriptionPlan || \"BASIC\",\n                        subscriptionStart: new Date(),\n                        subscriptionEnd: subscriptionEnd ? new Date(subscriptionEnd) : new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)\n                    };\n                } else if (organization.status === \"EXPIRED\") {\n                    updateData = {\n                        status: \"APPROVED\",\n                        isActive: true,\n                        subscriptionEnd: subscriptionEnd ? new Date(subscriptionEnd) : new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)\n                    };\n                }\n                auditAction = \"REACTIVATE_ORGANIZATION\";\n                break;\n            case \"delete\":\n                // Delete organization and its schema if exists\n                if (organization.schemaName) {\n                    try {\n                        dbManager = _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__.DatabaseManager.getInstance();\n                        await dbManager.deleteOrganizationSchema(organization.schemaName);\n                    } catch (error) {\n                        console.warn(\"Warning: Could not drop schema:\", error);\n                    }\n                }\n                // Delete the organization record\n                await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.delete({\n                    where: {\n                        id: params.id\n                    }\n                });\n                // Log the deletion\n                await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].adminAuditLog.create({\n                    data: {\n                        adminId: admin.id,\n                        action: \"DELETE_ORGANIZATION\",\n                        target: params.id,\n                        details: {\n                            orgCode: organization.orgCode,\n                            orgName: organization.orgName,\n                            schemaName: organization.schemaName\n                        },\n                        ipAddress: request.headers.get(\"x-forwarded-for\") || \"unknown\",\n                        userAgent: request.headers.get(\"user-agent\") || \"unknown\"\n                    }\n                });\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: true,\n                    message: \"ลบองค์กรเรียบร้อยแล้ว\"\n                });\n            case \"extend\":\n                if (!subscriptionEnd) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"กรุณาระบุวันหมดอายุใหม่\"\n                    }, {\n                        status: 400\n                    });\n                }\n                updateData = {\n                    subscriptionEnd: new Date(subscriptionEnd),\n                    isActive: true,\n                    status: \"APPROVED\"\n                };\n                auditAction = \"EXTEND_SUBSCRIPTION\";\n                break;\n            case \"reactivate\":\n                updateData = {\n                    status: \"APPROVED\",\n                    isActive: true\n                };\n                auditAction = \"REACTIVATE_ORGANIZATION\";\n                break;\n            case \"update\":\n                // อัปเดตข้อมูลองค์กร\n                updateData = {};\n                if (orgName !== undefined) updateData.orgName = orgName;\n                if (orgEmail !== undefined) updateData.orgEmail = orgEmail;\n                if (orgPhone !== undefined) updateData.orgPhone = orgPhone;\n                if (orgAddress !== undefined) updateData.orgAddress = orgAddress;\n                if (orgDescription !== undefined) updateData.orgDescription = orgDescription;\n                if (adminName !== undefined) updateData.adminName = adminName;\n                if (adminEmail !== undefined) updateData.adminEmail = adminEmail;\n                auditAction = \"UPDATE_ORGANIZATION\";\n                break;\n            default:\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Action ไม่ถูกต้อง\"\n                }, {\n                    status: 400\n                });\n        }\n        // อัพเดทข้อมูลองค์กร\n        const updatedOrganization = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.update({\n            where: {\n                id: params.id\n            },\n            data: updateData\n        });\n        // บันทึก Audit Log\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].adminAuditLog.create({\n            data: {\n                adminId: admin.id,\n                action: auditAction,\n                target: params.id,\n                details: {\n                    orgCode: organization.orgCode,\n                    orgName: organization.orgName,\n                    previousStatus: organization.status,\n                    newStatus: updateData.status\n                },\n                ipAddress: request.headers.get(\"x-forwarded-for\") || \"unknown\",\n                userAgent: request.headers.get(\"user-agent\") || \"unknown\"\n            }\n        });\n        console.log(`✅ Organization ${organization.orgCode} ${action}ed by ${admin.email}`);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: `${action === \"approve\" ? \"อนุมัติ\" : action === \"reject\" ? \"ปฏิเสธ\" : action === \"suspend\" ? \"ระงับ\" : action === \"extend\" ? \"ต่ออายุ\" : action === \"update\" ? \"แก้ไขข้อมูล\" : action === \"reactivate\" ? \"เปิดใช้งาน\" : \"อัปเดต\"}องค์กรเรียบร้อยแล้ว`,\n            organization: updatedOrganization\n        });\n    } catch (error) {\n        console.error(\"❌ Error updating organization:\", error);\n        // ส่ง error message ที่ละเอียดกว่า\n        let errorMessage = \"เกิดข้อผิดพลาดในการอัพเดทข้อมูล\";\n        if (error instanceof Error) {\n            if (error.message.includes(\"Access denied\")) {\n                errorMessage = \"ไม่มีสิทธิ์ในการสร้าง Database Schema โปรดตรวจสอบการตั้งค่า Database\";\n            } else if (error.message.includes(\"Connection\")) {\n                errorMessage = \"ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้\";\n            } else {\n                errorMessage = `เกิดข้อผิดพลาด: ${error.message}`;\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - ลบองค์กร\nasync function DELETE(request, { params }) {\n    try {\n        const admin = await verifyAdmin(request);\n        if (!admin) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const organization = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findUnique({\n            where: {\n                id: params.id\n            }\n        });\n        if (!organization) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"ไม่พบองค์กรนี้\"\n            }, {\n                status: 404\n            });\n        }\n        // ลบ Database Schema ถ้ามี\n        if (organization.schemaName) {\n            const dbManager = _lib_database_manager__WEBPACK_IMPORTED_MODULE_3__.DatabaseManager.getInstance();\n            await dbManager.deleteOrganizationSchema(organization.schemaName);\n        }\n        // ลบข้อมูลองค์กร\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.delete({\n            where: {\n                id: params.id\n            }\n        });\n        // บันทึก Audit Log\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].adminAuditLog.create({\n            data: {\n                adminId: admin.id,\n                action: \"DELETE_ORGANIZATION\",\n                target: params.id,\n                details: {\n                    orgCode: organization.orgCode,\n                    orgName: organization.orgName,\n                    schemaName: organization.schemaName\n                },\n                ipAddress: request.headers.get(\"x-forwarded-for\") || \"unknown\",\n                userAgent: request.headers.get(\"user-agent\") || \"unknown\"\n            }\n        });\n        console.log(`🗑️ Organization ${organization.orgCode} deleted by ${admin.email}`);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"ลบองค์กรเรียบร้อยแล้ว\"\n        });\n    } catch (error) {\n        console.error(\"❌ Error deleting organization:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"เกิดข้อผิดพลาดในการลบข้อมูล\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL29yZ2FuaXphdGlvbnMvW2lkXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVEO0FBQ3RCO0FBQ087QUFDZ0I7QUFFeEQsZUFBZUksWUFBWUMsT0FBb0I7SUFDN0MsTUFBTUMsZ0JBQWdCRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztJQUMxQyxJQUFJLENBQUNGLGlCQUFpQixDQUFDQSxjQUFjRyxVQUFVLENBQUMsWUFBWTtRQUMxRCxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxRQUFRSixjQUFjSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDekMsTUFBTUMsVUFBVVYsa0RBQVdBLENBQUNXLFdBQVcsQ0FBQ0g7SUFFeEMsSUFBSSxDQUFDRSxTQUFTO1FBQ1osT0FBTztJQUNUO0lBRUEsTUFBTUUsUUFBUSxNQUFNYixtREFBTUEsQ0FBQ2MsU0FBUyxDQUFDQyxVQUFVLENBQUM7UUFDOUNDLE9BQU87WUFBRUMsSUFBSU4sUUFBUU8sT0FBTztRQUFDO0lBQy9CO0lBRUEsT0FBT0wsT0FBT00sV0FBV04sUUFBUTtBQUNuQztBQUVBLHlCQUF5QjtBQUNsQixlQUFlTyxJQUNwQmhCLE9BQW9CLEVBQ3BCLEVBQUVpQixNQUFNLEVBQThCO0lBRXRDLElBQUk7UUFDRixNQUFNUixRQUFRLE1BQU1WLFlBQVlDO1FBQ2hDLElBQUksQ0FBQ1MsT0FBTztZQUNWLE9BQU9kLGtGQUFZQSxDQUFDdUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWUsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BFO1FBRUEsTUFBTUMsZUFBZSxNQUFNekIsbURBQU1BLENBQUN5QixZQUFZLENBQUNWLFVBQVUsQ0FBQztZQUN4REMsT0FBTztnQkFBRUMsSUFBSUksT0FBT0osRUFBRTtZQUFDO1lBQ3ZCUyxTQUFTO2dCQUNQQyxPQUFPO29CQUNMQyxRQUFRO3dCQUNOWCxJQUFJO3dCQUNKWSxPQUFPO3dCQUNQQyxNQUFNO3dCQUNOQyxN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QUFFO1lBQUM7UUFDekI7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTWpCLG1EQUFNQSxDQUFDa0UsYUFBYSxDQUFDQyxNQUFNLENBQUM7WUFDaENDLE1BQU07Z0JBQ0psRCxTQUFTTCxNQUFNSSxFQUFFO2dCQUNqQnVCLFFBQVE7Z0JBQ1I2QixRQUFRaEQsT0FBT0osRUFBRTtnQkFDakJxRCxTQUFTO29CQUNQakIsU0FBUzVCLGFBQWE0QixPQUFPO29CQUM3QlYsU0FBU2xCLGFBQWFrQixPQUFPO29CQUM3QlYsWUFBWVIsYUFBYVEsVUFBVTtnQkFDckM7Z0JBQ0FzQyxXQUFXbkUsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCO2dCQUNyRGlFLFdBQVdwRSxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQkFBaUI7WUFDbEQ7UUFDRjtRQUVBOEIsUUFBUW1CLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFL0IsYUFBYTRCLE9BQU8sQ0FBQyxZQUFZLEVBQUV4QyxNQUFNZ0IsS0FBSyxDQUFDLENBQUM7UUFFaEYsT0FBTzlCLGtGQUFZQSxDQUFDdUIsSUFBSSxDQUFDO1lBQ3ZCbUQsU0FBUztZQUNUQyxTQUFTO1FBQ1g7SUFFRixFQUFFLE9BQU9uRCxPQUFPO1FBQ2RjLFFBQVFkLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU94QixrRkFBWUEsQ0FBQ3VCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUE4QixHQUN2QztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2VycC1iYWNrZW5kLy4vYXBwL2FwaS9hZG1pbi9vcmdhbml6YXRpb25zL1tpZF0vcm91dGUudHM/ZTYyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJ1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJ0AvbGliL2F1dGgnXHJcbmltcG9ydCB7IERhdGFiYXNlTWFuYWdlciB9IGZyb20gJ0AvbGliL2RhdGFiYXNlLW1hbmFnZXInXHJcblxyXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlBZG1pbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJylcclxuICBpZiAoIWF1dGhvcml6YXRpb24gfHwgIWF1dGhvcml6YXRpb24uc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV1cclxuICBjb25zdCBwYXlsb2FkID0gQXV0aFNlcnZpY2UudmVyaWZ5VG9rZW4odG9rZW4pXHJcbiAgXHJcbiAgaWYgKCFwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29uc3QgYWRtaW4gPSBhd2FpdCBwcmlzbWEuYWRtaW5Vc2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuYWRtaW5JZCB9XHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIGFkbWluPy5pc0FjdGl2ZSA/IGFkbWluIDogbnVsbFxyXG59XHJcblxyXG4vLyBHRVQgLSDguKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguK3guIfguITguYzguIHguKNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW4gPSBhd2FpdCB2ZXJpZnlBZG1pbihyZXF1ZXN0KVxyXG4gICAgaWYgKCFhZG1pbikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IGF3YWl0IHByaXNtYS5vcmdhbml6YXRpb24uZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXJhbXMuaWQgfSxcclxuICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgIHVzZXJzOiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgICAgICByb2xlOiB0cnVlLFxyXG4gICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghb3JnYW5pemF0aW9uKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn4LmE4Lih4LmI4Lie4Lia4Lit4LiH4LiE4LmM4LiB4Lij4LiZ4Li14LmJJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54LilIHVzZXJzIOC4iOC4suC4gSBvcmdhbml6YXRpb24gc2NoZW1hXHJcbiAgICBsZXQgdXNlcnM6IGFueVtdID0gW11cclxuICAgIGlmIChvcmdhbml6YXRpb24uc2NoZW1hTmFtZSkge1xyXG4gICAgICBjb25zdCBkYk1hbmFnZXIgPSBEYXRhYmFzZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gICAgICB1c2VycyA9IGF3YWl0IGRiTWFuYWdlci5nZXRPcmdhbml6YXRpb25Vc2Vycyhvcmdhbml6YXRpb24uc2NoZW1hTmFtZSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgb3JnYW5pemF0aW9uOiB7XHJcbiAgICAgICAgLi4ub3JnYW5pemF0aW9uLFxyXG4gICAgICAgIHVzZXJzXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgb3JnYW5pemF0aW9uOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAn4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LmD4LiZ4LiB4Liy4Lij4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54LilJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbi8vIFBBVENIIC0g4Lit4Lix4Lie4LmA4LiU4LiX4Liq4LiW4Liy4LiZ4Liw4Lit4LiH4LiE4LmM4LiB4LijICjguK3guJnguLjguKHguLHguJXguLQv4Lib4LiP4Li04LmA4Liq4LiYKVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0goXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFkbWluID0gYXdhaXQgdmVyaWZ5QWRtaW4ocmVxdWVzdClcclxuICAgIGlmICghYWRtaW4pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgIGNvbnN0IHsgYWN0aW9uLCBzdWJzY3JpcHRpb25QbGFuLCBzdWJzY3JpcHRpb25FbmQsIG9yZ05hbWUsIG9yZ0VtYWlsLCBvcmdQaG9uZSwgb3JnQWRkcmVzcywgb3JnRGVzY3JpcHRpb24sIGFkbWluTmFtZSwgYWRtaW5FbWFpbCB9ID0gYm9keVxyXG5cclxuICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IGF3YWl0IHByaXNtYS5vcmdhbml6YXRpb24uZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXJhbXMuaWQgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoIW9yZ2FuaXphdGlvbikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ+C5hOC4oeC5iOC4nuC4muC4reC4h+C4hOC5jOC4geC4o+C4meC4teC5iScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCB1cGRhdGVEYXRhOiBhbnkgPSB7fVxyXG4gICAgbGV0IGF1ZGl0QWN0aW9uID0gJydcclxuICAgIGxldCBkYk1hbmFnZXI6IERhdGFiYXNlTWFuYWdlciB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgY2FzZSAnYXBwcm92ZSc6XHJcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbi5zdGF0dXMgIT09ICdQRU5ESU5HJykge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IGVycm9yOiAn4Liq4Liy4Lih4Liy4Lij4LiW4Lit4LiZ4Li44Lih4Lix4LiV4Li04LmE4LiU4LmJ4LmA4LiJ4Lie4Liy4Liw4Lit4LiH4LiE4LmM4LiB4Lij4LiX4Li14LmI4Lih4Li14Liq4LiW4Liy4LiZ4Liw4Lij4Lit4LiB4Liy4Lij4Lit4LiZ4Li44Lih4Lix4LiV4Li04LmA4LiX4LmI4Liy4LiZ4Lix4LmJ4LiZJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOC4quC4o+C5ieC4suC4hyBEYXRhYmFzZSBTY2hlbWEg4Liq4Liz4Lir4Lij4Lix4Lia4Lit4LiH4LiE4LmM4LiB4LijXHJcbiAgICAgICAgZGJNYW5hZ2VyID0gRGF0YWJhc2VNYW5hZ2VyLmdldEluc3RhbmNlKClcclxuICAgICAgICBjb25zdCBzY2hlbWFOYW1lID0gYXdhaXQgZGJNYW5hZ2VyLmNyZWF0ZU9yZ2FuaXphdGlvblNjaGVtYShvcmdhbml6YXRpb24ub3JnQ29kZSlcclxuICAgICAgICBcclxuICAgICAgICAvLyDguKrguKPguYnguLLguIcgU3VwZXIgQWRtaW4gVXNlciDguYDguKPguLTguYjguKHguJXguYnguJlcclxuICAgICAgICBjb25zdCBhZG1pbkNyZWRlbnRpYWxzID0gYXdhaXQgZGJNYW5hZ2VyLmNyZWF0ZUluaXRpYWxBZG1pblVzZXIoc2NoZW1hTmFtZSwge1xyXG4gICAgICAgICAgZW1haWw6IG9yZ2FuaXphdGlvbi5hZG1pbkVtYWlsLCAvLyDguYTguKHguYjguYPguIrguYnguK3guLXguYDguKHguKXguJnguLXguYnguYHguKXguYnguKdcclxuICAgICAgICAgIG5hbWU6IG9yZ2FuaXphdGlvbi5hZG1pbk5hbWUsICAgLy8g4LmE4Lih4LmI4LmD4LiK4LmJ4LiK4Li34LmI4Lit4LiZ4Li14LmJ4LmB4Lil4LmJ4LinXHJcbiAgICAgICAgICBvcmdDb2RlOiBvcmdhbml6YXRpb24ub3JnQ29kZSAgIC8vIOC5g+C4iuC5ieC4o+C4q+C4seC4quC4reC4h+C4hOC5jOC4geC4o+C4quC4s+C4q+C4o+C4seC4muC4quC4o+C5ieC4suC4h+C4reC4teC5gOC4oeC4pSBhZG1pbl/guKPguKvguLHguKrguK3guIfguITguYzguIHguKNcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OnIFN1cGVyIEFkbWluIGNyZWRlbnRpYWxzIGZvciAke29yZ2FuaXphdGlvbi5vcmdDb2RlfTpgLCBhZG1pbkNyZWRlbnRpYWxzKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SRIExvZ2luIFVSTDogaHR0cDovL2xvY2FsaG9zdDozMDAwL2FkbWluL2xvZ2luYClcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TpyBFbWFpbDogJHthZG1pbkNyZWRlbnRpYWxzLmVtYWlsfWApXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCflJAgUGFzc3dvcmQ6ICR7YWRtaW5DcmVkZW50aWFscy5wYXNzd29yZH1gKVxyXG5cclxuICAgICAgICB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnLFxyXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICBhcHByb3ZlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgYXBwcm92ZWRCeTogYWRtaW4uaWQsXHJcbiAgICAgICAgICBzY2hlbWFOYW1lLFxyXG4gICAgICAgICAgc3Vic2NyaXB0aW9uUGxhbjogc3Vic2NyaXB0aW9uUGxhbiB8fCAnQkFTSUMnLFxyXG4gICAgICAgICAgc3Vic2NyaXB0aW9uU3RhcnQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25FbmQ6IHN1YnNjcmlwdGlvbkVuZCA/IG5ldyBEYXRlKHN1YnNjcmlwdGlvbkVuZCkgOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMSDguJvguLVcclxuICAgICAgICB9XHJcbiAgICAgICAgYXVkaXRBY3Rpb24gPSAnQVBQUk9WRV9PUkdBTklaQVRJT04nXHJcbiAgICAgICAgYnJlYWtcclxuXHJcbiAgICAgIGNhc2UgJ3JlamVjdCc6XHJcbiAgICAgICAgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgIHN0YXR1czogJ1JFSkVDVEVEJyxcclxuICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBhdWRpdEFjdGlvbiA9ICdSRUpFQ1RfT1JHQU5JWkFUSU9OJ1xyXG4gICAgICAgIGJyZWFrXHJcblxyXG4gICAgICBjYXNlICdzdXNwZW5kJzpcclxuICAgICAgICB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgc3RhdHVzOiAnU1VTUEVOREVEJyxcclxuICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBhdWRpdEFjdGlvbiA9ICdTVVNQRU5EX09SR0FOSVpBVElPTidcclxuICAgICAgICBicmVha1xyXG5cclxuICAgICAgY2FzZSAncmVhY3RpdmF0ZSc6XHJcbiAgICAgICAgLy8gSGFuZGxlIHJlYWN0aXZhdGlvbiBmb3IgZGlmZmVyZW50IHN0YXR1c2VzXHJcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbi5zdGF0dXMgPT09ICdTVVNQRU5ERUQnKSB7XHJcbiAgICAgICAgICB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6ICdBUFBST1ZFRCcsXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcmdhbml6YXRpb24uc3RhdHVzID09PSAnUkVKRUNURUQnKSB7XHJcbiAgICAgICAgICAvLyBSZS1hcHByb3ZlIHJlamVjdGVkIG9yZ2FuaXphdGlvblxyXG4gICAgICAgICAgZGJNYW5hZ2VyID0gRGF0YWJhc2VNYW5hZ2VyLmdldEluc3RhbmNlKClcclxuICAgICAgICAgIGNvbnN0IHNjaGVtYU5hbWUgPSBhd2FpdCBkYk1hbmFnZXIuY3JlYXRlT3JnYW5pemF0aW9uU2NoZW1hKG9yZ2FuaXphdGlvbi5vcmdDb2RlKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6ICdBUFBST1ZFRCcsXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBhcHByb3ZlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBhcHByb3ZlZEJ5OiBhZG1pbi5pZCxcclxuICAgICAgICAgICAgc2NoZW1hTmFtZSxcclxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uUGxhbjogc3Vic2NyaXB0aW9uUGxhbiB8fCAnQkFTSUMnLFxyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25TdGFydDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRW5kOiBzdWJzY3JpcHRpb25FbmQgPyBuZXcgRGF0ZShzdWJzY3JpcHRpb25FbmQpIDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcmdhbml6YXRpb24uc3RhdHVzID09PSAnRVhQSVJFRCcpIHtcclxuICAgICAgICAgIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogJ0FQUFJPVkVEJyxcclxuICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkVuZDogc3Vic2NyaXB0aW9uRW5kID8gbmV3IERhdGUoc3Vic2NyaXB0aW9uRW5kKSA6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhdWRpdEFjdGlvbiA9ICdSRUFDVElWQVRFX09SR0FOSVpBVElPTidcclxuICAgICAgICBicmVha1xyXG5cclxuICAgICAgY2FzZSAnZGVsZXRlJzpcclxuICAgICAgICAvLyBEZWxldGUgb3JnYW5pemF0aW9uIGFuZCBpdHMgc2NoZW1hIGlmIGV4aXN0c1xyXG4gICAgICAgIGlmIChvcmdhbml6YXRpb24uc2NoZW1hTmFtZSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZGJNYW5hZ2VyID0gRGF0YWJhc2VNYW5hZ2VyLmdldEluc3RhbmNlKClcclxuICAgICAgICAgICAgYXdhaXQgZGJNYW5hZ2VyLmRlbGV0ZU9yZ2FuaXphdGlvblNjaGVtYShvcmdhbml6YXRpb24uc2NoZW1hTmFtZSlcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogQ291bGQgbm90IGRyb3Agc2NoZW1hOicsIGVycm9yKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVsZXRlIHRoZSBvcmdhbml6YXRpb24gcmVjb3JkXHJcbiAgICAgICAgYXdhaXQgcHJpc21hLm9yZ2FuaXphdGlvbi5kZWxldGUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IHBhcmFtcy5pZCB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gTG9nIHRoZSBkZWxldGlvblxyXG4gICAgICAgIGF3YWl0IHByaXNtYS5hZG1pbkF1ZGl0TG9nLmNyZWF0ZSh7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGFkbWluSWQ6IGFkbWluLmlkLFxyXG4gICAgICAgICAgICBhY3Rpb246ICdERUxFVEVfT1JHQU5JWkFUSU9OJyxcclxuICAgICAgICAgICAgdGFyZ2V0OiBwYXJhbXMuaWQsXHJcbiAgICAgICAgICAgIGRldGFpbHM6IHtcclxuICAgICAgICAgICAgICBvcmdDb2RlOiBvcmdhbml6YXRpb24ub3JnQ29kZSxcclxuICAgICAgICAgICAgICBvcmdOYW1lOiBvcmdhbml6YXRpb24ub3JnTmFtZSxcclxuICAgICAgICAgICAgICBzY2hlbWFOYW1lOiBvcmdhbml6YXRpb24uc2NoZW1hTmFtZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpcEFkZHJlc3M6IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJyxcclxuICAgICAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn4Lil4Lia4Lit4LiH4LiE4LmM4LiB4Lij4LmA4Lij4Li14Lii4Lia4Lij4LmJ4Lit4Lii4LmB4Lil4LmJ4LinJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICBjYXNlICdleHRlbmQnOlxyXG4gICAgICAgIGlmICghc3Vic2NyaXB0aW9uRW5kKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgZXJyb3I6ICfguIHguKPguLjguJPguLLguKPguLDguJrguLjguKfguLHguJnguKvguKHguJTguK3guLLguKLguLjguYPguKvguKHguYgnIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgIHN1YnNjcmlwdGlvbkVuZDogbmV3IERhdGUoc3Vic2NyaXB0aW9uRW5kKSxcclxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF1ZGl0QWN0aW9uID0gJ0VYVEVORF9TVUJTQ1JJUFRJT04nXHJcbiAgICAgICAgYnJlYWtcclxuXHJcbiAgICAgIGNhc2UgJ3JlYWN0aXZhdGUnOlxyXG4gICAgICAgIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICBzdGF0dXM6ICdBUFBST1ZFRCcsXHJcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBhdWRpdEFjdGlvbiA9ICdSRUFDVElWQVRFX09SR0FOSVpBVElPTidcclxuICAgICAgICBicmVha1xyXG5cclxuICAgICAgY2FzZSAndXBkYXRlJzpcclxuICAgICAgICAvLyDguK3guLHguJvguYDguJTguJXguILguYnguK3guKHguLnguKXguK3guIfguITguYzguIHguKNcclxuICAgICAgICB1cGRhdGVEYXRhID0ge31cclxuICAgICAgICBcclxuICAgICAgICBpZiAob3JnTmFtZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm9yZ05hbWUgPSBvcmdOYW1lXHJcbiAgICAgICAgaWYgKG9yZ0VtYWlsICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEub3JnRW1haWwgPSBvcmdFbWFpbFxyXG4gICAgICAgIGlmIChvcmdQaG9uZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm9yZ1Bob25lID0gb3JnUGhvbmVcclxuICAgICAgICBpZiAob3JnQWRkcmVzcyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm9yZ0FkZHJlc3MgPSBvcmdBZGRyZXNzXHJcbiAgICAgICAgaWYgKG9yZ0Rlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEub3JnRGVzY3JpcHRpb24gPSBvcmdEZXNjcmlwdGlvblxyXG4gICAgICAgIGlmIChhZG1pbk5hbWUgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5hZG1pbk5hbWUgPSBhZG1pbk5hbWVcclxuICAgICAgICBpZiAoYWRtaW5FbWFpbCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmFkbWluRW1haWwgPSBhZG1pbkVtYWlsXHJcblxyXG4gICAgICAgIGF1ZGl0QWN0aW9uID0gJ1VQREFURV9PUkdBTklaQVRJT04nXHJcbiAgICAgICAgYnJlYWtcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBlcnJvcjogJ0FjdGlvbiDguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g4Lit4Lix4Lie4LmA4LiU4LiX4LiC4LmJ4Lit4Lih4Li54Lil4Lit4LiH4LiE4LmM4LiB4LijXHJcbiAgICBjb25zdCB1cGRhdGVkT3JnYW5pemF0aW9uID0gYXdhaXQgcHJpc21hLm9yZ2FuaXphdGlvbi51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogcGFyYW1zLmlkIH0sXHJcbiAgICAgIGRhdGE6IHVwZGF0ZURhdGFcclxuICAgIH0pXHJcblxyXG4gICAgLy8g4Lia4Lix4LiZ4LiX4Li24LiBIEF1ZGl0IExvZ1xyXG4gICAgYXdhaXQgcHJpc21hLmFkbWluQXVkaXRMb2cuY3JlYXRlKHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGFkbWluSWQ6IGFkbWluLmlkLFxyXG4gICAgICAgIGFjdGlvbjogYXVkaXRBY3Rpb24sXHJcbiAgICAgICAgdGFyZ2V0OiBwYXJhbXMuaWQsXHJcbiAgICAgICAgZGV0YWlsczoge1xyXG4gICAgICAgICAgb3JnQ29kZTogb3JnYW5pemF0aW9uLm9yZ0NvZGUsXHJcbiAgICAgICAgICBvcmdOYW1lOiBvcmdhbml6YXRpb24ub3JnTmFtZSxcclxuICAgICAgICAgIHByZXZpb3VzU3RhdHVzOiBvcmdhbml6YXRpb24uc3RhdHVzLFxyXG4gICAgICAgICAgbmV3U3RhdHVzOiB1cGRhdGVEYXRhLnN0YXR1c1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXBBZGRyZXNzOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc29sZS5sb2coYOKchSBPcmdhbml6YXRpb24gJHtvcmdhbml6YXRpb24ub3JnQ29kZX0gJHthY3Rpb259ZWQgYnkgJHthZG1pbi5lbWFpbH1gKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IGAke1xyXG4gICAgICAgIGFjdGlvbiA9PT0gJ2FwcHJvdmUnID8gJ+C4reC4meC4uOC4oeC4seC4leC4tCcgOiBcclxuICAgICAgICBhY3Rpb24gPT09ICdyZWplY3QnID8gJ+C4m+C4j+C4tOC5gOC4quC4mCcgOiBcclxuICAgICAgICBhY3Rpb24gPT09ICdzdXNwZW5kJyA/ICfguKPguLDguIfguLHguJonIDogXHJcbiAgICAgICAgYWN0aW9uID09PSAnZXh0ZW5kJyA/ICfguJXguYjguK3guK3guLLguKLguLgnIDpcclxuICAgICAgICBhY3Rpb24gPT09ICd1cGRhdGUnID8gJ+C5geC4geC5ieC5hOC4guC4guC5ieC4reC4oeC4ueC4pScgOlxyXG4gICAgICAgIGFjdGlvbiA9PT0gJ3JlYWN0aXZhdGUnID8gJ+C5gOC4m+C4tOC4lOC5g+C4iuC5ieC4h+C4suC4mScgOlxyXG4gICAgICAgICfguK3guLHguJvguYDguJTguJUnXHJcbiAgICAgIH3guK3guIfguITguYzguIHguKPguYDguKPguLXguKLguJrguKPguYnguK3guKLguYHguKXguYnguKdgLFxyXG4gICAgICBvcmdhbml6YXRpb246IHVwZGF0ZWRPcmdhbml6YXRpb25cclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgdXBkYXRpbmcgb3JnYW5pemF0aW9uOicsIGVycm9yKVxyXG4gICAgXHJcbiAgICAvLyDguKrguYjguIcgZXJyb3IgbWVzc2FnZSDguJfguLXguYjguKXguLDguYDguK3guLXguKLguJTguIHguKfguYjguLJcclxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSAn4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LmD4LiZ4LiB4Liy4Lij4Lit4Lix4Lie4LmA4LiU4LiX4LiC4LmJ4Lit4Lih4Li54LilJ1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQWNjZXNzIGRlbmllZCcpKSB7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gJ+C5hOC4oeC5iOC4oeC4teC4quC4tOC4l+C4mOC4tOC5jOC5g+C4meC4geC4suC4o+C4quC4o+C5ieC4suC4hyBEYXRhYmFzZSBTY2hlbWEg4LmC4Lib4Lij4LiU4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LiB4Liy4Lij4LiV4Lix4LmJ4LiH4LiE4LmI4LiyIERhdGFiYXNlJ1xyXG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0Nvbm5lY3Rpb24nKSkge1xyXG4gICAgICAgIGVycm9yTWVzc2FnZSA9ICfguYTguKHguYjguKrguLLguKHguLLguKPguJbguYDguIrguLfguYjguK3guKHguJXguYjguK3guIHguLHguJrguJDguLLguJnguILguYnguK3guKHguLnguKXguYTguJTguYknXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYOC5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lDogJHtlcnJvci5tZXNzYWdlfWBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbi8vIERFTEVURSAtIOC4peC4muC4reC4h+C4hOC5jOC4geC4o1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhZG1pbiA9IGF3YWl0IHZlcmlmeUFkbWluKHJlcXVlc3QpXHJcbiAgICBpZiAoIWFkbWluKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3JnYW5pemF0aW9uID0gYXdhaXQgcHJpc21hLm9yZ2FuaXphdGlvbi5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IHBhcmFtcy5pZCB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghb3JnYW5pemF0aW9uKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn4LmE4Lih4LmI4Lie4Lia4Lit4LiH4LiE4LmM4LiB4Lij4LiZ4Li14LmJJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g4Lil4LiaIERhdGFiYXNlIFNjaGVtYSDguJbguYnguLLguKHguLVcclxuICAgIGlmIChvcmdhbml6YXRpb24uc2NoZW1hTmFtZSkge1xyXG4gICAgICBjb25zdCBkYk1hbmFnZXIgPSBEYXRhYmFzZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gICAgICBhd2FpdCBkYk1hbmFnZXIuZGVsZXRlT3JnYW5pemF0aW9uU2NoZW1hKG9yZ2FuaXphdGlvbi5zY2hlbWFOYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOC4peC4muC4guC5ieC4reC4oeC4ueC4peC4reC4h+C4hOC5jOC4geC4o1xyXG4gICAgYXdhaXQgcHJpc21hLm9yZ2FuaXphdGlvbi5kZWxldGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogcGFyYW1zLmlkIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8g4Lia4Lix4LiZ4LiX4Li24LiBIEF1ZGl0IExvZ1xyXG4gICAgYXdhaXQgcHJpc21hLmFkbWluQXVkaXRMb2cuY3JlYXRlKHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGFkbWluSWQ6IGFkbWluLmlkLFxyXG4gICAgICAgIGFjdGlvbjogJ0RFTEVURV9PUkdBTklaQVRJT04nLFxyXG4gICAgICAgIHRhcmdldDogcGFyYW1zLmlkLFxyXG4gICAgICAgIGRldGFpbHM6IHtcclxuICAgICAgICAgIG9yZ0NvZGU6IG9yZ2FuaXphdGlvbi5vcmdDb2RlLFxyXG4gICAgICAgICAgb3JnTmFtZTogb3JnYW5pemF0aW9uLm9yZ05hbWUsXHJcbiAgICAgICAgICBzY2hlbWFOYW1lOiBvcmdhbml6YXRpb24uc2NoZW1hTmFtZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXBBZGRyZXNzOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc29sZS5sb2coYPCfl5HvuI8gT3JnYW5pemF0aW9uICR7b3JnYW5pemF0aW9uLm9yZ0NvZGV9IGRlbGV0ZWQgYnkgJHthZG1pbi5lbWFpbH1gKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfguKXguJrguK3guIfguITguYzguIHguKPguYDguKPguLXguKLguJrguKPguYnguK3guKLguYHguKXguYnguKcnXHJcbiAgICB9KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGRlbGV0aW5nIG9yZ2FuaXphdGlvbjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ+C5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lOC5g+C4meC4geC4suC4o+C4peC4muC4guC5ieC4reC4oeC4ueC4pScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJBdXRoU2VydmljZSIsIkRhdGFiYXNlTWFuYWdlciIsInZlcmlmeUFkbWluIiwicmVxdWVzdCIsImF1dGhvcml6YXRpb24iLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsInRva2VuIiwic3BsaXQiLCJwYXlsb2FkIiwidmVyaWZ5VG9rZW4iLCJhZG1pbiIsImFkbWluVXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiYWRtaW5JZCIsImlzQWN0aXZlIiwiR0VUIiwicGFyYW1zIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwib3JnYW5pemF0aW9uIiwiaW5jbHVkZSIsInVzZXJzIiwic2VsZWN0IiwiZW1haWwiLCJuYW1lIiwicm9sZSIsImNyZWF0ZWRBdCIsInNjaGVtYU5hbWUiLCJkYk1hbmFnZXIiLCJnZXRJbnN0YW5jZSIsImdldE9yZ2FuaXphdGlvblVzZXJzIiwiY29uc29sZSIsIlBBVENIIiwiYm9keSIsImFjdGlvbiIsInN1YnNjcmlwdGlvblBsYW4iLCJzdWJzY3JpcHRpb25FbmQiLCJvcmdOYW1lIiwib3JnRW1haWwiLCJvcmdQaG9uZSIsIm9yZ0FkZHJlc3MiLCJvcmdEZXNjcmlwdGlvbiIsImFkbWluTmFtZSIsImFkbWluRW1haWwiLCJ1cGRhdGVEYXRhIiwiYXVkaXRBY3Rpb24iLCJjcmVhdGVPcmdhbml6YXRpb25TY2hlbWEiLCJvcmdDb2RlIiwiYWRtaW5DcmVkZW50aWFscyIsImNyZWF0ZUluaXRpYWxBZG1pblVzZXIiLCJsb2ciLCJwYXNzd29yZCIsImFwcHJvdmVkQXQiLCJEYXRlIiwiYXBwcm92ZWRCeSIsInN1YnNjcmlwdGlvblN0YXJ0Iiwibm93IiwiZGVsZXRlT3JnYW5pemF0aW9uU2NoZW1hIiwid2FybiIsImRlbGV0ZSIsImFkbWluQXVkaXRMb2ciLCJjcmVhdGUiLCJkYXRhIiwidGFyZ2V0IiwiZGV0YWlscyIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwidXBkYXRlZE9yZ2FuaXphdGlvbiIsInVwZGF0ZSIsInByZXZpb3VzU3RhdHVzIiwibmV3U3RhdHVzIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJpbmNsdWRlcyIsIkRFTEVURSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/organizations/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService),\n/* harmony export */   verifyAdmin: () => (/* binding */ verifyAdmin)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n\n\n\nconst JWT_SECRET = \"your-super-secret-jwt-key-change-this-in-production\" || 0;\n// Verify admin token from request\nasync function verifyAdmin(request) {\n    try {\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n            return null;\n        }\n        const token = authHeader.substring(7);\n        const payload = AuthService.verifyToken(token);\n        if (!payload) {\n            return null;\n        }\n        // ตรวจสอบว่า admin ยังมีอยู่ในระบบ\n        const admin = await _prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].adminUser.findUnique({\n            where: {\n                id: payload.adminId\n            }\n        });\n        if (!admin || !admin.isActive) {\n            return null;\n        }\n        return admin;\n    } catch (error) {\n        console.error(\"Error verifying admin:\", error);\n        return null;\n    }\n}\nclass AuthService {\n    static async hashPassword(password) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n    }\n    static async comparePassword(password, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n    }\n    static async verifyPassword(password, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n    }\n    static generateToken(payload) {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign(payload, JWT_SECRET, {\n            expiresIn: \"24h\"\n        });\n    }\n    static verifyToken(token) {\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n    static generateOrgCode() {\n        const now = new Date();\n        const year = now.getFullYear().toString().substring(2) // 25\n        ;\n        const month = (now.getMonth() + 1).toString().padStart(2, \"0\");\n        const day = now.getDate().toString().padStart(2, \"0\");\n        const hour = now.getHours().toString().padStart(2, \"0\");\n        const minute = now.getMinutes().toString().padStart(2, \"0\");\n        // สุ่มเลข 3 หลัก\n        const random = Math.floor(100 + Math.random() * 900).toString();\n        return `ORG${year}${month}${day}${hour}${minute}${random}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZCO0FBQ0M7QUFFRDtBQUU3QixNQUFNRyxhQUFhQyxxREFBc0IsSUFBSTtBQWE3QyxrQ0FBa0M7QUFDM0IsZUFBZUUsWUFBWUMsT0FBb0I7SUFDcEQsSUFBSTtRQUNGLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBQ3ZDLElBQUksQ0FBQ0YsY0FBYyxDQUFDQSxXQUFXRyxVQUFVLENBQUMsWUFBWTtZQUNwRCxPQUFPO1FBQ1Q7UUFFQSxNQUFNQyxRQUFRSixXQUFXSyxTQUFTLENBQUM7UUFDbkMsTUFBTUMsVUFBVUMsWUFBWUMsV0FBVyxDQUFDSjtRQUN4QyxJQUFJLENBQUNFLFNBQVM7WUFDWixPQUFPO1FBQ1Q7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTUcsUUFBUSxNQUFNZiwrQ0FBTUEsQ0FBQ2dCLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO1lBQzlDQyxPQUFPO2dCQUFFQyxJQUFJUCxRQUFRUSxPQUFPO1lBQUM7UUFDL0I7UUFFQSxJQUFJLENBQUNMLFNBQVMsQ0FBQ0EsTUFBTU0sUUFBUSxFQUFFO1lBQzdCLE9BQU87UUFDVDtRQUVBLE9BQU9OO0lBQ1QsRUFBRSxPQUFPTyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87SUFDVDtBQUNGO0FBRU8sTUFBTVQ7SUFDWCxhQUFhVyxhQUFhQyxRQUFnQixFQUFtQjtRQUMzRCxPQUFPM0Isb0RBQVcsQ0FBQzJCLFVBQVU7SUFDL0I7SUFFQSxhQUFhRSxnQkFBZ0JGLFFBQWdCLEVBQUVHLGNBQXNCLEVBQW9CO1FBQ3ZGLE9BQU85Qix1REFBYyxDQUFDMkIsVUFBVUc7SUFDbEM7SUFFQSxhQUFhRSxlQUFlTCxRQUFnQixFQUFFRyxjQUFzQixFQUFvQjtRQUN0RixPQUFPOUIsdURBQWMsQ0FBQzJCLFVBQVVHO0lBQ2xDO0lBRUEsT0FBT0csY0FBY25CLE9BQTBCLEVBQVU7UUFDdkQsT0FBT2Isd0RBQVEsQ0FBQ2EsU0FBU1gsWUFBWTtZQUFFZ0MsV0FBVztRQUFNO0lBQzFEO0lBRUEsT0FBT25CLFlBQVlKLEtBQWEsRUFBNEI7UUFDMUQsSUFBSTtZQUNGLE9BQU9YLDBEQUFVLENBQUNXLE9BQU9UO1FBQzNCLEVBQUUsT0FBT3FCLE9BQU87WUFDZCxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE9BQU9hLGtCQUEwQjtRQUMvQixNQUFNQyxNQUFNLElBQUlDO1FBQ2hCLE1BQU1DLE9BQU9GLElBQUlHLFdBQVcsR0FBR0MsUUFBUSxHQUFHN0IsU0FBUyxDQUFDLEdBQUcsS0FBSzs7UUFDNUQsTUFBTThCLFFBQVEsQ0FBQ0wsSUFBSU0sUUFBUSxLQUFLLEdBQUdGLFFBQVEsR0FBR0csUUFBUSxDQUFDLEdBQUc7UUFDMUQsTUFBTUMsTUFBTVIsSUFBSVMsT0FBTyxHQUFHTCxRQUFRLEdBQUdHLFFBQVEsQ0FBQyxHQUFHO1FBQ2pELE1BQU1HLE9BQU9WLElBQUlXLFFBQVEsR0FBR1AsUUFBUSxHQUFHRyxRQUFRLENBQUMsR0FBRztRQUNuRCxNQUFNSyxTQUFTWixJQUFJYSxVQUFVLEdBQUdULFFBQVEsR0FBR0csUUFBUSxDQUFDLEdBQUc7UUFFdkQsaUJBQWlCO1FBQ2pCLE1BQU1PLFNBQVNDLEtBQUtDLEtBQUssQ0FBQyxNQUFNRCxLQUFLRCxNQUFNLEtBQUssS0FBS1YsUUFBUTtRQUU3RCxPQUFPLENBQUMsR0FBRyxFQUFFRixLQUFLLEVBQUVHLE1BQU0sRUFBRUcsSUFBSSxFQUFFRSxLQUFLLEVBQUVFLE9BQU8sRUFBRUUsT0FBTyxDQUFDO0lBQzVEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcnAtYmFja2VuZC8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCBwcmlzbWEgZnJvbSAnLi9wcmlzbWEnXHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAneW91ci1zZWNyZXQta2V5J1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZG1pblRva2VuUGF5bG9hZCB7XHJcbiAgYWRtaW5JZD86IHN0cmluZ1xyXG4gIHVzZXJJZD86IHN0cmluZ1xyXG4gIG9yZ0lkPzogc3RyaW5nXHJcbiAgb3JnQ29kZT86IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBuYW1lPzogc3RyaW5nXHJcbiAgcm9sZTogc3RyaW5nXHJcbiAgdHlwZT86ICdhZG1pbicgfCAnb3JnX2FkbWluJyB8ICdvcmdfdXNlcidcclxufVxyXG5cclxuLy8gVmVyaWZ5IGFkbWluIHRva2VuIGZyb20gcmVxdWVzdFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QWRtaW4ocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKVxyXG4gICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNylcclxuICAgIGNvbnN0IHBheWxvYWQgPSBBdXRoU2VydmljZS52ZXJpZnlUb2tlbih0b2tlbilcclxuICAgIGlmICghcGF5bG9hZCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBhZG1pbiDguKLguLHguIfguKHguLXguK3guKLguLnguYjguYPguJnguKPguLDguJrguJpcclxuICAgIGNvbnN0IGFkbWluID0gYXdhaXQgcHJpc21hLmFkbWluVXNlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuYWRtaW5JZCB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghYWRtaW4gfHwgIWFkbWluLmlzQWN0aXZlKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkbWluXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBhZG1pbjonLCBlcnJvcilcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2Uge1xyXG4gIHN0YXRpYyBhc3luYyBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEyKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2VuZXJhdGVUb2tlbihwYXlsb2FkOiBBZG1pblRva2VuUGF5bG9hZCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICcyNGgnIH0pXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZyk6IEFkbWluVG9rZW5QYXlsb2FkIHwgbnVsbCB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgQWRtaW5Ub2tlblBheWxvYWRcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2VuZXJhdGVPcmdDb2RlKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMikgLy8gMjVcclxuICAgIGNvbnN0IG1vbnRoID0gKG5vdy5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpXHJcbiAgICBjb25zdCBkYXkgPSBub3cuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gICAgY29uc3QgaG91ciA9IG5vdy5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gICAgY29uc3QgbWludXRlID0gbm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJylcclxuICAgIFxyXG4gICAgLy8g4Liq4Li44LmI4Lih4LmA4Lil4LiCIDMg4Lir4Lil4Lix4LiBXHJcbiAgICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKDEwMCArIE1hdGgucmFuZG9tKCkgKiA5MDApLnRvU3RyaW5nKClcclxuICAgIFxyXG4gICAgcmV0dXJuIGBPUkcke3llYXJ9JHttb250aH0ke2RheX0ke2hvdXJ9JHttaW51dGV9JHtyYW5kb219YFxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwicHJpc21hIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJ2ZXJpZnlBZG1pbiIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInN1YnN0cmluZyIsInBheWxvYWQiLCJBdXRoU2VydmljZSIsInZlcmlmeVRva2VuIiwiYWRtaW4iLCJhZG1pblVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImFkbWluSWQiLCJpc0FjdGl2ZSIsImVycm9yIiwiY29uc29sZSIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsImNvbXBhcmVQYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiY29tcGFyZSIsInZlcmlmeVBhc3N3b3JkIiwiZ2VuZXJhdGVUb2tlbiIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnkiLCJnZW5lcmF0ZU9yZ0NvZGUiLCJub3ciLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwidG9TdHJpbmciLCJtb250aCIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91ciIsImdldEhvdXJzIiwibWludXRlIiwiZ2V0TWludXRlcyIsInJhbmRvbSIsIk1hdGgiLCJmbG9vciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database-manager.ts":
/*!*********************************!*\
  !*** ./lib/database-manager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseManager: () => (/* binding */ DatabaseManager)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nclass DatabaseManager {\n    static getInstance() {\n        if (!DatabaseManager.instance) {\n            DatabaseManager.instance = new DatabaseManager();\n        }\n        return DatabaseManager.instance;\n    }\n    // สร้าง Database Schema ใหม่สำหรับองค์กร\n    async createOrganizationSchema(orgCode, adminData) {\n        const schemaName = `org_${orgCode.toLowerCase()}`;\n        // สร้าง connection ไปยัง MySQL\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: \"erp_main\"\n        });\n        try {\n            // สร้าง Database Schema\n            await connection.query(`CREATE DATABASE IF NOT EXISTS \\`${schemaName}\\``);\n            // สร้างตาราง Users สำหรับองค์กรนี้\n            await connection.query(`USE \\`${schemaName}\\``);\n            // สร้างตารางพื้นฐานสำหรับ ERP\n            await this.createBasicTables(connection);\n            // ปิด connection เดิม\n            await connection.end();\n            // Populate default role permissions\n            await this.populateDefaultRolePermissions(schemaName);\n            console.log(`✅ Created schema: ${schemaName}`);\n            return schemaName;\n        } catch (error) {\n            console.error(`❌ Error creating schema ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // สร้างตารางพื้นฐานสำหรับ ERP ในแต่ละองค์กร\n    async createBasicTables(connection) {\n        // สร้างตารางระบบพื้นฐาน\n        await this.createSystemTables(connection);\n        // สร้างตาราง HRM Module\n        await this.createHRMTables(connection);\n        // สร้างตาราง Accounting Module\n        await this.createAccountingTables(connection);\n        // สร้างตาราง Sales Module\n        await this.createSalesTables(connection);\n        // สร้างตาราง Inventory Module\n        await this.createInventoryTables(connection);\n        // สร้างตาราง Purchasing Module\n        await this.createPurchasingTables(connection);\n        // สร้างตาราง CRM Module\n        await this.createCRMTables(connection);\n        // สร้างตาราง Project Module\n        await this.createProjectTables(connection);\n        // สร้างตาราง Settings Module\n        await this.createSettingsTables(connection);\n    }\n    // สร้างตารางระบบพื้นฐาน\n    async createSystemTables(connection) {\n        const tables = [\n            // Users table สำหรับองค์กร\n            `CREATE TABLE IF NOT EXISTS users (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        email VARCHAR(191) NOT NULL UNIQUE,\r\n        name VARCHAR(191) NOT NULL,\r\n        password VARCHAR(191) NOT NULL,\r\n        role ENUM('SUPER_ADMIN', 'ADMIN', 'MANAGER', 'USER', 'VIEWER') DEFAULT 'USER',\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3)\r\n      )`,\n            // User permissions table สำหรับจัดการสิทธิ์แบบละเอียด\n            `CREATE TABLE IF NOT EXISTS user_permissions (\r\n        id VARCHAR(36) NOT NULL PRIMARY KEY,\r\n        user_id VARCHAR(191) NOT NULL,\r\n        module VARCHAR(100) NOT NULL,\r\n        submodule VARCHAR(100) NOT NULL,\r\n        permission VARCHAR(50) NOT NULL,\r\n        has_permission BOOLEAN DEFAULT FALSE,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_user_module (user_id, module, submodule),\r\n        INDEX idx_permission (permission),\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\r\n        UNIQUE KEY unique_user_permission (user_id, module, submodule, permission)\r\n      )`,\n            // Role templates table สำหรับเก็บ template สิทธิ์ตาม role\n            `CREATE TABLE IF NOT EXISTS role_templates (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        role VARCHAR(50) NOT NULL,\r\n        module VARCHAR(100) NOT NULL,\r\n        submodule VARCHAR(100) NOT NULL,\r\n        permission VARCHAR(50) NOT NULL,\r\n        granted BOOLEAN DEFAULT FALSE,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_role_module (role, module, submodule),\r\n        UNIQUE KEY unique_role_permission (role, module, submodule, permission)\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง HRM Module\n    async createHRMTables(connection) {\n        const tables = [\n            // HRM_EMPLOYEES - จัดการข้อมูลพนักงาน\n            `CREATE TABLE IF NOT EXISTS hrm_employees (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        employee_code VARCHAR(100) NOT NULL UNIQUE,\r\n        user_id VARCHAR(191),\r\n        department_id VARCHAR(191),\r\n        first_name VARCHAR(191) NOT NULL,\r\n        last_name VARCHAR(191) NOT NULL,\r\n        full_name VARCHAR(191) GENERATED ALWAYS AS (CONCAT(first_name, ' ', last_name)) STORED,\r\n        position VARCHAR(191),\r\n        email VARCHAR(191),\r\n        phone VARCHAR(50),\r\n        address TEXT,\r\n        hire_date DATE,\r\n        birth_date DATE,\r\n        id_card VARCHAR(20),\r\n        salary DECIMAL(15,2),\r\n        status ENUM('ACTIVE', 'INACTIVE', 'TERMINATED') DEFAULT 'ACTIVE',\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_employee_code (employee_code),\r\n        INDEX idx_department (department_id),\r\n        INDEX idx_user (user_id),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // HRM_DEPARTMENTS - หน่วยงาน/แผนก\n            `CREATE TABLE IF NOT EXISTS hrm_departments (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        name VARCHAR(191) NOT NULL,\r\n        description TEXT,\r\n        manager_id VARCHAR(191),\r\n        parent_id VARCHAR(191),\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_manager (manager_id),\r\n        INDEX idx_parent (parent_id),\r\n        FOREIGN KEY (manager_id) REFERENCES hrm_employees(id) ON DELETE SET NULL\r\n      )`,\n            // HRM_ATTENDANCE - บันทึกเวลาเข้า-ออกงาน\n            `CREATE TABLE IF NOT EXISTS hrm_attendance (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        employee_id VARCHAR(191) NOT NULL,\r\n        date DATE NOT NULL,\r\n        check_in_time TIME,\r\n        check_out_time TIME,\r\n        break_time_minutes INT DEFAULT 0,\r\n        overtime_minutes INT DEFAULT 0,\r\n        late_minutes INT DEFAULT 0,\r\n        status ENUM('PRESENT', 'ABSENT', 'LATE', 'HALF_DAY', 'HOLIDAY') DEFAULT 'PRESENT',\r\n        notes TEXT,\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_employee_date (employee_id, date),\r\n        INDEX idx_date (date),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (employee_id) REFERENCES hrm_employees(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL,\r\n        UNIQUE KEY unique_employee_date (employee_id, date)\r\n      )`,\n            // HRM_LEAVE_REQUESTS - คำขอลางาน\n            `CREATE TABLE IF NOT EXISTS hrm_leave_requests (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        employee_id VARCHAR(191) NOT NULL,\r\n        leave_type ENUM('SICK', 'ANNUAL', 'PERSONAL', 'MATERNITY', 'PATERNITY', 'OTHER') NOT NULL,\r\n        start_date DATE NOT NULL,\r\n        end_date DATE NOT NULL,\r\n        days_requested DECIMAL(3,1) NOT NULL,\r\n        reason TEXT NOT NULL,\r\n        status ENUM('PENDING', 'APPROVED', 'REJECTED', 'CANCELLED') DEFAULT 'PENDING',\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        rejection_reason TEXT,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_employee (employee_id),\r\n        INDEX idx_dates (start_date, end_date),\r\n        INDEX idx_status (status),\r\n        INDEX idx_leave_type (leave_type),\r\n        FOREIGN KEY (employee_id) REFERENCES hrm_employees(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // HRM_PAYROLL - เงินเดือนและสวัสดิการ\n            `CREATE TABLE IF NOT EXISTS hrm_payroll (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        employee_id VARCHAR(191) NOT NULL,\r\n        period_year INT NOT NULL,\r\n        period_month INT NOT NULL,\r\n        base_salary DECIMAL(15,2) NOT NULL,\r\n        overtime_pay DECIMAL(15,2) DEFAULT 0,\r\n        bonus DECIMAL(15,2) DEFAULT 0,\r\n        allowances DECIMAL(15,2) DEFAULT 0,\r\n        deductions DECIMAL(15,2) DEFAULT 0,\r\n        tax_deduction DECIMAL(15,2) DEFAULT 0,\r\n        social_security DECIMAL(15,2) DEFAULT 0,\r\n        net_salary DECIMAL(15,2) NOT NULL,\r\n        status ENUM('DRAFT', 'CALCULATED', 'APPROVED', 'PAID') DEFAULT 'DRAFT',\r\n        paid_date DATE,\r\n        notes TEXT,\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_employee_period (employee_id, period_year, period_month),\r\n        INDEX idx_period (period_year, period_month),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (employee_id) REFERENCES hrm_employees(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL,\r\n        UNIQUE KEY unique_employee_period (employee_id, period_year, period_month)\r\n      )`,\n            // HRM_ANNOUNCEMENTS - ประกาศข่าวสาร\n            `CREATE TABLE IF NOT EXISTS hrm_announcements (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        title VARCHAR(255) NOT NULL,\r\n        content TEXT NOT NULL,\r\n        type ENUM('GENERAL', 'URGENT', 'POLICY', 'EVENT', 'NOTICE') DEFAULT 'GENERAL',\r\n        target_departments JSON,\r\n        target_employees JSON,\r\n        is_published BOOLEAN DEFAULT FALSE,\r\n        published_at DATETIME(3),\r\n        expires_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_type (type),\r\n        INDEX idx_published (is_published, published_at),\r\n        INDEX idx_expires (expires_at),\r\n        FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้าง Accounting Module\n    async createAccountingTables(connection) {\n        const tables = [\n            // ACCOUNTING_INCOME - จัดการรายได้\n            `CREATE TABLE IF NOT EXISTS accounting_income (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        income_code VARCHAR(100) NOT NULL UNIQUE,\r\n        category ENUM('SALES', 'SERVICE', 'INTEREST', 'OTHER') NOT NULL,\r\n        description TEXT NOT NULL,\r\n        amount DECIMAL(15,2) NOT NULL,\r\n        tax_amount DECIMAL(15,2) DEFAULT 0,\r\n        net_amount DECIMAL(15,2) NOT NULL,\r\n        income_date DATE NOT NULL,\r\n        payment_method ENUM('CASH', 'BANK_TRANSFER', 'CREDIT_CARD', 'CHEQUE') DEFAULT 'CASH',\r\n        customer_id VARCHAR(191),\r\n        reference_number VARCHAR(100),\r\n        status ENUM('PENDING', 'CONFIRMED', 'CANCELLED') DEFAULT 'PENDING',\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_income_code (income_code),\r\n        INDEX idx_category (category),\r\n        INDEX idx_income_date (income_date),\r\n        INDEX idx_customer (customer_id),\r\n        INDEX idx_status (status)\r\n      )`,\n            // ACCOUNTING_EXPENSES - จัดการรายจ่าย\n            `CREATE TABLE IF NOT EXISTS accounting_expenses (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        expense_code VARCHAR(100) NOT NULL UNIQUE,\r\n        category ENUM('SALARY', 'RENT', 'UTILITIES', 'SUPPLIES', 'MARKETING', 'OTHER') NOT NULL,\r\n        description TEXT NOT NULL,\r\n        amount DECIMAL(15,2) NOT NULL,\r\n        tax_amount DECIMAL(15,2) DEFAULT 0,\r\n        net_amount DECIMAL(15,2) NOT NULL,\r\n        expense_date DATE NOT NULL,\r\n        payment_method ENUM('CASH', 'BANK_TRANSFER', 'CREDIT_CARD', 'CHEQUE') DEFAULT 'CASH',\r\n        supplier_id VARCHAR(191),\r\n        reference_number VARCHAR(100),\r\n        receipt_number VARCHAR(100),\r\n        status ENUM('PENDING', 'PAID', 'CANCELLED') DEFAULT 'PENDING',\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_expense_code (expense_code),\r\n        INDEX idx_category (category),\r\n        INDEX idx_expense_date (expense_date),\r\n        INDEX idx_supplier (supplier_id),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // ACCOUNTING_TRANSACTIONS - รายการบัญชี\n            `CREATE TABLE IF NOT EXISTS accounting_transactions (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        transaction_code VARCHAR(100) NOT NULL UNIQUE,\r\n        type ENUM('INCOME', 'EXPENSE', 'TRANSFER') NOT NULL,\r\n        description TEXT NOT NULL,\r\n        amount DECIMAL(15,2) NOT NULL,\r\n        transaction_date DATE NOT NULL,\r\n        account_from VARCHAR(100),\r\n        account_to VARCHAR(100),\r\n        reference_id VARCHAR(191),\r\n        reference_type VARCHAR(50),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_transaction_code (transaction_code),\r\n        INDEX idx_type (type),\r\n        INDEX idx_transaction_date (transaction_date),\r\n        INDEX idx_reference (reference_id, reference_type)\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง Sales Module\n    async createSalesTables(connection) {\n        const tables = [\n            // SALES_CUSTOMERS - ลูกค้า\n            `CREATE TABLE IF NOT EXISTS sales_customers (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        customer_code VARCHAR(100) NOT NULL UNIQUE,\r\n        customer_type ENUM('INDIVIDUAL', 'BUSINESS') NOT NULL,\r\n        name VARCHAR(191) NOT NULL,\r\n        email VARCHAR(191),\r\n        phone VARCHAR(50),\r\n        address TEXT,\r\n        tax_id VARCHAR(20),\r\n        credit_limit DECIMAL(15,2) DEFAULT 0,\r\n        payment_terms INT DEFAULT 30,\r\n        contact_person VARCHAR(191),\r\n        notes TEXT,\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_customer_code (customer_code),\r\n        INDEX idx_customer_type (customer_type),\r\n        INDEX idx_email (email),\r\n        INDEX idx_is_active (is_active)\r\n      )`,\n            // SALES_QUOTATIONS - ใบเสนอราคา\n            `CREATE TABLE IF NOT EXISTS sales_quotations (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        quotation_number VARCHAR(100) NOT NULL UNIQUE,\r\n        customer_id VARCHAR(191) NOT NULL,\r\n        quotation_date DATE NOT NULL,\r\n        valid_until DATE NOT NULL,\r\n        subtotal DECIMAL(15,2) NOT NULL,\r\n        discount_amount DECIMAL(15,2) DEFAULT 0,\r\n        tax_amount DECIMAL(15,2) DEFAULT 0,\r\n        total_amount DECIMAL(15,2) NOT NULL,\r\n        status ENUM('DRAFT', 'SENT', 'ACCEPTED', 'REJECTED', 'EXPIRED') DEFAULT 'DRAFT',\r\n        notes TEXT,\r\n        terms_conditions TEXT,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_quotation_number (quotation_number),\r\n        INDEX idx_customer (customer_id),\r\n        INDEX idx_quotation_date (quotation_date),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (customer_id) REFERENCES sales_customers(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // SALES_QUOTATION_ITEMS - รายการสินค้าในใบเสนอราคา\n            `CREATE TABLE IF NOT EXISTS sales_quotation_items (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        quotation_id VARCHAR(191) NOT NULL,\r\n        product_id VARCHAR(191),\r\n        product_name VARCHAR(191) NOT NULL,\r\n        product_description TEXT,\r\n        quantity DECIMAL(10,2) NOT NULL,\r\n        unit_price DECIMAL(15,2) NOT NULL,\r\n        discount_percent DECIMAL(5,2) DEFAULT 0,\r\n        line_total DECIMAL(15,2) NOT NULL,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_quotation (quotation_id),\r\n        INDEX idx_product (product_id),\r\n        FOREIGN KEY (quotation_id) REFERENCES sales_quotations(id) ON DELETE CASCADE\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง Inventory Module\n    async createInventoryTables(connection) {\n        const tables = [\n            // INVENTORY_PRODUCTS - สินค้า\n            `CREATE TABLE IF NOT EXISTS inventory_products (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        sku VARCHAR(100) NOT NULL UNIQUE,\r\n        barcode VARCHAR(100),\r\n        name VARCHAR(191) NOT NULL,\r\n        description TEXT,\r\n        category_id VARCHAR(191),\r\n        unit VARCHAR(50) DEFAULT 'PCS',\r\n        cost_price DECIMAL(15,2) DEFAULT 0,\r\n        selling_price DECIMAL(15,2) DEFAULT 0,\r\n        min_stock_level INT DEFAULT 0,\r\n        max_stock_level INT DEFAULT 0,\r\n        reorder_point INT DEFAULT 0,\r\n        weight DECIMAL(8,2),\r\n        dimensions VARCHAR(100),\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_sku (sku),\r\n        INDEX idx_barcode (barcode),\r\n        INDEX idx_category (category_id),\r\n        INDEX idx_is_active (is_active)\r\n      )`,\n            // INVENTORY_CATEGORIES - หมวดหมู่สินค้า\n            `CREATE TABLE IF NOT EXISTS inventory_categories (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        name VARCHAR(191) NOT NULL,\r\n        description TEXT,\r\n        parent_id VARCHAR(191),\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_parent (parent_id),\r\n        INDEX idx_is_active (is_active)\r\n      )`,\n            // INVENTORY_STOCK - คลังสินค้า\n            `CREATE TABLE IF NOT EXISTS inventory_stock (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        product_id VARCHAR(191) NOT NULL,\r\n        location VARCHAR(100) DEFAULT 'MAIN_WAREHOUSE',\r\n        quantity_on_hand DECIMAL(10,2) DEFAULT 0,\r\n        quantity_reserved DECIMAL(10,2) DEFAULT 0,\r\n        quantity_available DECIMAL(10,2) GENERATED ALWAYS AS (quantity_on_hand - quantity_reserved) STORED,\r\n        last_counted_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_product (product_id),\r\n        INDEX idx_location (location),\r\n        FOREIGN KEY (product_id) REFERENCES inventory_products(id) ON DELETE CASCADE,\r\n        UNIQUE KEY unique_product_location (product_id, location)\r\n      )`,\n            // INVENTORY_TRANSACTIONS - การเคลื่อนไหวสต็อก\n            `CREATE TABLE IF NOT EXISTS inventory_transactions (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        transaction_code VARCHAR(100) NOT NULL UNIQUE,\r\n        product_id VARCHAR(191) NOT NULL,\r\n        transaction_type ENUM('IN', 'OUT', 'ADJUST', 'TRANSFER') NOT NULL,\r\n        quantity DECIMAL(10,2) NOT NULL,\r\n        unit_cost DECIMAL(15,2),\r\n        total_cost DECIMAL(15,2),\r\n        reference_type VARCHAR(50),\r\n        reference_id VARCHAR(191),\r\n        location VARCHAR(100) DEFAULT 'MAIN_WAREHOUSE',\r\n        notes TEXT,\r\n        transaction_date DATETIME(3) NOT NULL,\r\n        created_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        INDEX idx_transaction_code (transaction_code),\r\n        INDEX idx_product (product_id),\r\n        INDEX idx_transaction_type (transaction_type),\r\n        INDEX idx_transaction_date (transaction_date),\r\n        INDEX idx_reference (reference_type, reference_id),\r\n        FOREIGN KEY (product_id) REFERENCES inventory_products(id) ON DELETE CASCADE\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง Purchasing Module\n    async createPurchasingTables(connection) {\n        const tables = [\n            // PURCHASING_SUPPLIERS - ผู้จำหน่าย\n            `CREATE TABLE IF NOT EXISTS purchasing_suppliers (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        supplier_code VARCHAR(100) NOT NULL UNIQUE,\r\n        name VARCHAR(191) NOT NULL,\r\n        contact_person VARCHAR(191),\r\n        email VARCHAR(191),\r\n        phone VARCHAR(50),\r\n        address TEXT,\r\n        tax_id VARCHAR(20),\r\n        payment_terms INT DEFAULT 30,\r\n        credit_limit DECIMAL(15,2) DEFAULT 0,\r\n        bank_account VARCHAR(100),\r\n        notes TEXT,\r\n        is_active BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_supplier_code (supplier_code),\r\n        INDEX idx_email (email),\r\n        INDEX idx_is_active (is_active)\r\n      )`,\n            // PURCHASING_ORDERS - ใบสั่งซื้อ\n            `CREATE TABLE IF NOT EXISTS purchasing_orders (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        order_number VARCHAR(100) NOT NULL UNIQUE,\r\n        supplier_id VARCHAR(191) NOT NULL,\r\n        order_date DATE NOT NULL,\r\n        expected_delivery_date DATE,\r\n        subtotal DECIMAL(15,2) NOT NULL,\r\n        discount_amount DECIMAL(15,2) DEFAULT 0,\r\n        tax_amount DECIMAL(15,2) DEFAULT 0,\r\n        total_amount DECIMAL(15,2) NOT NULL,\r\n        status ENUM('DRAFT', 'SENT', 'CONFIRMED', 'RECEIVED', 'CANCELLED') DEFAULT 'DRAFT',\r\n        notes TEXT,\r\n        terms_conditions TEXT,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        approved_by VARCHAR(191),\r\n        approved_at DATETIME(3),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_order_number (order_number),\r\n        INDEX idx_supplier (supplier_id),\r\n        INDEX idx_order_date (order_date),\r\n        INDEX idx_status (status),\r\n        FOREIGN KEY (supplier_id) REFERENCES purchasing_suppliers(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // PURCHASING_ORDER_ITEMS - รายการสินค้าในใบสั่งซื้อ\n            `CREATE TABLE IF NOT EXISTS purchasing_order_items (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        order_id VARCHAR(191) NOT NULL,\r\n        product_id VARCHAR(191),\r\n        product_name VARCHAR(191) NOT NULL,\r\n        product_description TEXT,\r\n        quantity DECIMAL(10,2) NOT NULL,\r\n        unit_cost DECIMAL(15,2) NOT NULL,\r\n        line_total DECIMAL(15,2) NOT NULL,\r\n        received_quantity DECIMAL(10,2) DEFAULT 0,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_order (order_id),\r\n        INDEX idx_product (product_id),\r\n        FOREIGN KEY (order_id) REFERENCES purchasing_orders(id) ON DELETE CASCADE\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง CRM Module\n    async createCRMTables(connection) {\n        const tables = [\n            // CRM_CUSTOMERS - ลูกค้า CRM\n            `CREATE TABLE IF NOT EXISTS crm_customers (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        customer_code VARCHAR(100) NOT NULL UNIQUE,\r\n        first_name VARCHAR(191) NOT NULL,\r\n        last_name VARCHAR(191) NOT NULL,\r\n        full_name VARCHAR(191) GENERATED ALWAYS AS (CONCAT(first_name, ' ', last_name)) STORED,\r\n        company VARCHAR(191),\r\n        position VARCHAR(191),\r\n        email VARCHAR(191),\r\n        phone VARCHAR(50),\r\n        mobile VARCHAR(50),\r\n        address TEXT,\r\n        source ENUM('WEBSITE', 'REFERRAL', 'MARKETING', 'COLD_CALL', 'OTHER') DEFAULT 'OTHER',\r\n        status ENUM('LEAD', 'PROSPECT', 'CUSTOMER', 'INACTIVE') DEFAULT 'LEAD',\r\n        assigned_to VARCHAR(191),\r\n        notes TEXT,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_customer_code (customer_code),\r\n        INDEX idx_email (email),\r\n        INDEX idx_status (status),\r\n        INDEX idx_assigned_to (assigned_to),\r\n        FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // CRM_INTERACTIONS - ประวัติการติดต่อ\n            `CREATE TABLE IF NOT EXISTS crm_interactions (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        customer_id VARCHAR(191) NOT NULL,\r\n        interaction_type ENUM('CALL', 'EMAIL', 'MEETING', 'NOTE', 'TASK') NOT NULL,\r\n        subject VARCHAR(255) NOT NULL,\r\n        description TEXT,\r\n        interaction_date DATETIME(3) NOT NULL,\r\n        duration_minutes INT,\r\n        outcome VARCHAR(255),\r\n        follow_up_date DATE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_customer (customer_id),\r\n        INDEX idx_interaction_type (interaction_type),\r\n        INDEX idx_interaction_date (interaction_date),\r\n        INDEX idx_follow_up (follow_up_date),\r\n        FOREIGN KEY (customer_id) REFERENCES crm_customers(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // CRM_ACTIVITIES - กิจกรรม/งาน\n            `CREATE TABLE IF NOT EXISTS crm_activities (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        customer_id VARCHAR(191) NOT NULL,\r\n        activity_type ENUM('CALL', 'EMAIL', 'MEETING', 'TASK', 'APPOINTMENT') NOT NULL,\r\n        title VARCHAR(255) NOT NULL,\r\n        description TEXT,\r\n        priority ENUM('LOW', 'MEDIUM', 'HIGH', 'URGENT') DEFAULT 'MEDIUM',\r\n        status ENUM('PENDING', 'IN_PROGRESS', 'COMPLETED', 'CANCELLED') DEFAULT 'PENDING',\r\n        due_date DATETIME(3),\r\n        completed_at DATETIME(3),\r\n        assigned_to VARCHAR(191),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_customer (customer_id),\r\n        INDEX idx_activity_type (activity_type),\r\n        INDEX idx_status (status),\r\n        INDEX idx_due_date (due_date),\r\n        INDEX idx_assigned_to (assigned_to),\r\n        FOREIGN KEY (customer_id) REFERENCES crm_customers(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง Project Module\n    async createProjectTables(connection) {\n        const tables = [\n            // PROJECT_PROJECTS - โครงการ\n            `CREATE TABLE IF NOT EXISTS project_projects (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        project_code VARCHAR(100) NOT NULL UNIQUE,\r\n        name VARCHAR(191) NOT NULL,\r\n        description TEXT,\r\n        start_date DATE,\r\n        end_date DATE,\r\n        estimated_hours DECIMAL(8,2),\r\n        actual_hours DECIMAL(8,2) DEFAULT 0,\r\n        budget DECIMAL(15,2),\r\n        actual_cost DECIMAL(15,2) DEFAULT 0,\r\n        status ENUM('PLANNING', 'IN_PROGRESS', 'ON_HOLD', 'COMPLETED', 'CANCELLED') DEFAULT 'PLANNING',\r\n        priority ENUM('LOW', 'MEDIUM', 'HIGH', 'URGENT') DEFAULT 'MEDIUM',\r\n        manager_id VARCHAR(191),\r\n        client_id VARCHAR(191),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_project_code (project_code),\r\n        INDEX idx_status (status),\r\n        INDEX idx_manager (manager_id),\r\n        INDEX idx_client (client_id),\r\n        FOREIGN KEY (manager_id) REFERENCES users(id) ON DELETE SET NULL\r\n      )`,\n            // PROJECT_TASKS - งาน/หน้าที่\n            `CREATE TABLE IF NOT EXISTS project_tasks (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        project_id VARCHAR(191) NOT NULL,\r\n        task_code VARCHAR(100) NOT NULL,\r\n        title VARCHAR(255) NOT NULL,\r\n        description TEXT,\r\n        parent_task_id VARCHAR(191),\r\n        start_date DATE,\r\n        due_date DATE,\r\n        estimated_hours DECIMAL(8,2),\r\n        actual_hours DECIMAL(8,2) DEFAULT 0,\r\n        progress_percent DECIMAL(5,2) DEFAULT 0,\r\n        status ENUM('TODO', 'IN_PROGRESS', 'REVIEW', 'COMPLETED', 'CANCELLED') DEFAULT 'TODO',\r\n        priority ENUM('LOW', 'MEDIUM', 'HIGH', 'URGENT') DEFAULT 'MEDIUM',\r\n        assigned_to VARCHAR(191),\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_project (project_id),\r\n        INDEX idx_task_code (project_id, task_code),\r\n        INDEX idx_status (status),\r\n        INDEX idx_assigned_to (assigned_to),\r\n        INDEX idx_parent_task (parent_task_id),\r\n        FOREIGN KEY (project_id) REFERENCES project_projects(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL,\r\n        UNIQUE KEY unique_project_task_code (project_id, task_code)\r\n      )`,\n            // PROJECT_NOTIFICATIONS - การแจ้งเตือน\n            `CREATE TABLE IF NOT EXISTS project_notifications (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        project_id VARCHAR(191),\r\n        task_id VARCHAR(191),\r\n        type ENUM('TASK_ASSIGNED', 'TASK_COMPLETED', 'DEADLINE_APPROACHING', 'STATUS_CHANGED', 'GENERAL') NOT NULL,\r\n        title VARCHAR(255) NOT NULL,\r\n        message TEXT NOT NULL,\r\n        recipient_id VARCHAR(191) NOT NULL,\r\n        is_read BOOLEAN DEFAULT FALSE,\r\n        read_at DATETIME(3),\r\n        created_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        INDEX idx_project (project_id),\r\n        INDEX idx_task (task_id),\r\n        INDEX idx_recipient (recipient_id, is_read),\r\n        INDEX idx_type (type),\r\n        FOREIGN KEY (project_id) REFERENCES project_projects(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (task_id) REFERENCES project_tasks(id) ON DELETE CASCADE,\r\n        FOREIGN KEY (recipient_id) REFERENCES users(id) ON DELETE CASCADE\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้างตาราง Settings Module\n    async createSettingsTables(connection) {\n        const tables = [\n            // SETTINGS_SYSTEM_CONFIG - การตั้งค่าระบบ\n            `CREATE TABLE IF NOT EXISTS settings_system_config (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        config_key VARCHAR(100) NOT NULL UNIQUE,\r\n        config_value TEXT,\r\n        data_type ENUM('STRING', 'INTEGER', 'DECIMAL', 'BOOLEAN', 'JSON') DEFAULT 'STRING',\r\n        category VARCHAR(100),\r\n        description TEXT,\r\n        is_editable BOOLEAN DEFAULT TRUE,\r\n        created_by VARCHAR(191),\r\n        updated_by VARCHAR(191),\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_config_key (config_key),\r\n        INDEX idx_category (category)\r\n      )`,\n            // SETTINGS_USER_PREFERENCES - การตั้งค่าผู้ใช้\n            `CREATE TABLE IF NOT EXISTS settings_user_preferences (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        user_id VARCHAR(191) NOT NULL,\r\n        preference_key VARCHAR(100) NOT NULL,\r\n        preference_value TEXT,\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_user_preference (user_id, preference_key),\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\r\n        UNIQUE KEY unique_user_preference (user_id, preference_key)\r\n      )`,\n            // SETTINGS_NOTIFICATIONS - การตั้งค่าการแจ้งเตือน\n            `CREATE TABLE IF NOT EXISTS settings_notifications (\r\n        id VARCHAR(191) NOT NULL PRIMARY KEY,\r\n        user_id VARCHAR(191) NOT NULL,\r\n        notification_type VARCHAR(100) NOT NULL,\r\n        email_enabled BOOLEAN DEFAULT TRUE,\r\n        sms_enabled BOOLEAN DEFAULT FALSE,\r\n        push_enabled BOOLEAN DEFAULT TRUE,\r\n        frequency ENUM('IMMEDIATE', 'DAILY', 'WEEKLY', 'NEVER') DEFAULT 'IMMEDIATE',\r\n        created_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3),\r\n        updated_at DATETIME(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),\r\n        INDEX idx_user_notification (user_id, notification_type),\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\r\n        UNIQUE KEY unique_user_notification_type (user_id, notification_type)\r\n      )`\n        ];\n        for (const sql of tables){\n            await connection.query(sql);\n        }\n    }\n    // สร้าง Super Admin User เริ่มต้นสำหรับองค์กร\n    async createInitialAdminUser(schemaName, adminData) {\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            const userId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            const defaultPassword = adminData.password || \"123456\";\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hash(defaultPassword, 10);\n            // สร้างอีเมลในรูปแบบ admin_รหัสองค์กร\n            const adminEmail = `admin_${adminData.orgCode}`;\n            const adminName = \"Super Admin\";\n            // สร้าง Super Admin User\n            await connection.query(`\r\n        INSERT INTO users (id, email, name, password, role, is_active, created_at, updated_at)\r\n        VALUES (?, ?, ?, ?, 'SUPER_ADMIN', TRUE, NOW(), NOW())\r\n      `, [\n                userId,\n                adminEmail,\n                adminName,\n                hashedPassword\n            ]);\n            // เพิ่มสิทธิ์ทุกสิทธิ์ให้กับ Super Admin\n            await this.grantAllPermissions(connection, userId);\n            console.log(`✅ Created Super Admin user for schema: ${schemaName}`);\n            console.log(`📧 Super Admin Email: ${adminEmail}`);\n            console.log(`🔑 Super Admin Password: ${defaultPassword}`);\n            return {\n                email: adminEmail,\n                password: defaultPassword\n            };\n        } catch (error) {\n            console.error(`❌ Error creating Super Admin user for ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // เพิ่มสิทธิ์ทุกสิทธิ์ให้กับ Super Admin\n    async grantAllPermissions(connection, userId) {\n        const allPermissions = [\n            // HRM Module\n            {\n                module: \"HRM\",\n                submodule: \"employees\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"HRM\",\n                submodule: \"payroll\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"HRM\",\n                submodule: \"attendance\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"HRM\",\n                submodule: \"leave\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"HRM\",\n                submodule: \"performance\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Accounting Module\n            {\n                module: \"Accounting\",\n                submodule: \"accounts\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Accounting\",\n                submodule: \"journal\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Accounting\",\n                submodule: \"reports\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Accounting\",\n                submodule: \"budget\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Accounting\",\n                submodule: \"assets\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Sales Module\n            {\n                module: \"Sales\",\n                submodule: \"customers\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Sales\",\n                submodule: \"orders\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Sales\",\n                submodule: \"invoices\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Sales\",\n                submodule: \"quotes\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Sales\",\n                submodule: \"reports\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Inventory Module\n            {\n                module: \"Inventory\",\n                submodule: \"products\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Inventory\",\n                submodule: \"stock\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Inventory\",\n                submodule: \"warehouse\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Inventory\",\n                submodule: \"categories\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Inventory\",\n                submodule: \"adjustments\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Purchasing Module\n            {\n                module: \"Purchasing\",\n                submodule: \"suppliers\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Purchasing\",\n                submodule: \"purchase_orders\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Purchasing\",\n                submodule: \"receipts\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Purchasing\",\n                submodule: \"payments\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Purchasing\",\n                submodule: \"reports\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // CRM Module\n            {\n                module: \"CRM\",\n                submodule: \"leads\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"CRM\",\n                submodule: \"contacts\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"CRM\",\n                submodule: \"opportunities\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"CRM\",\n                submodule: \"campaigns\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"CRM\",\n                submodule: \"reports\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Project Module\n            {\n                module: \"Project\",\n                submodule: \"projects\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Project\",\n                submodule: \"tasks\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Project\",\n                submodule: \"time_tracking\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Project\",\n                submodule: \"resources\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Project\",\n                submodule: \"reports\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            // Settings Module\n            {\n                module: \"Settings\",\n                submodule: \"users\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Settings\",\n                submodule: \"roles\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Settings\",\n                submodule: \"permissions\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Settings\",\n                submodule: \"system\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            },\n            {\n                module: \"Settings\",\n                submodule: \"backup\",\n                permissions: [\n                    \"view\",\n                    \"create\",\n                    \"edit\",\n                    \"delete\"\n                ]\n            }\n        ];\n        const permissionQueries = [];\n        for (const modulePerms of allPermissions){\n            for (const permission of modulePerms.permissions){\n                permissionQueries.push([\n                    (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                    userId,\n                    modulePerms.module,\n                    modulePerms.submodule,\n                    permission,\n                    true // has_permission\n                ]);\n            }\n        }\n        if (permissionQueries.length > 0) {\n            const sql = `\r\n        INSERT INTO user_permissions (id, user_id, module, submodule, permission, has_permission)\r\n        VALUES ${permissionQueries.map(()=>\"(?, ?, ?, ?, ?, ?)\").join(\", \")}\r\n      `;\n            const flatValues = permissionQueries.flat();\n            await connection.query(sql, flatValues);\n            console.log(`✅ Granted ${permissionQueries.length} permissions to Super Admin`);\n        }\n    }\n    // รับ Connection สำหรับ Schema ขององค์กร\n    async getOrganizationConnection(schemaName) {\n        if (this.connections.has(schemaName)) {\n            return this.connections.get(schemaName);\n        }\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        this.connections.set(schemaName, connection);\n        return connection;\n    }\n    // Get Prisma client for organization schema\n    async getOrganizationClient(orgId) {\n        try {\n            // Get organization from main database\n            const org = await _prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findUnique({\n                where: {\n                    id: orgId\n                }\n            });\n            if (!org) {\n                return null;\n            }\n            const schemaName = `org_${org.orgCode.toLowerCase()}`;\n            // Check if client already exists\n            if (this.orgClients.has(schemaName)) {\n                return this.orgClients.get(schemaName);\n            }\n            // Create new Prisma client for this organization schema\n            const orgClient = new _prisma_client__WEBPACK_IMPORTED_MODULE_3__.PrismaClient({\n                datasources: {\n                    db: {\n                        url: `mysql://erp_app:erp_app_pass123@localhost:3306/${schemaName}`\n                    }\n                }\n            });\n            // Test connection\n            await orgClient.$connect();\n            // Cache the client\n            this.orgClients.set(schemaName, orgClient);\n            return orgClient;\n        } catch (error) {\n            console.error(`Error getting organization client for org ${orgId}:`, error);\n            return null;\n        }\n    }\n    // Clean up organization client\n    async disconnectOrganizationClient(orgId) {\n        try {\n            const org = await _prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].organization.findUnique({\n                where: {\n                    id: orgId\n                }\n            });\n            if (!org) return;\n            const schemaName = `org_${org.orgCode.toLowerCase()}`;\n            const client = this.orgClients.get(schemaName);\n            if (client) {\n                await client.$disconnect();\n                this.orgClients.delete(schemaName);\n            }\n        } catch (error) {\n            console.error(`Error disconnecting organization client for org ${orgId}:`, error);\n        }\n    }\n    // ลบ Schema ขององค์กร (ใช้เมื่อปฏิเสธหรือลบองค์กร)\n    async deleteOrganizationSchema(schemaNameOrOrgCode) {\n        // ตรวจสอบว่าเป็น schema name หรือ org code\n        let schemaName;\n        if (schemaNameOrOrgCode.startsWith(\"org_\")) {\n            schemaName = schemaNameOrOrgCode;\n        } else {\n            schemaName = `org_${schemaNameOrOrgCode.toLowerCase()}`;\n        }\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\"\n        });\n        try {\n            // ลบ database schema\n            await connection.query(`DROP DATABASE IF EXISTS \\`${schemaName}\\``);\n            // ลบ connection จาก Map ถ้ามี\n            this.connections.delete(schemaName);\n            this.orgClients.delete(schemaName);\n            console.log(`🗑️ Deleted schema: ${schemaName}`);\n        } catch (error) {\n            console.error(`❌ Error deleting schema ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // ปิด Connection ทั้งหมด\n    async closeAllConnections() {\n        for (const [schemaName, connection] of this.connections){\n            try {\n                await connection.end();\n                console.log(`🔌 Closed connection for: ${schemaName}`);\n            } catch (error) {\n                console.error(`❌ Error closing connection for ${schemaName}:`, error);\n            }\n        }\n        this.connections.clear();\n    }\n    // ดึงข้อมูล users จาก organization schema\n    async getOrganizationUsers(schemaName) {\n        if (!schemaName) return [];\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            const [rows] = await connection.query(`\r\n        SELECT id, email, name, role, is_active as isActive, created_at as createdAt\r\n        FROM users\r\n        ORDER BY created_at DESC\r\n      `);\n            return rows;\n        } catch (error) {\n            console.error(`❌ Error fetching users from ${schemaName}:`, error);\n            return [];\n        } finally{\n            await connection.end();\n        }\n    }\n    // สร้าง User ใหม่ใน Organization Schema\n    async createOrganizationUser(schemaName, userData) {\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            const userId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hash(userData.password, 10);\n            await connection.query(`\r\n        INSERT INTO users (id, email, name, password, role, is_active, created_at, updated_at)\r\n        VALUES (?, ?, ?, ?, ?, ?, NOW(), NOW())\r\n      `, [\n                userId,\n                userData.email,\n                userData.name,\n                hashedPassword,\n                userData.role,\n                userData.isActive\n            ]);\n            console.log(`✅ Created user: ${userData.email} in schema: ${schemaName}`);\n            return userId;\n        } catch (error) {\n            console.error(`❌ Error creating user in ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // แก้ไข User ใน Organization Schema\n    async updateOrganizationUser(schemaName, userId, userData) {\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            const updates = [];\n            const values = [];\n            if (userData.name !== undefined) {\n                updates.push(\"name = ?\");\n                values.push(userData.name);\n            }\n            if (userData.email !== undefined) {\n                updates.push(\"email = ?\");\n                values.push(userData.email);\n            }\n            if (userData.password !== undefined) {\n                const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hash(userData.password, 10);\n                updates.push(\"password = ?\");\n                values.push(hashedPassword);\n            }\n            if (userData.role !== undefined) {\n                updates.push(\"role = ?\");\n                values.push(userData.role);\n            }\n            if (userData.isActive !== undefined) {\n                updates.push(\"is_active = ?\");\n                values.push(userData.isActive);\n            }\n            if (updates.length === 0) return;\n            updates.push(\"updated_at = NOW()\");\n            values.push(userId);\n            await connection.query(`\r\n        UPDATE users SET ${updates.join(\", \")} WHERE id = ?\r\n      `, values);\n            console.log(`✅ Updated user: ${userId} in schema: ${schemaName}`);\n        } catch (error) {\n            console.error(`❌ Error updating user in ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // ลบ User จาก Organization Schema\n    async deleteOrganizationUser(schemaName, userId) {\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            await connection.query(\"DELETE FROM users WHERE id = ?\", [\n                userId\n            ]);\n            console.log(`✅ Deleted user: ${userId} from schema: ${schemaName}`);\n        } catch (error) {\n            console.error(`❌ Error deleting user from ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    // สร้าง Role Templates เริ่มต้น\n    async populateDefaultRolePermissions(schemaName) {\n        const connection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: \"localhost\",\n            port: 3306,\n            user: \"erp_app\",\n            password: \"erp_app_pass123\",\n            database: schemaName\n        });\n        try {\n            // Define default role permissions directly here to avoid import issues\n            const DEFAULT_ROLE_PERMISSIONS = {\n                ADMIN: {\n                    hrm: {\n                        employee: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true,\n                            import: true\n                        },\n                        attendance: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        payroll: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        leave: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        announcement: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true\n                        }\n                    },\n                    accounting: {\n                        income: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        },\n                        finance: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    sales: {\n                        customer: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true,\n                            import: true\n                        },\n                        quotation: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    inventory: {\n                        product: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true,\n                            import: true\n                        },\n                        stock: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        },\n                        transaction: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        }\n                    },\n                    purchasing: {\n                        order: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: true,\n                            export: true\n                        },\n                        supplier: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true,\n                            import: true\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    crm: {\n                        customer: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true,\n                            import: true\n                        },\n                        history: {\n                            read: true,\n                            export: true\n                        },\n                        activity: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        }\n                    },\n                    project: {\n                        task: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        },\n                        status: {\n                            read: true,\n                            update: true,\n                            export: true\n                        },\n                        notification: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true\n                        }\n                    },\n                    settings: {\n                        user: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            export: true\n                        },\n                        permission: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true\n                        },\n                        config: {\n                            read: true,\n                            update: true\n                        },\n                        notification: {\n                            read: true,\n                            update: true\n                        }\n                    }\n                },\n                MANAGER: {\n                    hrm: {\n                        employee: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true,\n                            import: false\n                        },\n                        attendance: {\n                            read: true,\n                            create: false,\n                            update: true,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        payroll: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        leave: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        announcement: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false\n                        }\n                    },\n                    accounting: {\n                        income: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true\n                        },\n                        finance: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    sales: {\n                        customer: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true,\n                            import: false\n                        },\n                        quotation: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    inventory: {\n                        product: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true,\n                            import: false\n                        },\n                        stock: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true\n                        },\n                        transaction: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true\n                        }\n                    },\n                    purchasing: {\n                        order: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: true,\n                            export: true\n                        },\n                        supplier: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true,\n                            import: false\n                        },\n                        report: {\n                            read: true,\n                            export: true\n                        }\n                    },\n                    crm: {\n                        customer: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true,\n                            import: false\n                        },\n                        history: {\n                            read: true,\n                            export: false\n                        },\n                        activity: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true\n                        }\n                    },\n                    project: {\n                        task: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: true\n                        },\n                        status: {\n                            read: true,\n                            update: true,\n                            export: true\n                        },\n                        notification: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false\n                        }\n                    },\n                    settings: {\n                        user: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        permission: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false\n                        },\n                        config: {\n                            read: true,\n                            update: false\n                        },\n                        notification: {\n                            read: true,\n                            update: true\n                        }\n                    }\n                },\n                USER: {\n                    hrm: {\n                        employee: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        attendance: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        payroll: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        leave: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: true,\n                            approve: false,\n                            export: false\n                        },\n                        announcement: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false\n                        }\n                    },\n                    accounting: {\n                        income: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        finance: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        report: {\n                            read: false,\n                            export: false\n                        }\n                    },\n                    sales: {\n                        customer: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        quotation: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        report: {\n                            read: true,\n                            export: false\n                        }\n                    },\n                    inventory: {\n                        product: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        stock: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        transaction: {\n                            read: true,\n                            create: true,\n                            update: false,\n                            delete: false,\n                            export: false\n                        }\n                    },\n                    purchasing: {\n                        order: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        supplier: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        report: {\n                            read: true,\n                            export: false\n                        }\n                    },\n                    crm: {\n                        customer: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        history: {\n                            read: true,\n                            export: false\n                        },\n                        activity: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: false\n                        }\n                    },\n                    project: {\n                        task: {\n                            read: true,\n                            create: true,\n                            update: true,\n                            delete: false,\n                            export: false\n                        },\n                        status: {\n                            read: true,\n                            update: false,\n                            export: false\n                        },\n                        notification: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false\n                        }\n                    },\n                    settings: {\n                        user: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        permission: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false\n                        },\n                        config: {\n                            read: false,\n                            update: false\n                        },\n                        notification: {\n                            read: true,\n                            update: true\n                        }\n                    }\n                },\n                VIEWER: {\n                    hrm: {\n                        employee: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        attendance: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        payroll: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        leave: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        announcement: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false\n                        }\n                    },\n                    accounting: {\n                        income: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        finance: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        report: {\n                            read: true,\n                            export: false\n                        }\n                    },\n                    sales: {\n                        customer: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        quotation: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        report: {\n                            read: true,\n                            export: false\n                        }\n                    },\n                    inventory: {\n                        product: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        stock: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        transaction: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        }\n                    },\n                    purchasing: {\n                        order: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            approve: false,\n                            export: false\n                        },\n                        supplier: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        report: {\n                            read: true,\n                            export: false\n                        }\n                    },\n                    crm: {\n                        customer: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false,\n                            import: false\n                        },\n                        history: {\n                            read: true,\n                            export: false\n                        },\n                        activity: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        }\n                    },\n                    project: {\n                        task: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        status: {\n                            read: true,\n                            update: false,\n                            export: false\n                        },\n                        notification: {\n                            read: true,\n                            create: false,\n                            update: false,\n                            delete: false\n                        }\n                    },\n                    settings: {\n                        user: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false,\n                            export: false\n                        },\n                        permission: {\n                            read: false,\n                            create: false,\n                            update: false,\n                            delete: false\n                        },\n                        config: {\n                            read: false,\n                            update: false\n                        },\n                        notification: {\n                            read: true,\n                            update: false\n                        }\n                    }\n                }\n            };\n            // Clear existing role templates\n            await connection.query(\"DELETE FROM role_templates\");\n            const rolePermissionRecords = [];\n            // Create records for each role and their permissions\n            for (const [roleName, rolePermissions] of Object.entries(DEFAULT_ROLE_PERMISSIONS)){\n                for (const [module, modulePermissions] of Object.entries(rolePermissions)){\n                    for (const [submodule, submodulePermissions] of Object.entries(modulePermissions)){\n                        for (const [permission, granted] of Object.entries(submodulePermissions)){\n                            rolePermissionRecords.push([\n                                roleName,\n                                module,\n                                submodule,\n                                permission,\n                                granted\n                            ]);\n                        }\n                    }\n                }\n            }\n            // Insert role permissions in batches\n            if (rolePermissionRecords.length > 0) {\n                await connection.query(`\r\n          INSERT INTO role_templates (role, module, submodule, permission, granted)\r\n          VALUES ?\r\n        `, [\n                    rolePermissionRecords\n                ]);\n            }\n            console.log(`✅ Populated role templates for schema: ${schemaName}`);\n        } catch (error) {\n            console.error(`❌ Error populating role templates for ${schemaName}:`, error);\n            throw error;\n        } finally{\n            await connection.end();\n        }\n    }\n    constructor(){\n        this.connections = new Map();\n        this.orgClients = new Map();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGF0YWJhc2UtbWFuYWdlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFrQztBQUNMO0FBQ0E7QUFDTTtBQUNVO0FBRXRDLE1BQU1NO0lBS1gsT0FBT0MsY0FBK0I7UUFDcEMsSUFBSSxDQUFDRCxnQkFBZ0JFLFFBQVEsRUFBRTtZQUM3QkYsZ0JBQWdCRSxRQUFRLEdBQUcsSUFBSUY7UUFDakM7UUFDQSxPQUFPQSxnQkFBZ0JFLFFBQVE7SUFDakM7SUFFQSx5Q0FBeUM7SUFDekMsTUFBTUMseUJBQXlCQyxPQUFlLEVBQUVDLFNBSS9DLEVBQW1CO1FBQ2xCLE1BQU1DLGFBQWEsQ0FBQyxJQUFJLEVBQUVGLFFBQVFHLFdBQVcsR0FBRyxDQUFDO1FBRWpELCtCQUErQjtRQUMvQixNQUFNQyxhQUFhLE1BQU1kLDREQUFzQixDQUFDO1lBQzlDZ0IsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxVQUFVO1FBQ1o7UUFFQSxJQUFJO1lBQ0Ysd0JBQXdCO1lBQ3hCLE1BQU1OLFdBQVdPLEtBQUssQ0FBQyxDQUFDLGdDQUFnQyxFQUFFVCxXQUFXLEVBQUUsQ0FBQztZQUV4RSxtQ0FBbUM7WUFDbkMsTUFBTUUsV0FBV08sS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFVCxXQUFXLEVBQUUsQ0FBQztZQUU5Qyw4QkFBOEI7WUFDOUIsTUFBTSxJQUFJLENBQUNVLGlCQUFpQixDQUFDUjtZQUU3QixzQkFBc0I7WUFDdEIsTUFBTUEsV0FBV1MsR0FBRztZQUVwQixvQ0FBb0M7WUFDcEMsTUFBTSxJQUFJLENBQUNDLDhCQUE4QixDQUFDWjtZQUUxQ2EsUUFBUUMsR0FBRyxDQUFDLENBQUMsa0JBQWtCLEVBQUVkLFdBQVcsQ0FBQztZQUM3QyxPQUFPQTtRQUVULEVBQUUsT0FBT2UsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyx3QkFBd0IsRUFBRWYsV0FBVyxDQUFDLENBQUMsRUFBRWU7WUFDeEQsTUFBTUE7UUFDUixTQUFVO1lBQ1IsTUFBTWIsV0FBV1MsR0FBRztRQUN0QjtJQUNGO0lBRUEsNENBQTRDO0lBQzVDLE1BQWNELGtCQUFrQlIsVUFBNEIsRUFBRTtRQUM1RCx3QkFBd0I7UUFDeEIsTUFBTSxJQUFJLENBQUNjLGtCQUFrQixDQUFDZDtRQUU5Qix3QkFBd0I7UUFDeEIsTUFBTSxJQUFJLENBQUNlLGVBQWUsQ0FBQ2Y7UUFFM0IsK0JBQStCO1FBQy9CLE1BQU0sSUFBSSxDQUFDZ0Isc0JBQXNCLENBQUNoQjtRQUVsQywwQkFBMEI7UUFDMUIsTUFBTSxJQUFJLENBQUNpQixpQkFBaUIsQ0FBQ2pCO1FBRTdCLDhCQUE4QjtRQUM5QixNQUFNLElBQUksQ0FBQ2tCLHFCQUFxQixDQUFDbEI7UUFFakMsK0JBQStCO1FBQy9CLE1BQU0sSUFBSSxDQUFDbUIsc0JBQXNCLENBQUNuQjtRQUVsQyx3QkFBd0I7UUFDeEIsTUFBTSxJQUFJLENBQUNvQixlQUFlLENBQUNwQjtRQUUzQiw0QkFBNEI7UUFDNUIsTUFBTSxJQUFJLENBQUNxQixtQkFBbUIsQ0FBQ3JCO1FBRS9CLDZCQUE2QjtRQUM3QixNQUFNLElBQUksQ0FBQ3NCLG9CQUFvQixDQUFDdEI7SUFDbEM7SUFFQSx3QkFBd0I7SUFDeEIsTUFBY2MsbUJBQW1CZCxVQUE0QixFQUFFO1FBQzdELE1BQU11QixTQUFTO1lBQ2IsMkJBQTJCO1lBQzNCLENBQUM7Ozs7Ozs7OztPQVNBLENBQUM7WUFFRixzREFBc0Q7WUFDdEQsQ0FBQzs7Ozs7Ozs7Ozs7OztPQWFBLENBQUM7WUFFRiwwREFBMEQ7WUFDMUQsQ0FBQzs7Ozs7Ozs7Ozs7T0FXQSxDQUFDO1NBQ0g7UUFFRCxLQUFLLE1BQU1DLE9BQU9ELE9BQVE7WUFDeEIsTUFBTXZCLFdBQVdPLEtBQUssQ0FBQ2lCO1FBQ3pCO0lBQ0Y7SUFFQSx3QkFBd0I7SUFDeEIsTUFBY1QsZ0JBQWdCZixVQUE0QixFQUFFO1FBQzFELE1BQU11QixTQUFTO1lBQ2Isc0NBQXNDO1lBQ3RDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BMEJBLENBQUM7WUFFRixrQ0FBa0M7WUFDbEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7T0FjQSxDQUFDO1lBRUYseUNBQXlDO1lBQ3pDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BdUJBLENBQUM7WUFFRixpQ0FBaUM7WUFDakMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXNCQSxDQUFDO1lBRUYsc0NBQXNDO1lBQ3RDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0E0QkEsQ0FBQztZQUVGLG9DQUFvQztZQUNwQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FrQkEsQ0FBQztTQUNIO1FBRUQsS0FBSyxNQUFNQyxPQUFPRCxPQUFRO1lBQ3hCLE1BQU12QixXQUFXTyxLQUFLLENBQUNpQjtRQUN6QjtJQUNGO0lBRUEsMEJBQTBCO0lBQzFCLE1BQWNSLHVCQUF1QmhCLFVBQTRCLEVBQUU7UUFDakUsTUFBTXVCLFNBQVM7WUFDYixtQ0FBbUM7WUFDbkMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXNCQSxDQUFDO1lBRUYsc0NBQXNDO1lBQ3RDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BMEJBLENBQUM7WUFFRix3Q0FBd0M7WUFDeEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQW1CQSxDQUFDO1NBQ0g7UUFFRCxLQUFLLE1BQU1DLE9BQU9ELE9BQVE7WUFDeEIsTUFBTXZCLFdBQVdPLEtBQUssQ0FBQ2lCO1FBQ3pCO0lBQ0Y7SUFFQSwwQkFBMEI7SUFDMUIsTUFBY1Asa0JBQWtCakIsVUFBNEIsRUFBRTtRQUM1RCxNQUFNdUIsU0FBUztZQUNiLDJCQUEyQjtZQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bc0JBLENBQUM7WUFFRixnQ0FBZ0M7WUFDaEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXlCQSxDQUFDO1lBRUYsbURBQW1EO1lBQ25ELENBQUM7Ozs7Ozs7Ozs7Ozs7OztPQWVBLENBQUM7U0FDSDtRQUVELEtBQUssTUFBTUMsT0FBT0QsT0FBUTtZQUN4QixNQUFNdkIsV0FBV08sS0FBSyxDQUFDaUI7UUFDekI7SUFDRjtJQUVBLDhCQUE4QjtJQUM5QixNQUFjTixzQkFBc0JsQixVQUE0QixFQUFFO1FBQ2hFLE1BQU11QixTQUFTO1lBQ2IsOEJBQThCO1lBQzlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXdCQSxDQUFDO1lBRUYsd0NBQXdDO1lBQ3hDLENBQUM7Ozs7Ozs7Ozs7OztPQVlBLENBQUM7WUFFRiwrQkFBK0I7WUFDL0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztPQWdCQSxDQUFDO1lBRUYsOENBQThDO1lBQzlDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXFCQSxDQUFDO1NBQ0g7UUFFRCxLQUFLLE1BQU1DLE9BQU9ELE9BQVE7WUFDeEIsTUFBTXZCLFdBQVdPLEtBQUssQ0FBQ2lCO1FBQ3pCO0lBQ0Y7SUFFQSwrQkFBK0I7SUFDL0IsTUFBY0wsdUJBQXVCbkIsVUFBNEIsRUFBRTtRQUNqRSxNQUFNdUIsU0FBUztZQUNiLG9DQUFvQztZQUNwQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FxQkEsQ0FBQztZQUVGLGlDQUFpQztZQUNqQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BeUJBLENBQUM7WUFFRixvREFBb0Q7WUFDcEQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O09BZUEsQ0FBQztTQUNIO1FBRUQsS0FBSyxNQUFNQyxPQUFPRCxPQUFRO1lBQ3hCLE1BQU12QixXQUFXTyxLQUFLLENBQUNpQjtRQUN6QjtJQUNGO0lBRUEsd0JBQXdCO0lBQ3hCLE1BQWNKLGdCQUFnQnBCLFVBQTRCLEVBQUU7UUFDMUQsTUFBTXVCLFNBQVM7WUFDYiw2QkFBNkI7WUFDN0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXlCQSxDQUFDO1lBRUYsc0NBQXNDO1lBQ3RDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bb0JBLENBQUM7WUFFRiwrQkFBK0I7WUFDL0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXNCQSxDQUFDO1NBQ0g7UUFFRCxLQUFLLE1BQU1DLE9BQU9ELE9BQVE7WUFDeEIsTUFBTXZCLFdBQVdPLEtBQUssQ0FBQ2lCO1FBQ3pCO0lBQ0Y7SUFFQSw0QkFBNEI7SUFDNUIsTUFBY0gsb0JBQW9CckIsVUFBNEIsRUFBRTtRQUM5RCxNQUFNdUIsU0FBUztZQUNiLDZCQUE2QjtZQUM3QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0F3QkEsQ0FBQztZQUVGLDhCQUE4QjtZQUM5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0EyQkEsQ0FBQztZQUVGLHVDQUF1QztZQUN2QyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BbUJBLENBQUM7U0FDSDtRQUVELEtBQUssTUFBTUMsT0FBT0QsT0FBUTtZQUN4QixNQUFNdkIsV0FBV08sS0FBSyxDQUFDaUI7UUFDekI7SUFDRjtJQUVBLDZCQUE2QjtJQUM3QixNQUFjRixxQkFBcUJ0QixVQUE0QixFQUFFO1FBQy9ELE1BQU11QixTQUFTO1lBQ2IsMENBQTBDO1lBQzFDLENBQUM7Ozs7Ozs7Ozs7Ozs7O09BY0EsQ0FBQztZQUVGLCtDQUErQztZQUMvQyxDQUFDOzs7Ozs7Ozs7O09BVUEsQ0FBQztZQUVGLGtEQUFrRDtZQUNsRCxDQUFDOzs7Ozs7Ozs7Ozs7O09BYUEsQ0FBQztTQUNIO1FBRUQsS0FBSyxNQUFNQyxPQUFPRCxPQUFRO1lBQ3hCLE1BQU12QixXQUFXTyxLQUFLLENBQUNpQjtRQUN6QjtJQUNGO0lBRUEsOENBQThDO0lBQzlDLE1BQU1DLHVCQUF1QjNCLFVBQWtCLEVBQUVELFNBS2hELEVBQWdEO1FBQy9DLE1BQU1HLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFVBQVVSO1FBQ1o7UUFFQSxJQUFJO1lBQ0YsTUFBTTRCLFNBQVNwQyxnREFBTUE7WUFDckIsTUFBTXFDLGtCQUFrQjlCLFVBQVVRLFFBQVEsSUFBSTtZQUM5QyxNQUFNdUIsaUJBQWlCLE1BQU14QyxvREFBVyxDQUFDdUMsaUJBQWlCO1lBRTFELHNDQUFzQztZQUN0QyxNQUFNRyxhQUFhLENBQUMsTUFBTSxFQUFFakMsVUFBVUQsT0FBTyxDQUFDLENBQUM7WUFDL0MsTUFBTW1DLFlBQVk7WUFFbEIseUJBQXlCO1lBQ3pCLE1BQU0vQixXQUFXTyxLQUFLLENBQUMsQ0FBQzs7O01BR3hCLENBQUMsRUFBRTtnQkFBQ21CO2dCQUFRSTtnQkFBWUM7Z0JBQVdIO2FBQWU7WUFFbEQseUNBQXlDO1lBQ3pDLE1BQU0sSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ2hDLFlBQVkwQjtZQUUzQ2YsUUFBUUMsR0FBRyxDQUFDLENBQUMsdUNBQXVDLEVBQUVkLFdBQVcsQ0FBQztZQUNsRWEsUUFBUUMsR0FBRyxDQUFDLENBQUMsc0JBQXNCLEVBQUVrQixXQUFXLENBQUM7WUFDakRuQixRQUFRQyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRWUsZ0JBQWdCLENBQUM7WUFFekQsT0FBTztnQkFDTE0sT0FBT0g7Z0JBQ1B6QixVQUFVc0I7WUFDWjtRQUVGLEVBQUUsT0FBT2QsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyxzQ0FBc0MsRUFBRWYsV0FBVyxDQUFDLENBQUMsRUFBRWU7WUFDdEUsTUFBTUE7UUFDUixTQUFVO1lBQ1IsTUFBTWIsV0FBV1MsR0FBRztRQUN0QjtJQUNGO0lBRUEseUNBQXlDO0lBQ3pDLE1BQWN1QixvQkFBb0JoQyxVQUE0QixFQUFFMEIsTUFBYyxFQUFpQjtRQUM3RixNQUFNUSxpQkFBaUI7WUFDckIsYUFBYTtZQUNiO2dCQUFFQyxRQUFRO2dCQUFPQyxXQUFXO2dCQUFhQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDM0Y7Z0JBQUVGLFFBQVE7Z0JBQU9DLFdBQVc7Z0JBQVdDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUN6RjtnQkFBRUYsUUFBUTtnQkFBT0MsV0FBVztnQkFBY0MsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzVGO2dCQUFFRixRQUFRO2dCQUFPQyxXQUFXO2dCQUFTQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDdkY7Z0JBQUVGLFFBQVE7Z0JBQU9DLFdBQVc7Z0JBQWVDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUU3RixvQkFBb0I7WUFDcEI7Z0JBQUVGLFFBQVE7Z0JBQWNDLFdBQVc7Z0JBQVlDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUNqRztnQkFBRUYsUUFBUTtnQkFBY0MsV0FBVztnQkFBV0MsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQ2hHO2dCQUFFRixRQUFRO2dCQUFjQyxXQUFXO2dCQUFXQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDaEc7Z0JBQUVGLFFBQVE7Z0JBQWNDLFdBQVc7Z0JBQVVDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUMvRjtnQkFBRUYsUUFBUTtnQkFBY0MsV0FBVztnQkFBVUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBRS9GLGVBQWU7WUFDZjtnQkFBRUYsUUFBUTtnQkFBU0MsV0FBVztnQkFBYUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzdGO2dCQUFFRixRQUFRO2dCQUFTQyxXQUFXO2dCQUFVQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDMUY7Z0JBQUVGLFFBQVE7Z0JBQVNDLFdBQVc7Z0JBQVlDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUM1RjtnQkFBRUYsUUFBUTtnQkFBU0MsV0FBVztnQkFBVUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzFGO2dCQUFFRixRQUFRO2dCQUFTQyxXQUFXO2dCQUFXQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFFM0YsbUJBQW1CO1lBQ25CO2dCQUFFRixRQUFRO2dCQUFhQyxXQUFXO2dCQUFZQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDaEc7Z0JBQUVGLFFBQVE7Z0JBQWFDLFdBQVc7Z0JBQVNDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUM3RjtnQkFBRUYsUUFBUTtnQkFBYUMsV0FBVztnQkFBYUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQ2pHO2dCQUFFRixRQUFRO2dCQUFhQyxXQUFXO2dCQUFjQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDbEc7Z0JBQUVGLFFBQVE7Z0JBQWFDLFdBQVc7Z0JBQWVDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUVuRyxvQkFBb0I7WUFDcEI7Z0JBQUVGLFFBQVE7Z0JBQWNDLFdBQVc7Z0JBQWFDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUNsRztnQkFBRUYsUUFBUTtnQkFBY0MsV0FBVztnQkFBbUJDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUN4RztnQkFBRUYsUUFBUTtnQkFBY0MsV0FBVztnQkFBWUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQ2pHO2dCQUFFRixRQUFRO2dCQUFjQyxXQUFXO2dCQUFZQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDakc7Z0JBQUVGLFFBQVE7Z0JBQWNDLFdBQVc7Z0JBQVdDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUVoRyxhQUFhO1lBQ2I7Z0JBQUVGLFFBQVE7Z0JBQU9DLFdBQVc7Z0JBQVNDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUN2RjtnQkFBRUYsUUFBUTtnQkFBT0MsV0FBVztnQkFBWUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzFGO2dCQUFFRixRQUFRO2dCQUFPQyxXQUFXO2dCQUFpQkMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQy9GO2dCQUFFRixRQUFRO2dCQUFPQyxXQUFXO2dCQUFhQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDM0Y7Z0JBQUVGLFFBQVE7Z0JBQU9DLFdBQVc7Z0JBQVdDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUV6RixpQkFBaUI7WUFDakI7Z0JBQUVGLFFBQVE7Z0JBQVdDLFdBQVc7Z0JBQVlDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUM5RjtnQkFBRUYsUUFBUTtnQkFBV0MsV0FBVztnQkFBU0MsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzNGO2dCQUFFRixRQUFRO2dCQUFXQyxXQUFXO2dCQUFpQkMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQ25HO2dCQUFFRixRQUFRO2dCQUFXQyxXQUFXO2dCQUFhQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDL0Y7Z0JBQUVGLFFBQVE7Z0JBQVdDLFdBQVc7Z0JBQVdDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUU3RixrQkFBa0I7WUFDbEI7Z0JBQUVGLFFBQVE7Z0JBQVlDLFdBQVc7Z0JBQVNDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUM1RjtnQkFBRUYsUUFBUTtnQkFBWUMsV0FBVztnQkFBU0MsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1lBQzVGO2dCQUFFRixRQUFRO2dCQUFZQyxXQUFXO2dCQUFlQyxhQUFhO29CQUFDO29CQUFRO29CQUFVO29CQUFRO2lCQUFTO1lBQUM7WUFDbEc7Z0JBQUVGLFFBQVE7Z0JBQVlDLFdBQVc7Z0JBQVVDLGFBQWE7b0JBQUM7b0JBQVE7b0JBQVU7b0JBQVE7aUJBQVM7WUFBQztZQUM3RjtnQkFBRUYsUUFBUTtnQkFBWUMsV0FBVztnQkFBVUMsYUFBYTtvQkFBQztvQkFBUTtvQkFBVTtvQkFBUTtpQkFBUztZQUFDO1NBQzlGO1FBRUQsTUFBTUMsb0JBQW9CLEVBQUU7UUFDNUIsS0FBSyxNQUFNQyxlQUFlTCxlQUFnQjtZQUN4QyxLQUFLLE1BQU1NLGNBQWNELFlBQVlGLFdBQVcsQ0FBRTtnQkFDaERDLGtCQUFrQkcsSUFBSSxDQUFDO29CQUNyQm5ELGdEQUFNQTtvQkFDTm9DO29CQUNBYSxZQUFZSixNQUFNO29CQUNsQkksWUFBWUgsU0FBUztvQkFDckJJO29CQUNBLEtBQUssaUJBQWlCO2lCQUN2QjtZQUNIO1FBQ0Y7UUFFQSxJQUFJRixrQkFBa0JJLE1BQU0sR0FBRyxHQUFHO1lBQ2hDLE1BQU1sQixNQUFNLENBQUM7O2VBRUosRUFBRWMsa0JBQWtCSyxHQUFHLENBQUMsSUFBTSxzQkFBc0JDLElBQUksQ0FBQyxNQUFNO01BQ3hFLENBQUM7WUFDRCxNQUFNQyxhQUFhUCxrQkFBa0JRLElBQUk7WUFDekMsTUFBTTlDLFdBQVdPLEtBQUssQ0FBQ2lCLEtBQUtxQjtZQUU1QmxDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRTBCLGtCQUFrQkksTUFBTSxDQUFDLDJCQUEyQixDQUFDO1FBQ2hGO0lBQ0Y7SUFFQSx5Q0FBeUM7SUFDekMsTUFBTUssMEJBQTBCakQsVUFBa0IsRUFBNkI7UUFDN0UsSUFBSSxJQUFJLENBQUNrRCxXQUFXLENBQUNDLEdBQUcsQ0FBQ25ELGFBQWE7WUFDcEMsT0FBTyxJQUFJLENBQUNrRCxXQUFXLENBQUNFLEdBQUcsQ0FBQ3BEO1FBQzlCO1FBRUEsTUFBTUUsYUFBYSxNQUFNZCw0REFBc0IsQ0FBQztZQUM5Q2dCLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLFVBQVU7WUFDVkMsVUFBVVI7UUFDWjtRQUVBLElBQUksQ0FBQ2tELFdBQVcsQ0FBQ0csR0FBRyxDQUFDckQsWUFBWUU7UUFDakMsT0FBT0E7SUFDVDtJQUVBLDRDQUE0QztJQUM1QyxNQUFNb0Qsc0JBQXNCQyxLQUFhLEVBQWdDO1FBQ3ZFLElBQUk7WUFDRixzQ0FBc0M7WUFDdEMsTUFBTUMsTUFBTSxNQUFNbkUsK0NBQU1BLENBQUNvRSxZQUFZLENBQUNDLFVBQVUsQ0FBQztnQkFDL0NDLE9BQU87b0JBQUVDLElBQUlMO2dCQUFNO1lBQ3JCO1lBRUEsSUFBSSxDQUFDQyxLQUFLO2dCQUNSLE9BQU87WUFDVDtZQUVBLE1BQU14RCxhQUFhLENBQUMsSUFBSSxFQUFFd0QsSUFBSTFELE9BQU8sQ0FBQ0csV0FBVyxHQUFHLENBQUM7WUFFckQsaUNBQWlDO1lBQ2pDLElBQUksSUFBSSxDQUFDNEQsVUFBVSxDQUFDVixHQUFHLENBQUNuRCxhQUFhO2dCQUNuQyxPQUFPLElBQUksQ0FBQzZELFVBQVUsQ0FBQ1QsR0FBRyxDQUFDcEQ7WUFDN0I7WUFFQSx3REFBd0Q7WUFDeEQsTUFBTThELFlBQVksSUFBSXJFLHdEQUFZQSxDQUFDO2dCQUNqQ3NFLGFBQWE7b0JBQ1hDLElBQUk7d0JBQ0ZDLEtBQUssQ0FBQywrQ0FBK0MsRUFBRWpFLFdBQVcsQ0FBQztvQkFDckU7Z0JBQ0Y7WUFDRjtZQUVBLGtCQUFrQjtZQUNsQixNQUFNOEQsVUFBVUksUUFBUTtZQUV4QixtQkFBbUI7WUFDbkIsSUFBSSxDQUFDTCxVQUFVLENBQUNSLEdBQUcsQ0FBQ3JELFlBQVk4RDtZQUVoQyxPQUFPQTtRQUNULEVBQUUsT0FBTy9DLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLENBQUMsMENBQTBDLEVBQUV3QyxNQUFNLENBQUMsQ0FBQyxFQUFFeEM7WUFDckUsT0FBTztRQUNUO0lBQ0Y7SUFFQSwrQkFBK0I7SUFDL0IsTUFBTW9ELDZCQUE2QlosS0FBYSxFQUFpQjtRQUMvRCxJQUFJO1lBQ0YsTUFBTUMsTUFBTSxNQUFNbkUsK0NBQU1BLENBQUNvRSxZQUFZLENBQUNDLFVBQVUsQ0FBQztnQkFDL0NDLE9BQU87b0JBQUVDLElBQUlMO2dCQUFNO1lBQ3JCO1lBRUEsSUFBSSxDQUFDQyxLQUFLO1lBRVYsTUFBTXhELGFBQWEsQ0FBQyxJQUFJLEVBQUV3RCxJQUFJMUQsT0FBTyxDQUFDRyxXQUFXLEdBQUcsQ0FBQztZQUNyRCxNQUFNbUUsU0FBUyxJQUFJLENBQUNQLFVBQVUsQ0FBQ1QsR0FBRyxDQUFDcEQ7WUFFbkMsSUFBSW9FLFFBQVE7Z0JBQ1YsTUFBTUEsT0FBT0MsV0FBVztnQkFDeEIsSUFBSSxDQUFDUixVQUFVLENBQUNTLE1BQU0sQ0FBQ3RFO1lBQ3pCO1FBQ0YsRUFBRSxPQUFPZSxPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQyxDQUFDLGdEQUFnRCxFQUFFd0MsTUFBTSxDQUFDLENBQUMsRUFBRXhDO1FBQzdFO0lBQ0Y7SUFFQSxtREFBbUQ7SUFDbkQsTUFBTXdELHlCQUF5QkMsbUJBQTJCLEVBQWlCO1FBQ3pFLDJDQUEyQztRQUMzQyxJQUFJeEU7UUFDSixJQUFJd0Usb0JBQW9CQyxVQUFVLENBQUMsU0FBUztZQUMxQ3pFLGFBQWF3RTtRQUNmLE9BQU87WUFDTHhFLGFBQWEsQ0FBQyxJQUFJLEVBQUV3RSxvQkFBb0J2RSxXQUFXLEdBQUcsQ0FBQztRQUN6RDtRQUVBLE1BQU1DLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1FBQ1o7UUFFQSxJQUFJO1lBQ0YscUJBQXFCO1lBQ3JCLE1BQU1MLFdBQVdPLEtBQUssQ0FBQyxDQUFDLDBCQUEwQixFQUFFVCxXQUFXLEVBQUUsQ0FBQztZQUVsRSw4QkFBOEI7WUFDOUIsSUFBSSxDQUFDa0QsV0FBVyxDQUFDb0IsTUFBTSxDQUFDdEU7WUFDeEIsSUFBSSxDQUFDNkQsVUFBVSxDQUFDUyxNQUFNLENBQUN0RTtZQUV2QmEsUUFBUUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUVkLFdBQVcsQ0FBQztRQUVqRCxFQUFFLE9BQU9lLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLENBQUMsd0JBQXdCLEVBQUVmLFdBQVcsQ0FBQyxDQUFDLEVBQUVlO1lBQ3hELE1BQU1BO1FBQ1IsU0FBVTtZQUNSLE1BQU1iLFdBQVdTLEdBQUc7UUFDdEI7SUFDRjtJQUVBLHlCQUF5QjtJQUN6QixNQUFNK0Qsc0JBQXFDO1FBQ3pDLEtBQUssTUFBTSxDQUFDMUUsWUFBWUUsV0FBVyxJQUFJLElBQUksQ0FBQ2dELFdBQVcsQ0FBRTtZQUN2RCxJQUFJO2dCQUNGLE1BQU1oRCxXQUFXUyxHQUFHO2dCQUNwQkUsUUFBUUMsR0FBRyxDQUFDLENBQUMsMEJBQTBCLEVBQUVkLFdBQVcsQ0FBQztZQUN2RCxFQUFFLE9BQU9lLE9BQU87Z0JBQ2RGLFFBQVFFLEtBQUssQ0FBQyxDQUFDLCtCQUErQixFQUFFZixXQUFXLENBQUMsQ0FBQyxFQUFFZTtZQUNqRTtRQUNGO1FBQ0EsSUFBSSxDQUFDbUMsV0FBVyxDQUFDeUIsS0FBSztJQUN4QjtJQUVBLDBDQUEwQztJQUMxQyxNQUFNQyxxQkFBcUI1RSxVQUFrQixFQUFrQjtRQUM3RCxJQUFJLENBQUNBLFlBQVksT0FBTyxFQUFFO1FBRTFCLE1BQU1FLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFVBQVVSO1FBQ1o7UUFFQSxJQUFJO1lBQ0YsTUFBTSxDQUFDNkUsS0FBSyxHQUFHLE1BQU0zRSxXQUFXTyxLQUFLLENBQUMsQ0FBQzs7OztNQUl2QyxDQUFDO1lBRUQsT0FBT29FO1FBRVQsRUFBRSxPQUFPOUQsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyw0QkFBNEIsRUFBRWYsV0FBVyxDQUFDLENBQUMsRUFBRWU7WUFDNUQsT0FBTyxFQUFFO1FBQ1gsU0FBVTtZQUNSLE1BQU1iLFdBQVdTLEdBQUc7UUFDdEI7SUFDRjtJQUVBLHdDQUF3QztJQUN4QyxNQUFNbUUsdUJBQXVCOUUsVUFBa0IsRUFBRStFLFFBTWhELEVBQW1CO1FBQ2xCLE1BQU03RSxhQUFhLE1BQU1kLDREQUFzQixDQUFDO1lBQzlDZ0IsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxVQUFVUjtRQUNaO1FBRUEsSUFBSTtZQUNGLE1BQU00QixTQUFTcEMsZ0RBQU1BO1lBQ3JCLE1BQU1zQyxpQkFBaUIsTUFBTXhDLG9EQUFXLENBQUN5RixTQUFTeEUsUUFBUSxFQUFFO1lBRTVELE1BQU1MLFdBQVdPLEtBQUssQ0FBQyxDQUFDOzs7TUFHeEIsQ0FBQyxFQUFFO2dCQUFDbUI7Z0JBQVFtRCxTQUFTNUMsS0FBSztnQkFBRTRDLFNBQVNDLElBQUk7Z0JBQUVsRDtnQkFBZ0JpRCxTQUFTRSxJQUFJO2dCQUFFRixTQUFTRyxRQUFRO2FBQUM7WUFFNUZyRSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWlFLFNBQVM1QyxLQUFLLENBQUMsWUFBWSxFQUFFbkMsV0FBVyxDQUFDO1lBQ3hFLE9BQU80QjtRQUVULEVBQUUsT0FBT2IsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyx5QkFBeUIsRUFBRWYsV0FBVyxDQUFDLENBQUMsRUFBRWU7WUFDekQsTUFBTUE7UUFDUixTQUFVO1lBQ1IsTUFBTWIsV0FBV1MsR0FBRztRQUN0QjtJQUNGO0lBRUEsb0NBQW9DO0lBQ3BDLE1BQU13RSx1QkFBdUJuRixVQUFrQixFQUFFNEIsTUFBYyxFQUFFbUQsUUFNaEUsRUFBaUI7UUFDaEIsTUFBTTdFLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFVBQVVSO1FBQ1o7UUFFQSxJQUFJO1lBQ0YsTUFBTW9GLFVBQW9CLEVBQUU7WUFDNUIsTUFBTUMsU0FBZ0IsRUFBRTtZQUV4QixJQUFJTixTQUFTQyxJQUFJLEtBQUtNLFdBQVc7Z0JBQy9CRixRQUFRekMsSUFBSSxDQUFDO2dCQUNiMEMsT0FBTzFDLElBQUksQ0FBQ29DLFNBQVNDLElBQUk7WUFDM0I7WUFDQSxJQUFJRCxTQUFTNUMsS0FBSyxLQUFLbUQsV0FBVztnQkFDaENGLFFBQVF6QyxJQUFJLENBQUM7Z0JBQ2IwQyxPQUFPMUMsSUFBSSxDQUFDb0MsU0FBUzVDLEtBQUs7WUFDNUI7WUFDQSxJQUFJNEMsU0FBU3hFLFFBQVEsS0FBSytFLFdBQVc7Z0JBQ25DLE1BQU14RCxpQkFBaUIsTUFBTXhDLG9EQUFXLENBQUN5RixTQUFTeEUsUUFBUSxFQUFFO2dCQUM1RDZFLFFBQVF6QyxJQUFJLENBQUM7Z0JBQ2IwQyxPQUFPMUMsSUFBSSxDQUFDYjtZQUNkO1lBQ0EsSUFBSWlELFNBQVNFLElBQUksS0FBS0ssV0FBVztnQkFDL0JGLFFBQVF6QyxJQUFJLENBQUM7Z0JBQ2IwQyxPQUFPMUMsSUFBSSxDQUFDb0MsU0FBU0UsSUFBSTtZQUMzQjtZQUNBLElBQUlGLFNBQVNHLFFBQVEsS0FBS0ksV0FBVztnQkFDbkNGLFFBQVF6QyxJQUFJLENBQUM7Z0JBQ2IwQyxPQUFPMUMsSUFBSSxDQUFDb0MsU0FBU0csUUFBUTtZQUMvQjtZQUVBLElBQUlFLFFBQVF4QyxNQUFNLEtBQUssR0FBRztZQUUxQndDLFFBQVF6QyxJQUFJLENBQUM7WUFDYjBDLE9BQU8xQyxJQUFJLENBQUNmO1lBRVosTUFBTTFCLFdBQVdPLEtBQUssQ0FBQyxDQUFDO3lCQUNMLEVBQUUyRSxRQUFRdEMsSUFBSSxDQUFDLE1BQU07TUFDeEMsQ0FBQyxFQUFFdUM7WUFFSHhFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFYyxPQUFPLFlBQVksRUFBRTVCLFdBQVcsQ0FBQztRQUVsRSxFQUFFLE9BQU9lLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLENBQUMseUJBQXlCLEVBQUVmLFdBQVcsQ0FBQyxDQUFDLEVBQUVlO1lBQ3pELE1BQU1BO1FBQ1IsU0FBVTtZQUNSLE1BQU1iLFdBQVdTLEdBQUc7UUFDdEI7SUFDRjtJQUVBLGtDQUFrQztJQUNsQyxNQUFNNEUsdUJBQXVCdkYsVUFBa0IsRUFBRTRCLE1BQWMsRUFBaUI7UUFDOUUsTUFBTTFCLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFVBQVVSO1FBQ1o7UUFFQSxJQUFJO1lBQ0YsTUFBTUUsV0FBV08sS0FBSyxDQUFDLGtDQUFrQztnQkFBQ21CO2FBQU87WUFDakVmLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFYyxPQUFPLGNBQWMsRUFBRTVCLFdBQVcsQ0FBQztRQUVwRSxFQUFFLE9BQU9lLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLENBQUMsMkJBQTJCLEVBQUVmLFdBQVcsQ0FBQyxDQUFDLEVBQUVlO1lBQzNELE1BQU1BO1FBQ1IsU0FBVTtZQUNSLE1BQU1iLFdBQVdTLEdBQUc7UUFDdEI7SUFDRjtJQUVBLGdDQUFnQztJQUNoQyxNQUFNQywrQkFBK0JaLFVBQWtCLEVBQWlCO1FBQ3RFLE1BQU1FLGFBQWEsTUFBTWQsNERBQXNCLENBQUM7WUFDOUNnQixNQUFNO1lBQ05DLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFVBQVVSO1FBQ1o7UUFFQSxJQUFJO1lBQ0YsdUVBQXVFO1lBQ3ZFLE1BQU13RiwyQkFBMkI7Z0JBQy9CQyxPQUFPO29CQUNMQyxLQUFLO3dCQUNIQyxVQUFVOzRCQUFFQyxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTXlCLFFBQVE7NEJBQU1DLFFBQVE7d0JBQUs7d0JBQzdGQyxZQUFZOzRCQUFFTCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQ2hHSSxTQUFTOzRCQUFFUCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzdGSyxPQUFPOzRCQUFFUixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzNGTSxjQUFjOzRCQUFFVCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTt3QkFBSztvQkFDdkU7b0JBQ0FnQyxZQUFZO3dCQUNWQyxRQUFROzRCQUFFWCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTXlCLFFBQVE7d0JBQUs7d0JBQzdFUyxTQUFTOzRCQUFFWixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzdGVSxRQUFROzRCQUFFYixNQUFNOzRCQUFNRyxRQUFRO3dCQUFLO29CQUNyQztvQkFDQVcsT0FBTzt3QkFDTEMsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU15QixRQUFROzRCQUFNQyxRQUFRO3dCQUFLO3dCQUM3RlksV0FBVzs0QkFBRWhCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFNNEIsU0FBUzs0QkFBTUgsUUFBUTt3QkFBSzt3QkFDL0ZVLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQUs7b0JBQ3JDO29CQUNBYyxXQUFXO3dCQUNUQyxTQUFTOzRCQUFFbEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU15QixRQUFROzRCQUFNQyxRQUFRO3dCQUFLO3dCQUM1RmUsT0FBTzs0QkFBRW5CLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFNeUIsUUFBUTt3QkFBSzt3QkFDNUVpQixhQUFhOzRCQUFFcEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU15QixRQUFRO3dCQUFLO29CQUNwRjtvQkFDQWtCLFlBQVk7d0JBQ1ZDLE9BQU87NEJBQUV0QixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzNGb0IsVUFBVTs0QkFBRXZCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFNeUIsUUFBUTs0QkFBTUMsUUFBUTt3QkFBSzt3QkFDN0ZTLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQUs7b0JBQ3JDO29CQUNBcUIsS0FBSzt3QkFDSFQsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU15QixRQUFROzRCQUFNQyxRQUFRO3dCQUFLO3dCQUM3RnFCLFNBQVM7NEJBQUV6QixNQUFNOzRCQUFNRyxRQUFRO3dCQUFLO3dCQUNwQ3VCLFVBQVU7NEJBQUUxQixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTXlCLFFBQVE7d0JBQUs7b0JBQ2pGO29CQUNBd0IsU0FBUzt3QkFDUEMsTUFBTTs0QkFBRTVCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFNeUIsUUFBUTt3QkFBSzt3QkFDM0UwQixRQUFROzRCQUFFN0IsTUFBTTs0QkFBTUUsUUFBUTs0QkFBTUMsUUFBUTt3QkFBSzt3QkFDakQyQixjQUFjOzRCQUFFOUIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7d0JBQUs7b0JBQ3ZFO29CQUNBcUQsVUFBVTt3QkFDUnJILE1BQU07NEJBQUVzRixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTXlCLFFBQVE7d0JBQUs7d0JBQzNFckQsWUFBWTs0QkFBRWtELE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFRO3dCQUFLO3dCQUNuRXNELFFBQVE7NEJBQUVoQyxNQUFNOzRCQUFNRSxRQUFRO3dCQUFLO3dCQUNuQzRCLGNBQWM7NEJBQUU5QixNQUFNOzRCQUFNRSxRQUFRO3dCQUFLO29CQUMzQztnQkFDRjtnQkFDQStCLFNBQVM7b0JBQ1BuQyxLQUFLO3dCQUNIQyxVQUFVOzRCQUFFQyxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBT3lCLFFBQVE7NEJBQU1DLFFBQVE7d0JBQU07d0JBQy9GQyxZQUFZOzRCQUFFTCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQ2xHSSxTQUFTOzRCQUFFUCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQ2hHSyxPQUFPOzRCQUFFUixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzVGTSxjQUFjOzRCQUFFVCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTt3QkFBTTtvQkFDeEU7b0JBQ0FnQyxZQUFZO3dCQUNWQyxRQUFROzRCQUFFWCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQUs7d0JBQzlFUyxTQUFTOzRCQUFFWixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQ2hHVSxRQUFROzRCQUFFYixNQUFNOzRCQUFNRyxRQUFRO3dCQUFLO29CQUNyQztvQkFDQVcsT0FBTzt3QkFDTEMsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU95QixRQUFROzRCQUFNQyxRQUFRO3dCQUFNO3dCQUMvRlksV0FBVzs0QkFBRWhCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPNEIsU0FBUzs0QkFBTUgsUUFBUTt3QkFBSzt3QkFDaEdVLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQUs7b0JBQ3JDO29CQUNBYyxXQUFXO3dCQUNUQyxTQUFTOzRCQUFFbEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU95QixRQUFROzRCQUFNQyxRQUFRO3dCQUFNO3dCQUM5RmUsT0FBTzs0QkFBRW5CLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBSzt3QkFDN0VpQixhQUFhOzRCQUFFcEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU95QixRQUFRO3dCQUFLO29CQUNyRjtvQkFDQWtCLFlBQVk7d0JBQ1ZDLE9BQU87NEJBQUV0QixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU1ILFFBQVE7d0JBQUs7d0JBQzVGb0IsVUFBVTs0QkFBRXZCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPeUIsUUFBUTs0QkFBTUMsUUFBUTt3QkFBTTt3QkFDL0ZTLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQUs7b0JBQ3JDO29CQUNBcUIsS0FBSzt3QkFDSFQsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7NEJBQU95QixRQUFROzRCQUFNQyxRQUFRO3dCQUFNO3dCQUMvRnFCLFNBQVM7NEJBQUV6QixNQUFNOzRCQUFNRyxRQUFRO3dCQUFNO3dCQUNyQ3VCLFVBQVU7NEJBQUUxQixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQUs7b0JBQ2xGO29CQUNBd0IsU0FBUzt3QkFDUEMsTUFBTTs0QkFBRTVCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBSzt3QkFDNUUwQixRQUFROzRCQUFFN0IsTUFBTTs0QkFBTUUsUUFBUTs0QkFBTUMsUUFBUTt3QkFBSzt3QkFDakQyQixjQUFjOzRCQUFFOUIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBTXhCLFFBQVE7d0JBQU07b0JBQ3hFO29CQUNBcUQsVUFBVTt3QkFDUnJILE1BQU07NEJBQUVzRixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07d0JBQy9FckQsWUFBWTs0QkFBRWtELE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFRO3dCQUFNO3dCQUN0RXNELFFBQVE7NEJBQUVoQyxNQUFNOzRCQUFNRSxRQUFRO3dCQUFNO3dCQUNwQzRCLGNBQWM7NEJBQUU5QixNQUFNOzRCQUFNRSxRQUFRO3dCQUFLO29CQUMzQztnQkFDRjtnQkFDQWdDLE1BQU07b0JBQ0pwQyxLQUFLO3dCQUNIQyxVQUFVOzRCQUFFQyxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7NEJBQU9DLFFBQVE7d0JBQU07d0JBQ2xHQyxZQUFZOzRCQUFFTCxNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ25HSSxTQUFTOzRCQUFFUCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ2xHSyxPQUFPOzRCQUFFUixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTTRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQzdGTSxjQUFjOzRCQUFFVCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTt3QkFBTTtvQkFDMUU7b0JBQ0FnQyxZQUFZO3dCQUNWQyxRQUFROzRCQUFFWCxNQUFNOzRCQUFPQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07d0JBQ2xGUyxTQUFTOzRCQUFFWixNQUFNOzRCQUFPQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ25HVSxRQUFROzRCQUFFYixNQUFNOzRCQUFPRyxRQUFRO3dCQUFNO29CQUN2QztvQkFDQVcsT0FBTzt3QkFDTEMsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNsR1ksV0FBVzs0QkFBRWhCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPNEIsU0FBUzs0QkFBT0gsUUFBUTt3QkFBTTt3QkFDbEdVLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQU07b0JBQ3RDO29CQUNBYyxXQUFXO3dCQUNUQyxTQUFTOzRCQUFFbEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNqR2UsT0FBTzs0QkFBRW5CLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBTTt3QkFDaEZpQixhQUFhOzRCQUFFcEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBTUMsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFRO3dCQUFNO29CQUN2RjtvQkFDQWtCLFlBQVk7d0JBQ1ZDLE9BQU87NEJBQUV0QixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQzlGb0IsVUFBVTs0QkFBRXZCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPeUIsUUFBUTs0QkFBT0MsUUFBUTt3QkFBTTt3QkFDbEdTLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQU07b0JBQ3RDO29CQUNBcUIsS0FBSzt3QkFDSFQsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNsR3FCLFNBQVM7NEJBQUV6QixNQUFNOzRCQUFNRyxRQUFRO3dCQUFNO3dCQUNyQ3VCLFVBQVU7NEJBQUUxQixNQUFNOzRCQUFNQyxRQUFROzRCQUFNQyxRQUFROzRCQUFNeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07b0JBQ25GO29CQUNBd0IsU0FBUzt3QkFDUEMsTUFBTTs0QkFBRTVCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU1DLFFBQVE7NEJBQU14QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBTTt3QkFDN0UwQixRQUFROzRCQUFFN0IsTUFBTTs0QkFBTUUsUUFBUTs0QkFBT0MsUUFBUTt3QkFBTTt3QkFDbkQyQixjQUFjOzRCQUFFOUIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7d0JBQU07b0JBQzFFO29CQUNBcUQsVUFBVTt3QkFDUnJILE1BQU07NEJBQUVzRixNQUFNOzRCQUFPQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07d0JBQ2hGckQsWUFBWTs0QkFBRWtELE1BQU07NEJBQU9DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFRO3dCQUFNO3dCQUN2RXNELFFBQVE7NEJBQUVoQyxNQUFNOzRCQUFPRSxRQUFRO3dCQUFNO3dCQUNyQzRCLGNBQWM7NEJBQUU5QixNQUFNOzRCQUFNRSxRQUFRO3dCQUFLO29CQUMzQztnQkFDRjtnQkFDQWlDLFFBQVE7b0JBQ05yQyxLQUFLO3dCQUNIQyxVQUFVOzRCQUFFQyxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7NEJBQU9DLFFBQVE7d0JBQU07d0JBQ2xHQyxZQUFZOzRCQUFFTCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ3JHSSxTQUFTOzRCQUFFUCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ2xHSyxPQUFPOzRCQUFFUixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ2hHTSxjQUFjOzRCQUFFVCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTt3QkFBTTtvQkFDMUU7b0JBQ0FnQyxZQUFZO3dCQUNWQyxRQUFROzRCQUFFWCxNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07d0JBQ2pGUyxTQUFTOzRCQUFFWixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ2xHVSxRQUFROzRCQUFFYixNQUFNOzRCQUFNRyxRQUFRO3dCQUFNO29CQUN0QztvQkFDQVcsT0FBTzt3QkFDTEMsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNsR1ksV0FBVzs0QkFBRWhCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPNEIsU0FBUzs0QkFBT0gsUUFBUTt3QkFBTTt3QkFDcEdVLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQU07b0JBQ3RDO29CQUNBYyxXQUFXO3dCQUNUQyxTQUFTOzRCQUFFbEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNqR2UsT0FBTzs0QkFBRW5CLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBTTt3QkFDaEZpQixhQUFhOzRCQUFFcEIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFRO3dCQUFNO29CQUN4RjtvQkFDQWtCLFlBQVk7d0JBQ1ZDLE9BQU87NEJBQUV0QixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBTzRCLFNBQVM7NEJBQU9ILFFBQVE7d0JBQU07d0JBQ2hHb0IsVUFBVTs0QkFBRXZCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPeUIsUUFBUTs0QkFBT0MsUUFBUTt3QkFBTTt3QkFDbEdTLFFBQVE7NEJBQUViLE1BQU07NEJBQU1HLFFBQVE7d0JBQU07b0JBQ3RDO29CQUNBcUIsS0FBSzt3QkFDSFQsVUFBVTs0QkFBRWYsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7NEJBQU95QixRQUFROzRCQUFPQyxRQUFRO3dCQUFNO3dCQUNsR3FCLFNBQVM7NEJBQUV6QixNQUFNOzRCQUFNRyxRQUFRO3dCQUFNO3dCQUNyQ3VCLFVBQVU7NEJBQUUxQixNQUFNOzRCQUFNQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07b0JBQ3JGO29CQUNBd0IsU0FBUzt3QkFDUEMsTUFBTTs0QkFBRTVCLE1BQU07NEJBQU1DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFROzRCQUFPeUIsUUFBUTt3QkFBTTt3QkFDL0UwQixRQUFROzRCQUFFN0IsTUFBTTs0QkFBTUUsUUFBUTs0QkFBT0MsUUFBUTt3QkFBTTt3QkFDbkQyQixjQUFjOzRCQUFFOUIsTUFBTTs0QkFBTUMsUUFBUTs0QkFBT0MsUUFBUTs0QkFBT3hCLFFBQVE7d0JBQU07b0JBQzFFO29CQUNBcUQsVUFBVTt3QkFDUnJILE1BQU07NEJBQUVzRixNQUFNOzRCQUFPQyxRQUFROzRCQUFPQyxRQUFROzRCQUFPeEIsUUFBUTs0QkFBT3lCLFFBQVE7d0JBQU07d0JBQ2hGckQsWUFBWTs0QkFBRWtELE1BQU07NEJBQU9DLFFBQVE7NEJBQU9DLFFBQVE7NEJBQU94QixRQUFRO3dCQUFNO3dCQUN2RXNELFFBQVE7NEJBQUVoQyxNQUFNOzRCQUFPRSxRQUFRO3dCQUFNO3dCQUNyQzRCLGNBQWM7NEJBQUU5QixNQUFNOzRCQUFNRSxRQUFRO3dCQUFNO29CQUM1QztnQkFDRjtZQUNGO1lBRUEsZ0NBQWdDO1lBQ2hDLE1BQU01RixXQUFXTyxLQUFLLENBQUM7WUFFdkIsTUFBTXVILHdCQUF3QixFQUFFO1lBRWhDLHFEQUFxRDtZQUNyRCxLQUFLLE1BQU0sQ0FBQ0MsVUFBVUMsZ0JBQWdCLElBQUlDLE9BQU9DLE9BQU8sQ0FBQzVDLDBCQUEyQjtnQkFDbEYsS0FBSyxNQUFNLENBQUNuRCxRQUFRZ0csa0JBQWtCLElBQUlGLE9BQU9DLE9BQU8sQ0FBQ0YsaUJBQXlCO29CQUNoRixLQUFLLE1BQU0sQ0FBQzVGLFdBQVdnRyxxQkFBcUIsSUFBSUgsT0FBT0MsT0FBTyxDQUFDQyxtQkFBMkI7d0JBQ3hGLEtBQUssTUFBTSxDQUFDM0YsWUFBWTZGLFFBQVEsSUFBSUosT0FBT0MsT0FBTyxDQUFDRSxzQkFBOEI7NEJBQy9FTixzQkFBc0JyRixJQUFJLENBQUM7Z0NBQ3pCc0Y7Z0NBQ0E1RjtnQ0FDQUM7Z0NBQ0FJO2dDQUNBNkY7NkJBQ0Q7d0JBQ0g7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUVBLHFDQUFxQztZQUNyQyxJQUFJUCxzQkFBc0JwRixNQUFNLEdBQUcsR0FBRztnQkFDcEMsTUFBTTFDLFdBQVdPLEtBQUssQ0FBQyxDQUFDOzs7UUFHeEIsQ0FBQyxFQUFFO29CQUFDdUg7aUJBQXNCO1lBQzVCO1lBRUFuSCxRQUFRQyxHQUFHLENBQUMsQ0FBQyx1Q0FBdUMsRUFBRWQsV0FBVyxDQUFDO1FBQ3BFLEVBQUUsT0FBT2UsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyxzQ0FBc0MsRUFBRWYsV0FBVyxDQUFDLENBQUMsRUFBRWU7WUFDdEUsTUFBTUE7UUFDUixTQUFVO1lBQ1IsTUFBTWIsV0FBV1MsR0FBRztRQUN0QjtJQUNGOzthQS85Q1F1QyxjQUE2QyxJQUFJc0Y7YUFDakQzRSxhQUF3QyxJQUFJMkU7O0FBKzlDdEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcnAtYmFja2VuZC8uL2xpYi9kYXRhYmFzZS1tYW5hZ2VyLnRzPzJhY2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJ1xyXG5pbXBvcnQgcHJpc21hIGZyb20gJy4vcHJpc21hJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhYmFzZU1hbmFnZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBEYXRhYmFzZU1hbmFnZXJcclxuICBwcml2YXRlIGNvbm5lY3Rpb25zOiBNYXA8c3RyaW5nLCBteXNxbC5Db25uZWN0aW9uPiA9IG5ldyBNYXAoKVxyXG4gIHByaXZhdGUgb3JnQ2xpZW50czogTWFwPHN0cmluZywgUHJpc21hQ2xpZW50PiA9IG5ldyBNYXAoKVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogRGF0YWJhc2VNYW5hZ2VyIHtcclxuICAgIGlmICghRGF0YWJhc2VNYW5hZ2VyLmluc3RhbmNlKSB7XHJcbiAgICAgIERhdGFiYXNlTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBEYXRhYmFzZU1hbmFnZXIoKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIERhdGFiYXNlTWFuYWdlci5pbnN0YW5jZVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiHIERhdGFiYXNlIFNjaGVtYSDguYPguKvguKHguYjguKrguLPguKvguKPguLHguJrguK3guIfguITguYzguIHguKNcclxuICBhc3luYyBjcmVhdGVPcmdhbml6YXRpb25TY2hlbWEob3JnQ29kZTogc3RyaW5nLCBhZG1pbkRhdGE/OiB7XHJcbiAgICBhZG1pbk5hbWU6IHN0cmluZyxcclxuICAgIGFkbWluRW1haWw6IHN0cmluZyxcclxuICAgIG9yZ05hbWU6IHN0cmluZ1xyXG4gIH0pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgY29uc3Qgc2NoZW1hTmFtZSA9IGBvcmdfJHtvcmdDb2RlLnRvTG93ZXJDYXNlKCl9YFxyXG4gICAgXHJcbiAgICAvLyDguKrguKPguYnguLLguIcgY29ubmVjdGlvbiDguYTguJvguKLguLHguIcgTXlTUUxcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcclxuICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICAgIHBvcnQ6IDMzMDYsXHJcbiAgICAgIHVzZXI6ICdlcnBfYXBwJyxcclxuICAgICAgcGFzc3dvcmQ6ICdlcnBfYXBwX3Bhc3MxMjMnLFxyXG4gICAgICBkYXRhYmFzZTogJ2VycF9tYWluJ1xyXG4gICAgfSlcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyDguKrguKPguYnguLLguIcgRGF0YWJhc2UgU2NoZW1hXHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoYENSRUFURSBEQVRBQkFTRSBJRiBOT1QgRVhJU1RTIFxcYCR7c2NoZW1hTmFtZX1cXGBgKVxyXG4gICAgICBcclxuICAgICAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiHIFVzZXJzIOC4quC4s+C4q+C4o+C4seC4muC4reC4h+C4hOC5jOC4geC4o+C4meC4teC5iVxyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KGBVU0UgXFxgJHtzY2hlbWFOYW1lfVxcYGApXHJcbiAgICAgIFxyXG4gICAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIfguJ7guLfguYnguJnguJDguLLguJnguKrguLPguKvguKPguLHguJogRVJQXHJcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQmFzaWNUYWJsZXMoY29ubmVjdGlvbilcclxuICAgICAgXHJcbiAgICAgIC8vIOC4m+C4tOC4lCBjb25uZWN0aW9uIOC5gOC4lOC4tOC4oVxyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb3B1bGF0ZSBkZWZhdWx0IHJvbGUgcGVybWlzc2lvbnNcclxuICAgICAgYXdhaXQgdGhpcy5wb3B1bGF0ZURlZmF1bHRSb2xlUGVybWlzc2lvbnMoc2NoZW1hTmFtZSlcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ3JlYXRlZCBzY2hlbWE6ICR7c2NoZW1hTmFtZX1gKVxyXG4gICAgICByZXR1cm4gc2NoZW1hTmFtZVxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBjcmVhdGluZyBzY2hlbWEgJHtzY2hlbWFOYW1lfTpgLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4h+C4nuC4t+C5ieC4meC4kOC4suC4meC4quC4s+C4q+C4o+C4seC4miBFUlAg4LmD4LiZ4LmB4LiV4LmI4Lil4Liw4Lit4LiH4LiE4LmM4LiB4LijXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVCYXNpY1RhYmxlcyhjb25uZWN0aW9uOiBteXNxbC5Db25uZWN0aW9uKSB7XHJcbiAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIfguKPguLDguJrguJrguJ7guLfguYnguJnguJDguLLguJlcclxuICAgIGF3YWl0IHRoaXMuY3JlYXRlU3lzdGVtVGFibGVzKGNvbm5lY3Rpb24pXHJcbiAgICBcclxuICAgIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4hyBIUk0gTW9kdWxlXHJcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUhSTVRhYmxlcyhjb25uZWN0aW9uKVxyXG4gICAgXHJcbiAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgQWNjb3VudGluZyBNb2R1bGVcclxuICAgIGF3YWl0IHRoaXMuY3JlYXRlQWNjb3VudGluZ1RhYmxlcyhjb25uZWN0aW9uKVxyXG4gICAgXHJcbiAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgU2FsZXMgTW9kdWxlXHJcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZVNhbGVzVGFibGVzKGNvbm5lY3Rpb24pXHJcbiAgICBcclxuICAgIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4hyBJbnZlbnRvcnkgTW9kdWxlXHJcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUludmVudG9yeVRhYmxlcyhjb25uZWN0aW9uKVxyXG4gICAgXHJcbiAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgUHVyY2hhc2luZyBNb2R1bGVcclxuICAgIGF3YWl0IHRoaXMuY3JlYXRlUHVyY2hhc2luZ1RhYmxlcyhjb25uZWN0aW9uKVxyXG4gICAgXHJcbiAgICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgQ1JNIE1vZHVsZVxyXG4gICAgYXdhaXQgdGhpcy5jcmVhdGVDUk1UYWJsZXMoY29ubmVjdGlvbilcclxuICAgIFxyXG4gICAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiHIFByb2plY3QgTW9kdWxlXHJcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZVByb2plY3RUYWJsZXMoY29ubmVjdGlvbilcclxuICAgIFxyXG4gICAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiHIFNldHRpbmdzIE1vZHVsZVxyXG4gICAgYXdhaXQgdGhpcy5jcmVhdGVTZXR0aW5nc1RhYmxlcyhjb25uZWN0aW9uKVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiH4Lij4Liw4Lia4Lia4Lie4Li34LmJ4LiZ4LiQ4Liy4LiZXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVTeXN0ZW1UYWJsZXMoY29ubmVjdGlvbjogbXlzcWwuQ29ubmVjdGlvbikge1xyXG4gICAgY29uc3QgdGFibGVzID0gW1xyXG4gICAgICAvLyBVc2VycyB0YWJsZSDguKrguLPguKvguKPguLHguJrguK3guIfguITguYzguIHguKNcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgZW1haWwgVkFSQ0hBUigxOTEpIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICBuYW1lIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCxcclxuICAgICAgICBwYXNzd29yZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgcm9sZSBFTlVNKCdTVVBFUl9BRE1JTicsICdBRE1JTicsICdNQU5BR0VSJywgJ1VTRVInLCAnVklFV0VSJykgREVGQVVMVCAnVVNFUicsXHJcbiAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gVXNlciBwZXJtaXNzaW9ucyB0YWJsZSDguKrguLPguKvguKPguLHguJrguIjguLHguJTguIHguLLguKPguKrguLTguJfguJjguLTguYzguYHguJrguJrguKXguLDguYDguK3guLXguKLguJRcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJfcGVybWlzc2lvbnMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMzYpIE5PVCBOVUxMIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIHVzZXJfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIG1vZHVsZSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXHJcbiAgICAgICAgc3VibW9kdWxlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcclxuICAgICAgICBwZXJtaXNzaW9uIFZBUkNIQVIoNTApIE5PVCBOVUxMLFxyXG4gICAgICAgIGhhc19wZXJtaXNzaW9uIEJPT0xFQU4gREVGQVVMVCBGQUxTRSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfdXNlcl9tb2R1bGUgKHVzZXJfaWQsIG1vZHVsZSwgc3VibW9kdWxlKSxcclxuICAgICAgICBJTkRFWCBpZHhfcGVybWlzc2lvbiAocGVybWlzc2lvbiksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIFVOSVFVRSBLRVkgdW5pcXVlX3VzZXJfcGVybWlzc2lvbiAodXNlcl9pZCwgbW9kdWxlLCBzdWJtb2R1bGUsIHBlcm1pc3Npb24pXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gUm9sZSB0ZW1wbGF0ZXMgdGFibGUg4Liq4Liz4Lir4Lij4Lix4Lia4LmA4LiB4LmH4LiaIHRlbXBsYXRlIOC4quC4tOC4l+C4mOC4tOC5jOC4leC4suC4oSByb2xlXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyByb2xlX3RlbXBsYXRlcyAoXHJcbiAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIHJvbGUgVkFSQ0hBUig1MCkgTk9UIE5VTEwsXHJcbiAgICAgICAgbW9kdWxlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcclxuICAgICAgICBzdWJtb2R1bGUgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxyXG4gICAgICAgIHBlcm1pc3Npb24gVkFSQ0hBUig1MCkgTk9UIE5VTEwsXHJcbiAgICAgICAgZ3JhbnRlZCBCT09MRUFOIERFRkFVTFQgRkFMU0UsXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X3JvbGVfbW9kdWxlIChyb2xlLCBtb2R1bGUsIHN1Ym1vZHVsZSksXHJcbiAgICAgICAgVU5JUVVFIEtFWSB1bmlxdWVfcm9sZV9wZXJtaXNzaW9uIChyb2xlLCBtb2R1bGUsIHN1Ym1vZHVsZSwgcGVybWlzc2lvbilcclxuICAgICAgKWBcclxuICAgIF1cclxuXHJcbiAgICBmb3IgKGNvbnN0IHNxbCBvZiB0YWJsZXMpIHtcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeShzcWwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgSFJNIE1vZHVsZVxyXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlSFJNVGFibGVzKGNvbm5lY3Rpb246IG15c3FsLkNvbm5lY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlcyA9IFtcclxuICAgICAgLy8gSFJNX0VNUExPWUVFUyAtIOC4iOC4seC4lOC4geC4suC4o+C4guC5ieC4reC4oeC4ueC4peC4nuC4meC4seC4geC4h+C4suC4mVxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaHJtX2VtcGxveWVlcyAoXHJcbiAgICAgICAgaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIGVtcGxveWVlX2NvZGUgVkFSQ0hBUigxMDApIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICB1c2VyX2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBkZXBhcnRtZW50X2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBmaXJzdF9uYW1lIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCxcclxuICAgICAgICBsYXN0X25hbWUgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGZ1bGxfbmFtZSBWQVJDSEFSKDE5MSkgR0VORVJBVEVEIEFMV0FZUyBBUyAoQ09OQ0FUKGZpcnN0X25hbWUsICcgJywgbGFzdF9uYW1lKSkgU1RPUkVELFxyXG4gICAgICAgIHBvc2l0aW9uIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBlbWFpbCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgcGhvbmUgVkFSQ0hBUig1MCksXHJcbiAgICAgICAgYWRkcmVzcyBURVhULFxyXG4gICAgICAgIGhpcmVfZGF0ZSBEQVRFLFxyXG4gICAgICAgIGJpcnRoX2RhdGUgREFURSxcclxuICAgICAgICBpZF9jYXJkIFZBUkNIQVIoMjApLFxyXG4gICAgICAgIHNhbGFyeSBERUNJTUFMKDE1LDIpLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdBQ1RJVkUnLCAnSU5BQ1RJVkUnLCAnVEVSTUlOQVRFRCcpIERFRkFVTFQgJ0FDVElWRScsXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X2VtcGxveWVlX2NvZGUgKGVtcGxveWVlX2NvZGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9kZXBhcnRtZW50IChkZXBhcnRtZW50X2lkKSxcclxuICAgICAgICBJTkRFWCBpZHhfdXNlciAodXNlcl9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X3N0YXR1cyAoc3RhdHVzKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gSFJNX0RFUEFSVE1FTlRTIC0g4Lir4LiZ4LmI4Lin4Lii4LiH4Liy4LiZL+C5geC4nOC4meC4gVxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaHJtX2RlcGFydG1lbnRzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcclxuICAgICAgICBtYW5hZ2VyX2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBwYXJlbnRfaWQgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGlzX2FjdGl2ZSBCT09MRUFOIERFRkFVTFQgVFJVRSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfbWFuYWdlciAobWFuYWdlcl9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X3BhcmVudCAocGFyZW50X2lkKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAobWFuYWdlcl9pZCkgUkVGRVJFTkNFUyBocm1fZW1wbG95ZWVzKGlkKSBPTiBERUxFVEUgU0VUIE5VTExcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBIUk1fQVRURU5EQU5DRSAtIOC4muC4seC4meC4l+C4tuC4geC5gOC4p+C4peC4suC5gOC4guC5ieC4si3guK3guK3guIHguIfguLLguJlcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGhybV9hdHRlbmRhbmNlIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgZW1wbG95ZWVfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRhdGUgREFURSBOT1QgTlVMTCxcclxuICAgICAgICBjaGVja19pbl90aW1lIFRJTUUsXHJcbiAgICAgICAgY2hlY2tfb3V0X3RpbWUgVElNRSxcclxuICAgICAgICBicmVha190aW1lX21pbnV0ZXMgSU5UIERFRkFVTFQgMCxcclxuICAgICAgICBvdmVydGltZV9taW51dGVzIElOVCBERUZBVUxUIDAsXHJcbiAgICAgICAgbGF0ZV9taW51dGVzIElOVCBERUZBVUxUIDAsXHJcbiAgICAgICAgc3RhdHVzIEVOVU0oJ1BSRVNFTlQnLCAnQUJTRU5UJywgJ0xBVEUnLCAnSEFMRl9EQVknLCAnSE9MSURBWScpIERFRkFVTFQgJ1BSRVNFTlQnLFxyXG4gICAgICAgIG5vdGVzIFRFWFQsXHJcbiAgICAgICAgYXBwcm92ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGFwcHJvdmVkX2F0IERBVEVUSU1FKDMpLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9lbXBsb3llZV9kYXRlIChlbXBsb3llZV9pZCwgZGF0ZSksXHJcbiAgICAgICAgSU5ERVggaWR4X2RhdGUgKGRhdGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGVtcGxveWVlX2lkKSBSRUZFUkVOQ0VTIGhybV9lbXBsb3llZXMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChhcHByb3ZlZF9ieSkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLFxyXG4gICAgICAgIFVOSVFVRSBLRVkgdW5pcXVlX2VtcGxveWVlX2RhdGUgKGVtcGxveWVlX2lkLCBkYXRlKVxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIEhSTV9MRUFWRV9SRVFVRVNUUyAtIOC4hOC4s+C4guC4reC4peC4suC4h+C4suC4mVxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaHJtX2xlYXZlX3JlcXVlc3RzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgZW1wbG95ZWVfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGxlYXZlX3R5cGUgRU5VTSgnU0lDSycsICdBTk5VQUwnLCAnUEVSU09OQUwnLCAnTUFURVJOSVRZJywgJ1BBVEVSTklUWScsICdPVEhFUicpIE5PVCBOVUxMLFxyXG4gICAgICAgIHN0YXJ0X2RhdGUgREFURSBOT1QgTlVMTCxcclxuICAgICAgICBlbmRfZGF0ZSBEQVRFIE5PVCBOVUxMLFxyXG4gICAgICAgIGRheXNfcmVxdWVzdGVkIERFQ0lNQUwoMywxKSBOT1QgTlVMTCxcclxuICAgICAgICByZWFzb24gVEVYVCBOT1QgTlVMTCxcclxuICAgICAgICBzdGF0dXMgRU5VTSgnUEVORElORycsICdBUFBST1ZFRCcsICdSRUpFQ1RFRCcsICdDQU5DRUxMRUQnKSBERUZBVUxUICdQRU5ESU5HJyxcclxuICAgICAgICBhcHByb3ZlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgYXBwcm92ZWRfYXQgREFURVRJTUUoMyksXHJcbiAgICAgICAgcmVqZWN0aW9uX3JlYXNvbiBURVhULFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9lbXBsb3llZSAoZW1wbG95ZWVfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9kYXRlcyAoc3RhcnRfZGF0ZSwgZW5kX2RhdGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgSU5ERVggaWR4X2xlYXZlX3R5cGUgKGxlYXZlX3R5cGUpLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChlbXBsb3llZV9pZCkgUkVGRVJFTkNFUyBocm1fZW1wbG95ZWVzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAoYXBwcm92ZWRfYnkpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTFxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIEhSTV9QQVlST0xMIC0g4LmA4LiH4Li04LiZ4LmA4LiU4Li34Lit4LiZ4LmB4Lil4Liw4Liq4Lin4Lix4Liq4LiU4Li04LiB4Liy4LijXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBocm1fcGF5cm9sbCAoXHJcbiAgICAgICAgaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIGVtcGxveWVlX2lkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCxcclxuICAgICAgICBwZXJpb2RfeWVhciBJTlQgTk9UIE5VTEwsXHJcbiAgICAgICAgcGVyaW9kX21vbnRoIElOVCBOT1QgTlVMTCxcclxuICAgICAgICBiYXNlX3NhbGFyeSBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIG92ZXJ0aW1lX3BheSBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBib251cyBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBhbGxvd2FuY2VzIERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIGRlZHVjdGlvbnMgREVDSU1BTCgxNSwyKSBERUZBVUxUIDAsXHJcbiAgICAgICAgdGF4X2RlZHVjdGlvbiBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBzb2NpYWxfc2VjdXJpdHkgREVDSU1BTCgxNSwyKSBERUZBVUxUIDAsXHJcbiAgICAgICAgbmV0X3NhbGFyeSBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdEUkFGVCcsICdDQUxDVUxBVEVEJywgJ0FQUFJPVkVEJywgJ1BBSUQnKSBERUZBVUxUICdEUkFGVCcsXHJcbiAgICAgICAgcGFpZF9kYXRlIERBVEUsXHJcbiAgICAgICAgbm90ZXMgVEVYVCxcclxuICAgICAgICBhcHByb3ZlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgYXBwcm92ZWRfYXQgREFURVRJTUUoMyksXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X2VtcGxveWVlX3BlcmlvZCAoZW1wbG95ZWVfaWQsIHBlcmlvZF95ZWFyLCBwZXJpb2RfbW9udGgpLFxyXG4gICAgICAgIElOREVYIGlkeF9wZXJpb2QgKHBlcmlvZF95ZWFyLCBwZXJpb2RfbW9udGgpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGVtcGxveWVlX2lkKSBSRUZFUkVOQ0VTIGhybV9lbXBsb3llZXMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChhcHByb3ZlZF9ieSkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLFxyXG4gICAgICAgIFVOSVFVRSBLRVkgdW5pcXVlX2VtcGxveWVlX3BlcmlvZCAoZW1wbG95ZWVfaWQsIHBlcmlvZF95ZWFyLCBwZXJpb2RfbW9udGgpXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gSFJNX0FOTk9VTkNFTUVOVFMgLSDguJvguKPguLDguIHguLLguKjguILguYjguLLguKfguKrguLLguKNcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGhybV9hbm5vdW5jZW1lbnRzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgdGl0bGUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxyXG4gICAgICAgIGNvbnRlbnQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgICB0eXBlIEVOVU0oJ0dFTkVSQUwnLCAnVVJHRU5UJywgJ1BPTElDWScsICdFVkVOVCcsICdOT1RJQ0UnKSBERUZBVUxUICdHRU5FUkFMJyxcclxuICAgICAgICB0YXJnZXRfZGVwYXJ0bWVudHMgSlNPTixcclxuICAgICAgICB0YXJnZXRfZW1wbG95ZWVzIEpTT04sXHJcbiAgICAgICAgaXNfcHVibGlzaGVkIEJPT0xFQU4gREVGQVVMVCBGQUxTRSxcclxuICAgICAgICBwdWJsaXNoZWRfYXQgREFURVRJTUUoMyksXHJcbiAgICAgICAgZXhwaXJlc19hdCBEQVRFVElNRSgzKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfdHlwZSAodHlwZSksXHJcbiAgICAgICAgSU5ERVggaWR4X3B1Ymxpc2hlZCAoaXNfcHVibGlzaGVkLCBwdWJsaXNoZWRfYXQpLFxyXG4gICAgICAgIElOREVYIGlkeF9leHBpcmVzIChleHBpcmVzX2F0KSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAoY3JlYXRlZF9ieSkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMXHJcbiAgICAgIClgXHJcbiAgICBdXHJcblxyXG4gICAgZm9yIChjb25zdCBzcWwgb2YgdGFibGVzKSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoc3FsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiHIEFjY291bnRpbmcgTW9kdWxlXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVBY2NvdW50aW5nVGFibGVzKGNvbm5lY3Rpb246IG15c3FsLkNvbm5lY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlcyA9IFtcclxuICAgICAgLy8gQUNDT1VOVElOR19JTkNPTUUgLSDguIjguLHguJTguIHguLLguKPguKPguLLguKLguYTguJTguYlcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFjY291bnRpbmdfaW5jb21lIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgaW5jb21lX2NvZGUgVkFSQ0hBUigxMDApIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICBjYXRlZ29yeSBFTlVNKCdTQUxFUycsICdTRVJWSUNFJywgJ0lOVEVSRVNUJywgJ09USEVSJykgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCBOT1QgTlVMTCxcclxuICAgICAgICBhbW91bnQgREVDSU1BTCgxNSwyKSBOT1QgTlVMTCxcclxuICAgICAgICB0YXhfYW1vdW50IERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIG5ldF9hbW91bnQgREVDSU1BTCgxNSwyKSBOT1QgTlVMTCxcclxuICAgICAgICBpbmNvbWVfZGF0ZSBEQVRFIE5PVCBOVUxMLFxyXG4gICAgICAgIHBheW1lbnRfbWV0aG9kIEVOVU0oJ0NBU0gnLCAnQkFOS19UUkFOU0ZFUicsICdDUkVESVRfQ0FSRCcsICdDSEVRVUUnKSBERUZBVUxUICdDQVNIJyxcclxuICAgICAgICBjdXN0b21lcl9pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgcmVmZXJlbmNlX251bWJlciBWQVJDSEFSKDEwMCksXHJcbiAgICAgICAgc3RhdHVzIEVOVU0oJ1BFTkRJTkcnLCAnQ09ORklSTUVEJywgJ0NBTkNFTExFRCcpIERFRkFVTFQgJ1BFTkRJTkcnLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9pbmNvbWVfY29kZSAoaW5jb21lX2NvZGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9jYXRlZ29yeSAoY2F0ZWdvcnkpLFxyXG4gICAgICAgIElOREVYIGlkeF9pbmNvbWVfZGF0ZSAoaW5jb21lX2RhdGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9jdXN0b21lciAoY3VzdG9tZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cylcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBBQ0NPVU5USU5HX0VYUEVOU0VTIC0g4LiI4Lix4LiU4LiB4Liy4Lij4Lij4Liy4Lii4LiI4LmI4Liy4LiiXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBhY2NvdW50aW5nX2V4cGVuc2VzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgZXhwZW5zZV9jb2RlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgY2F0ZWdvcnkgRU5VTSgnU0FMQVJZJywgJ1JFTlQnLCAnVVRJTElUSUVTJywgJ1NVUFBMSUVTJywgJ01BUktFVElORycsICdPVEhFUicpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgICAgYW1vdW50IERFQ0lNQUwoMTUsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgdGF4X2Ftb3VudCBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBuZXRfYW1vdW50IERFQ0lNQUwoMTUsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgZXhwZW5zZV9kYXRlIERBVEUgTk9UIE5VTEwsXHJcbiAgICAgICAgcGF5bWVudF9tZXRob2QgRU5VTSgnQ0FTSCcsICdCQU5LX1RSQU5TRkVSJywgJ0NSRURJVF9DQVJEJywgJ0NIRVFVRScpIERFRkFVTFQgJ0NBU0gnLFxyXG4gICAgICAgIHN1cHBsaWVyX2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICByZWZlcmVuY2VfbnVtYmVyIFZBUkNIQVIoMTAwKSxcclxuICAgICAgICByZWNlaXB0X251bWJlciBWQVJDSEFSKDEwMCksXHJcbiAgICAgICAgc3RhdHVzIEVOVU0oJ1BFTkRJTkcnLCAnUEFJRCcsICdDQU5DRUxMRUQnKSBERUZBVUxUICdQRU5ESU5HJyxcclxuICAgICAgICBhcHByb3ZlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgYXBwcm92ZWRfYXQgREFURVRJTUUoMyksXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X2V4cGVuc2VfY29kZSAoZXhwZW5zZV9jb2RlKSxcclxuICAgICAgICBJTkRFWCBpZHhfY2F0ZWdvcnkgKGNhdGVnb3J5KSxcclxuICAgICAgICBJTkRFWCBpZHhfZXhwZW5zZV9kYXRlIChleHBlbnNlX2RhdGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdXBwbGllciAoc3VwcGxpZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGFwcHJvdmVkX2J5KSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgU0VUIE5VTExcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBBQ0NPVU5USU5HX1RSQU5TQUNUSU9OUyAtIOC4o+C4suC4ouC4geC4suC4o+C4muC4seC4jeC4iuC4tVxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYWNjb3VudGluZ190cmFuc2FjdGlvbnMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICB0cmFuc2FjdGlvbl9jb2RlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgdHlwZSBFTlVNKCdJTkNPTUUnLCAnRVhQRU5TRScsICdUUkFOU0ZFUicpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgICAgYW1vdW50IERFQ0lNQUwoMTUsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25fZGF0ZSBEQVRFIE5PVCBOVUxMLFxyXG4gICAgICAgIGFjY291bnRfZnJvbSBWQVJDSEFSKDEwMCksXHJcbiAgICAgICAgYWNjb3VudF90byBWQVJDSEFSKDEwMCksXHJcbiAgICAgICAgcmVmZXJlbmNlX2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICByZWZlcmVuY2VfdHlwZSBWQVJDSEFSKDUwKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfdHJhbnNhY3Rpb25fY29kZSAodHJhbnNhY3Rpb25fY29kZSksXHJcbiAgICAgICAgSU5ERVggaWR4X3R5cGUgKHR5cGUpLFxyXG4gICAgICAgIElOREVYIGlkeF90cmFuc2FjdGlvbl9kYXRlICh0cmFuc2FjdGlvbl9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfcmVmZXJlbmNlIChyZWZlcmVuY2VfaWQsIHJlZmVyZW5jZV90eXBlKVxyXG4gICAgICApYFxyXG4gICAgXVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3FsIG9mIHRhYmxlcykge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KHNxbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4hyBTYWxlcyBNb2R1bGVcclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZVNhbGVzVGFibGVzKGNvbm5lY3Rpb246IG15c3FsLkNvbm5lY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlcyA9IFtcclxuICAgICAgLy8gU0FMRVNfQ1VTVE9NRVJTIC0g4Lil4Li54LiB4LiE4LmJ4LiyXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzYWxlc19jdXN0b21lcnMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICBjdXN0b21lcl9jb2RlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgY3VzdG9tZXJfdHlwZSBFTlVNKCdJTkRJVklEVUFMJywgJ0JVU0lORVNTJykgTk9UIE5VTEwsXHJcbiAgICAgICAgbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZW1haWwgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHBob25lIFZBUkNIQVIoNTApLFxyXG4gICAgICAgIGFkZHJlc3MgVEVYVCxcclxuICAgICAgICB0YXhfaWQgVkFSQ0hBUigyMCksXHJcbiAgICAgICAgY3JlZGl0X2xpbWl0IERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHBheW1lbnRfdGVybXMgSU5UIERFRkFVTFQgMzAsXHJcbiAgICAgICAgY29udGFjdF9wZXJzb24gVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIG5vdGVzIFRFWFQsXHJcbiAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9jdXN0b21lcl9jb2RlIChjdXN0b21lcl9jb2RlKSxcclxuICAgICAgICBJTkRFWCBpZHhfY3VzdG9tZXJfdHlwZSAoY3VzdG9tZXJfdHlwZSksXHJcbiAgICAgICAgSU5ERVggaWR4X2VtYWlsIChlbWFpbCksXHJcbiAgICAgICAgSU5ERVggaWR4X2lzX2FjdGl2ZSAoaXNfYWN0aXZlKVxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIFNBTEVTX1FVT1RBVElPTlMgLSDguYPguJrguYDguKrguJnguK3guKPguLLguITguLJcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNhbGVzX3F1b3RhdGlvbnMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICBxdW90YXRpb25fbnVtYmVyIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgY3VzdG9tZXJfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIHF1b3RhdGlvbl9kYXRlIERBVEUgTk9UIE5VTEwsXHJcbiAgICAgICAgdmFsaWRfdW50aWwgREFURSBOT1QgTlVMTCxcclxuICAgICAgICBzdWJ0b3RhbCBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRpc2NvdW50X2Ftb3VudCBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICB0YXhfYW1vdW50IERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHRvdGFsX2Ftb3VudCBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdEUkFGVCcsICdTRU5UJywgJ0FDQ0VQVEVEJywgJ1JFSkVDVEVEJywgJ0VYUElSRUQnKSBERUZBVUxUICdEUkFGVCcsXHJcbiAgICAgICAgbm90ZXMgVEVYVCxcclxuICAgICAgICB0ZXJtc19jb25kaXRpb25zIFRFWFQsXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgYXBwcm92ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGFwcHJvdmVkX2F0IERBVEVUSU1FKDMpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9xdW90YXRpb25fbnVtYmVyIChxdW90YXRpb25fbnVtYmVyKSxcclxuICAgICAgICBJTkRFWCBpZHhfY3VzdG9tZXIgKGN1c3RvbWVyX2lkKSxcclxuICAgICAgICBJTkRFWCBpZHhfcXVvdGF0aW9uX2RhdGUgKHF1b3RhdGlvbl9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfc3RhdHVzIChzdGF0dXMpLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChjdXN0b21lcl9pZCkgUkVGRVJFTkNFUyBzYWxlc19jdXN0b21lcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChhcHByb3ZlZF9ieSkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gU0FMRVNfUVVPVEFUSU9OX0lURU1TIC0g4Lij4Liy4Lii4LiB4Liy4Lij4Liq4Li04LiZ4LiE4LmJ4Liy4LmD4LiZ4LmD4Lia4LmA4Liq4LiZ4Lit4Lij4Liy4LiE4LiyXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzYWxlc19xdW90YXRpb25faXRlbXMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICBxdW90YXRpb25faWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIHByb2R1Y3RfaWQgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHByb2R1Y3RfbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgcHJvZHVjdF9kZXNjcmlwdGlvbiBURVhULFxyXG4gICAgICAgIHF1YW50aXR5IERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgdW5pdF9wcmljZSBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRpc2NvdW50X3BlcmNlbnQgREVDSU1BTCg1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBsaW5lX3RvdGFsIERFQ0lNQUwoMTUsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X3F1b3RhdGlvbiAocXVvdGF0aW9uX2lkKSxcclxuICAgICAgICBJTkRFWCBpZHhfcHJvZHVjdCAocHJvZHVjdF9pZCksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKHF1b3RhdGlvbl9pZCkgUkVGRVJFTkNFUyBzYWxlc19xdW90YXRpb25zKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxyXG4gICAgICApYFxyXG4gICAgXVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3FsIG9mIHRhYmxlcykge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KHNxbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4hyBJbnZlbnRvcnkgTW9kdWxlXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVJbnZlbnRvcnlUYWJsZXMoY29ubmVjdGlvbjogbXlzcWwuQ29ubmVjdGlvbikge1xyXG4gICAgY29uc3QgdGFibGVzID0gW1xyXG4gICAgICAvLyBJTlZFTlRPUllfUFJPRFVDVFMgLSDguKrguLTguJnguITguYnguLJcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGludmVudG9yeV9wcm9kdWN0cyAoXHJcbiAgICAgICAgaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIHNrdSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwgVU5JUVVFLFxyXG4gICAgICAgIGJhcmNvZGUgVkFSQ0hBUigxMDApLFxyXG4gICAgICAgIG5hbWUgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uIFRFWFQsXHJcbiAgICAgICAgY2F0ZWdvcnlfaWQgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVuaXQgVkFSQ0hBUig1MCkgREVGQVVMVCAnUENTJyxcclxuICAgICAgICBjb3N0X3ByaWNlIERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHNlbGxpbmdfcHJpY2UgREVDSU1BTCgxNSwyKSBERUZBVUxUIDAsXHJcbiAgICAgICAgbWluX3N0b2NrX2xldmVsIElOVCBERUZBVUxUIDAsXHJcbiAgICAgICAgbWF4X3N0b2NrX2xldmVsIElOVCBERUZBVUxUIDAsXHJcbiAgICAgICAgcmVvcmRlcl9wb2ludCBJTlQgREVGQVVMVCAwLFxyXG4gICAgICAgIHdlaWdodCBERUNJTUFMKDgsMiksXHJcbiAgICAgICAgZGltZW5zaW9ucyBWQVJDSEFSKDEwMCksXHJcbiAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9za3UgKHNrdSksXHJcbiAgICAgICAgSU5ERVggaWR4X2JhcmNvZGUgKGJhcmNvZGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9jYXRlZ29yeSAoY2F0ZWdvcnlfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9pc19hY3RpdmUgKGlzX2FjdGl2ZSlcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBJTlZFTlRPUllfQ0FURUdPUklFUyAtIOC4q+C4oeC4p+C4lOC4q+C4oeC4ueC5iOC4quC4tOC4meC4hOC5ieC4slxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaW52ZW50b3J5X2NhdGVnb3JpZXMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICBuYW1lIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCxcclxuICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxyXG4gICAgICAgIHBhcmVudF9pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9wYXJlbnQgKHBhcmVudF9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X2lzX2FjdGl2ZSAoaXNfYWN0aXZlKVxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIElOVkVOVE9SWV9TVE9DSyAtIOC4hOC4peC4seC4h+C4quC4tOC4meC4hOC5ieC4slxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaW52ZW50b3J5X3N0b2NrIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgcHJvZHVjdF9pZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgbG9jYXRpb24gVkFSQ0hBUigxMDApIERFRkFVTFQgJ01BSU5fV0FSRUhPVVNFJyxcclxuICAgICAgICBxdWFudGl0eV9vbl9oYW5kIERFQ0lNQUwoMTAsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHF1YW50aXR5X3Jlc2VydmVkIERFQ0lNQUwoMTAsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHF1YW50aXR5X2F2YWlsYWJsZSBERUNJTUFMKDEwLDIpIEdFTkVSQVRFRCBBTFdBWVMgQVMgKHF1YW50aXR5X29uX2hhbmQgLSBxdWFudGl0eV9yZXNlcnZlZCkgU1RPUkVELFxyXG4gICAgICAgIGxhc3RfY291bnRlZF9hdCBEQVRFVElNRSgzKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfcHJvZHVjdCAocHJvZHVjdF9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X2xvY2F0aW9uIChsb2NhdGlvbiksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKHByb2R1Y3RfaWQpIFJFRkVSRU5DRVMgaW52ZW50b3J5X3Byb2R1Y3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBVTklRVUUgS0VZIHVuaXF1ZV9wcm9kdWN0X2xvY2F0aW9uIChwcm9kdWN0X2lkLCBsb2NhdGlvbilcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBJTlZFTlRPUllfVFJBTlNBQ1RJT05TIC0g4LiB4Liy4Lij4LmA4LiE4Lil4Li34LmI4Lit4LiZ4LmE4Lir4Lin4Liq4LiV4LmH4Lit4LiBXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBpbnZlbnRvcnlfdHJhbnNhY3Rpb25zIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgdHJhbnNhY3Rpb25fY29kZSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwgVU5JUVVFLFxyXG4gICAgICAgIHByb2R1Y3RfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIHRyYW5zYWN0aW9uX3R5cGUgRU5VTSgnSU4nLCAnT1VUJywgJ0FESlVTVCcsICdUUkFOU0ZFUicpIE5PVCBOVUxMLFxyXG4gICAgICAgIHF1YW50aXR5IERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgdW5pdF9jb3N0IERFQ0lNQUwoMTUsMiksXHJcbiAgICAgICAgdG90YWxfY29zdCBERUNJTUFMKDE1LDIpLFxyXG4gICAgICAgIHJlZmVyZW5jZV90eXBlIFZBUkNIQVIoNTApLFxyXG4gICAgICAgIHJlZmVyZW5jZV9pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgbG9jYXRpb24gVkFSQ0hBUigxMDApIERFRkFVTFQgJ01BSU5fV0FSRUhPVVNFJyxcclxuICAgICAgICBub3RlcyBURVhULFxyXG4gICAgICAgIHRyYW5zYWN0aW9uX2RhdGUgREFURVRJTUUoMykgTk9UIE5VTEwsXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF90cmFuc2FjdGlvbl9jb2RlICh0cmFuc2FjdGlvbl9jb2RlKSxcclxuICAgICAgICBJTkRFWCBpZHhfcHJvZHVjdCAocHJvZHVjdF9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X3RyYW5zYWN0aW9uX3R5cGUgKHRyYW5zYWN0aW9uX3R5cGUpLFxyXG4gICAgICAgIElOREVYIGlkeF90cmFuc2FjdGlvbl9kYXRlICh0cmFuc2FjdGlvbl9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfcmVmZXJlbmNlIChyZWZlcmVuY2VfdHlwZSwgcmVmZXJlbmNlX2lkKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvZHVjdF9pZCkgUkVGRVJFTkNFUyBpbnZlbnRvcnlfcHJvZHVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFXHJcbiAgICAgIClgXHJcbiAgICBdXHJcblxyXG4gICAgZm9yIChjb25zdCBzcWwgb2YgdGFibGVzKSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoc3FsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiHIFB1cmNoYXNpbmcgTW9kdWxlXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVQdXJjaGFzaW5nVGFibGVzKGNvbm5lY3Rpb246IG15c3FsLkNvbm5lY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlcyA9IFtcclxuICAgICAgLy8gUFVSQ0hBU0lOR19TVVBQTElFUlMgLSDguJzguLnguYnguIjguLPguKvguJnguYjguLLguKJcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHB1cmNoYXNpbmdfc3VwcGxpZXJzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgc3VwcGxpZXJfY29kZSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwgVU5JUVVFLFxyXG4gICAgICAgIG5hbWUgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGNvbnRhY3RfcGVyc29uIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBlbWFpbCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgcGhvbmUgVkFSQ0hBUig1MCksXHJcbiAgICAgICAgYWRkcmVzcyBURVhULFxyXG4gICAgICAgIHRheF9pZCBWQVJDSEFSKDIwKSxcclxuICAgICAgICBwYXltZW50X3Rlcm1zIElOVCBERUZBVUxUIDMwLFxyXG4gICAgICAgIGNyZWRpdF9saW1pdCBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBiYW5rX2FjY291bnQgVkFSQ0hBUigxMDApLFxyXG4gICAgICAgIG5vdGVzIFRFWFQsXHJcbiAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdXBwbGllcl9jb2RlIChzdXBwbGllcl9jb2RlKSxcclxuICAgICAgICBJTkRFWCBpZHhfZW1haWwgKGVtYWlsKSxcclxuICAgICAgICBJTkRFWCBpZHhfaXNfYWN0aXZlIChpc19hY3RpdmUpXHJcbiAgICAgIClgLFxyXG5cclxuICAgICAgLy8gUFVSQ0hBU0lOR19PUkRFUlMgLSDguYPguJrguKrguLHguYjguIfguIvguLfguYnguK1cclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHB1cmNoYXNpbmdfb3JkZXJzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgb3JkZXJfbnVtYmVyIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgc3VwcGxpZXJfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIG9yZGVyX2RhdGUgREFURSBOT1QgTlVMTCxcclxuICAgICAgICBleHBlY3RlZF9kZWxpdmVyeV9kYXRlIERBVEUsXHJcbiAgICAgICAgc3VidG90YWwgREVDSU1BTCgxNSwyKSBOT1QgTlVMTCxcclxuICAgICAgICBkaXNjb3VudF9hbW91bnQgREVDSU1BTCgxNSwyKSBERUZBVUxUIDAsXHJcbiAgICAgICAgdGF4X2Ftb3VudCBERUNJTUFMKDE1LDIpIERFRkFVTFQgMCxcclxuICAgICAgICB0b3RhbF9hbW91bnQgREVDSU1BTCgxNSwyKSBOT1QgTlVMTCxcclxuICAgICAgICBzdGF0dXMgRU5VTSgnRFJBRlQnLCAnU0VOVCcsICdDT05GSVJNRUQnLCAnUkVDRUlWRUQnLCAnQ0FOQ0VMTEVEJykgREVGQVVMVCAnRFJBRlQnLFxyXG4gICAgICAgIG5vdGVzIFRFWFQsXHJcbiAgICAgICAgdGVybXNfY29uZGl0aW9ucyBURVhULFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGFwcHJvdmVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBhcHByb3ZlZF9hdCBEQVRFVElNRSgzKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfb3JkZXJfbnVtYmVyIChvcmRlcl9udW1iZXIpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdXBwbGllciAoc3VwcGxpZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9vcmRlcl9kYXRlIChvcmRlcl9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfc3RhdHVzIChzdGF0dXMpLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChzdXBwbGllcl9pZCkgUkVGRVJFTkNFUyBwdXJjaGFzaW5nX3N1cHBsaWVycyhpZCkgT04gREVMRVRFIENBU0NBREUsXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGFwcHJvdmVkX2J5KSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgU0VUIE5VTExcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBQVVJDSEFTSU5HX09SREVSX0lURU1TIC0g4Lij4Liy4Lii4LiB4Liy4Lij4Liq4Li04LiZ4LiE4LmJ4Liy4LmD4LiZ4LmD4Lia4Liq4Lix4LmI4LiH4LiL4Li34LmJ4LitXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwdXJjaGFzaW5nX29yZGVyX2l0ZW1zIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgb3JkZXJfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIHByb2R1Y3RfaWQgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHByb2R1Y3RfbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgcHJvZHVjdF9kZXNjcmlwdGlvbiBURVhULFxyXG4gICAgICAgIHF1YW50aXR5IERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgdW5pdF9jb3N0IERFQ0lNQUwoMTUsMikgTk9UIE5VTEwsXHJcbiAgICAgICAgbGluZV90b3RhbCBERUNJTUFMKDE1LDIpIE5PVCBOVUxMLFxyXG4gICAgICAgIHJlY2VpdmVkX3F1YW50aXR5IERFQ0lNQUwoMTAsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9vcmRlciAob3JkZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9wcm9kdWN0IChwcm9kdWN0X2lkKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAob3JkZXJfaWQpIFJFRkVSRU5DRVMgcHVyY2hhc2luZ19vcmRlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXHJcbiAgICAgIClgXHJcbiAgICBdXHJcblxyXG4gICAgZm9yIChjb25zdCBzcWwgb2YgdGFibGVzKSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoc3FsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiH4LiV4Liy4Lij4Liy4LiHIENSTSBNb2R1bGVcclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUNSTVRhYmxlcyhjb25uZWN0aW9uOiBteXNxbC5Db25uZWN0aW9uKSB7XHJcbiAgICBjb25zdCB0YWJsZXMgPSBbXHJcbiAgICAgIC8vIENSTV9DVVNUT01FUlMgLSDguKXguLnguIHguITguYnguLIgQ1JNXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjcm1fY3VzdG9tZXJzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgY3VzdG9tZXJfY29kZSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwgVU5JUVVFLFxyXG4gICAgICAgIGZpcnN0X25hbWUgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGxhc3RfbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZnVsbF9uYW1lIFZBUkNIQVIoMTkxKSBHRU5FUkFURUQgQUxXQVlTIEFTIChDT05DQVQoZmlyc3RfbmFtZSwgJyAnLCBsYXN0X25hbWUpKSBTVE9SRUQsXHJcbiAgICAgICAgY29tcGFueSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgcG9zaXRpb24gVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGVtYWlsIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBwaG9uZSBWQVJDSEFSKDUwKSxcclxuICAgICAgICBtb2JpbGUgVkFSQ0hBUig1MCksXHJcbiAgICAgICAgYWRkcmVzcyBURVhULFxyXG4gICAgICAgIHNvdXJjZSBFTlVNKCdXRUJTSVRFJywgJ1JFRkVSUkFMJywgJ01BUktFVElORycsICdDT0xEX0NBTEwnLCAnT1RIRVInKSBERUZBVUxUICdPVEhFUicsXHJcbiAgICAgICAgc3RhdHVzIEVOVU0oJ0xFQUQnLCAnUFJPU1BFQ1QnLCAnQ1VTVE9NRVInLCAnSU5BQ1RJVkUnKSBERUZBVUxUICdMRUFEJyxcclxuICAgICAgICBhc3NpZ25lZF90byBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgbm90ZXMgVEVYVCxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfY3VzdG9tZXJfY29kZSAoY3VzdG9tZXJfY29kZSksXHJcbiAgICAgICAgSU5ERVggaWR4X2VtYWlsIChlbWFpbCksXHJcbiAgICAgICAgSU5ERVggaWR4X3N0YXR1cyAoc3RhdHVzKSxcclxuICAgICAgICBJTkRFWCBpZHhfYXNzaWduZWRfdG8gKGFzc2lnbmVkX3RvKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAoYXNzaWduZWRfdG8pIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTFxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIENSTV9JTlRFUkFDVElPTlMgLSDguJvguKPguLDguKfguLHguJXguLTguIHguLLguKPguJXguLTguJTguJXguYjguK1cclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNybV9pbnRlcmFjdGlvbnMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICBjdXN0b21lcl9pZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgaW50ZXJhY3Rpb25fdHlwZSBFTlVNKCdDQUxMJywgJ0VNQUlMJywgJ01FRVRJTkcnLCAnTk9URScsICdUQVNLJykgTk9UIE5VTEwsXHJcbiAgICAgICAgc3ViamVjdCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcclxuICAgICAgICBpbnRlcmFjdGlvbl9kYXRlIERBVEVUSU1FKDMpIE5PVCBOVUxMLFxyXG4gICAgICAgIGR1cmF0aW9uX21pbnV0ZXMgSU5ULFxyXG4gICAgICAgIG91dGNvbWUgVkFSQ0hBUigyNTUpLFxyXG4gICAgICAgIGZvbGxvd191cF9kYXRlIERBVEUsXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X2N1c3RvbWVyIChjdXN0b21lcl9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X2ludGVyYWN0aW9uX3R5cGUgKGludGVyYWN0aW9uX3R5cGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9pbnRlcmFjdGlvbl9kYXRlIChpbnRlcmFjdGlvbl9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfZm9sbG93X3VwIChmb2xsb3dfdXBfZGF0ZSksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGN1c3RvbWVyX2lkKSBSRUZFUkVOQ0VTIGNybV9jdXN0b21lcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIEZPUkVJR04gS0VZIChjcmVhdGVkX2J5KSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgU0VUIE5VTExcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBDUk1fQUNUSVZJVElFUyAtIOC4geC4tOC4iOC4geC4o+C4o+C4oS/guIfguLLguJlcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNybV9hY3Rpdml0aWVzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgY3VzdG9tZXJfaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMLFxyXG4gICAgICAgIGFjdGl2aXR5X3R5cGUgRU5VTSgnQ0FMTCcsICdFTUFJTCcsICdNRUVUSU5HJywgJ1RBU0snLCAnQVBQT0lOVE1FTlQnKSBOT1QgTlVMTCxcclxuICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcclxuICAgICAgICBwcmlvcml0eSBFTlVNKCdMT1cnLCAnTUVESVVNJywgJ0hJR0gnLCAnVVJHRU5UJykgREVGQVVMVCAnTUVESVVNJyxcclxuICAgICAgICBzdGF0dXMgRU5VTSgnUEVORElORycsICdJTl9QUk9HUkVTUycsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJykgREVGQVVMVCAnUEVORElORycsXHJcbiAgICAgICAgZHVlX2RhdGUgREFURVRJTUUoMyksXHJcbiAgICAgICAgY29tcGxldGVkX2F0IERBVEVUSU1FKDMpLFxyXG4gICAgICAgIGFzc2lnbmVkX3RvIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfY3VzdG9tZXIgKGN1c3RvbWVyX2lkKSxcclxuICAgICAgICBJTkRFWCBpZHhfYWN0aXZpdHlfdHlwZSAoYWN0aXZpdHlfdHlwZSksXHJcbiAgICAgICAgSU5ERVggaWR4X3N0YXR1cyAoc3RhdHVzKSxcclxuICAgICAgICBJTkRFWCBpZHhfZHVlX2RhdGUgKGR1ZV9kYXRlKSxcclxuICAgICAgICBJTkRFWCBpZHhfYXNzaWduZWRfdG8gKGFzc2lnbmVkX3RvKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAoY3VzdG9tZXJfaWQpIFJFRkVSRU5DRVMgY3JtX2N1c3RvbWVycyhpZCkgT04gREVMRVRFIENBU0NBREUsXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKGFzc2lnbmVkX3RvKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgU0VUIE5VTExcclxuICAgICAgKWBcclxuICAgIF1cclxuXHJcbiAgICBmb3IgKGNvbnN0IHNxbCBvZiB0YWJsZXMpIHtcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeShzcWwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDguKrguKPguYnguLLguIfguJXguLLguKPguLLguIcgUHJvamVjdCBNb2R1bGVcclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZVByb2plY3RUYWJsZXMoY29ubmVjdGlvbjogbXlzcWwuQ29ubmVjdGlvbikge1xyXG4gICAgY29uc3QgdGFibGVzID0gW1xyXG4gICAgICAvLyBQUk9KRUNUX1BST0pFQ1RTIC0g4LmC4LiE4Lij4LiH4LiB4Liy4LijXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9qZWN0X3Byb2plY3RzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgcHJvamVjdF9jb2RlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXHJcbiAgICAgICAgbmFtZSBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcclxuICAgICAgICBzdGFydF9kYXRlIERBVEUsXHJcbiAgICAgICAgZW5kX2RhdGUgREFURSxcclxuICAgICAgICBlc3RpbWF0ZWRfaG91cnMgREVDSU1BTCg4LDIpLFxyXG4gICAgICAgIGFjdHVhbF9ob3VycyBERUNJTUFMKDgsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIGJ1ZGdldCBERUNJTUFMKDE1LDIpLFxyXG4gICAgICAgIGFjdHVhbF9jb3N0IERFQ0lNQUwoMTUsMikgREVGQVVMVCAwLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdQTEFOTklORycsICdJTl9QUk9HUkVTUycsICdPTl9IT0xEJywgJ0NPTVBMRVRFRCcsICdDQU5DRUxMRUQnKSBERUZBVUxUICdQTEFOTklORycsXHJcbiAgICAgICAgcHJpb3JpdHkgRU5VTSgnTE9XJywgJ01FRElVTScsICdISUdIJywgJ1VSR0VOVCcpIERFRkFVTFQgJ01FRElVTScsXHJcbiAgICAgICAgbWFuYWdlcl9pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY2xpZW50X2lkIFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICB1cGRhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgdXBkYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICBJTkRFWCBpZHhfcHJvamVjdF9jb2RlIChwcm9qZWN0X2NvZGUpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgSU5ERVggaWR4X21hbmFnZXIgKG1hbmFnZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9jbGllbnQgKGNsaWVudF9pZCksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKG1hbmFnZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTFxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIFBST0pFQ1RfVEFTS1MgLSDguIfguLLguJkv4Lir4LiZ4LmJ4Liy4LiX4Li14LmIXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9qZWN0X3Rhc2tzIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgcHJvamVjdF9pZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgdGFza19jb2RlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcclxuICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcclxuICAgICAgICBwYXJlbnRfdGFza19pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgc3RhcnRfZGF0ZSBEQVRFLFxyXG4gICAgICAgIGR1ZV9kYXRlIERBVEUsXHJcbiAgICAgICAgZXN0aW1hdGVkX2hvdXJzIERFQ0lNQUwoOCwyKSxcclxuICAgICAgICBhY3R1YWxfaG91cnMgREVDSU1BTCg4LDIpIERFRkFVTFQgMCxcclxuICAgICAgICBwcm9ncmVzc19wZXJjZW50IERFQ0lNQUwoNSwyKSBERUZBVUxUIDAsXHJcbiAgICAgICAgc3RhdHVzIEVOVU0oJ1RPRE8nLCAnSU5fUFJPR1JFU1MnLCAnUkVWSUVXJywgJ0NPTVBMRVRFRCcsICdDQU5DRUxMRUQnKSBERUZBVUxUICdUT0RPJyxcclxuICAgICAgICBwcmlvcml0eSBFTlVNKCdMT1cnLCAnTUVESVVNJywgJ0hJR0gnLCAnVVJHRU5UJykgREVGQVVMVCAnTUVESVVNJyxcclxuICAgICAgICBhc3NpZ25lZF90byBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdXBkYXRlZF9ieSBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X3Byb2plY3QgKHByb2plY3RfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF90YXNrX2NvZGUgKHByb2plY3RfaWQsIHRhc2tfY29kZSksXHJcbiAgICAgICAgSU5ERVggaWR4X3N0YXR1cyAoc3RhdHVzKSxcclxuICAgICAgICBJTkRFWCBpZHhfYXNzaWduZWRfdG8gKGFzc2lnbmVkX3RvKSxcclxuICAgICAgICBJTkRFWCBpZHhfcGFyZW50X3Rhc2sgKHBhcmVudF90YXNrX2lkKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0X3Byb2plY3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAoYXNzaWduZWRfdG8pIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTCxcclxuICAgICAgICBVTklRVUUgS0VZIHVuaXF1ZV9wcm9qZWN0X3Rhc2tfY29kZSAocHJvamVjdF9pZCwgdGFza19jb2RlKVxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIFBST0pFQ1RfTk9USUZJQ0FUSU9OUyAtIOC4geC4suC4o+C5geC4iOC5ieC4h+C5gOC4leC4t+C4reC4mVxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvamVjdF9ub3RpZmljYXRpb25zIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgcHJvamVjdF9pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdGFza19pZCBWQVJDSEFSKDE5MSksXHJcbiAgICAgICAgdHlwZSBFTlVNKCdUQVNLX0FTU0lHTkVEJywgJ1RBU0tfQ09NUExFVEVEJywgJ0RFQURMSU5FX0FQUFJPQUNISU5HJywgJ1NUQVRVU19DSEFOR0VEJywgJ0dFTkVSQUwnKSBOT1QgTlVMTCxcclxuICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgbWVzc2FnZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICAgIHJlY2lwaWVudF9pZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgaXNfcmVhZCBCT09MRUFOIERFRkFVTFQgRkFMU0UsXHJcbiAgICAgICAgcmVhZF9hdCBEQVRFVElNRSgzKSxcclxuICAgICAgICBjcmVhdGVkX2J5IFZBUkNIQVIoMTkxKSxcclxuICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X3Byb2plY3QgKHByb2plY3RfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF90YXNrICh0YXNrX2lkKSxcclxuICAgICAgICBJTkRFWCBpZHhfcmVjaXBpZW50IChyZWNpcGllbnRfaWQsIGlzX3JlYWQpLFxyXG4gICAgICAgIElOREVYIGlkeF90eXBlICh0eXBlKSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0X3Byb2plY3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAodGFza19pZCkgUkVGRVJFTkNFUyBwcm9qZWN0X3Rhc2tzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAocmVjaXBpZW50X2lkKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxyXG4gICAgICApYFxyXG4gICAgXVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3FsIG9mIHRhYmxlcykge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KHNxbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4h+C4leC4suC4o+C4suC4hyBTZXR0aW5ncyBNb2R1bGVcclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZVNldHRpbmdzVGFibGVzKGNvbm5lY3Rpb246IG15c3FsLkNvbm5lY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlcyA9IFtcclxuICAgICAgLy8gU0VUVElOR1NfU1lTVEVNX0NPTkZJRyAtIOC4geC4suC4o+C4leC4seC5ieC4h+C4hOC5iOC4suC4o+C4sOC4muC4mlxyXG4gICAgICBgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2V0dGluZ3Nfc3lzdGVtX2NvbmZpZyAoXHJcbiAgICAgICAgaWQgVkFSQ0hBUigxOTEpIE5PVCBOVUxMIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIGNvbmZpZ19rZXkgVkFSQ0hBUigxMDApIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICBjb25maWdfdmFsdWUgVEVYVCxcclxuICAgICAgICBkYXRhX3R5cGUgRU5VTSgnU1RSSU5HJywgJ0lOVEVHRVInLCAnREVDSU1BTCcsICdCT09MRUFOJywgJ0pTT04nKSBERUZBVUxUICdTVFJJTkcnLFxyXG4gICAgICAgIGNhdGVnb3J5IFZBUkNIQVIoMTAwKSxcclxuICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxyXG4gICAgICAgIGlzX2VkaXRhYmxlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxyXG4gICAgICAgIGNyZWF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIHVwZGF0ZWRfYnkgVkFSQ0hBUigxOTEpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF9jb25maWdfa2V5IChjb25maWdfa2V5KSxcclxuICAgICAgICBJTkRFWCBpZHhfY2F0ZWdvcnkgKGNhdGVnb3J5KVxyXG4gICAgICApYCxcclxuXHJcbiAgICAgIC8vIFNFVFRJTkdTX1VTRVJfUFJFRkVSRU5DRVMgLSDguIHguLLguKPguJXguLHguYnguIfguITguYjguLLguJzguLnguYnguYPguIrguYlcclxuICAgICAgYENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNldHRpbmdzX3VzZXJfcHJlZmVyZW5jZXMgKFxyXG4gICAgICAgIGlkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCBQUklNQVJZIEtFWSxcclxuICAgICAgICB1c2VyX2lkIFZBUkNIQVIoMTkxKSBOT1QgTlVMTCxcclxuICAgICAgICBwcmVmZXJlbmNlX2tleSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXHJcbiAgICAgICAgcHJlZmVyZW5jZV92YWx1ZSBURVhULFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSxcclxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FKDMpIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAoMykgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIElOREVYIGlkeF91c2VyX3ByZWZlcmVuY2UgKHVzZXJfaWQsIHByZWZlcmVuY2Vfa2V5KSxcclxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXHJcbiAgICAgICAgVU5JUVVFIEtFWSB1bmlxdWVfdXNlcl9wcmVmZXJlbmNlICh1c2VyX2lkLCBwcmVmZXJlbmNlX2tleSlcclxuICAgICAgKWAsXHJcblxyXG4gICAgICAvLyBTRVRUSU5HU19OT1RJRklDQVRJT05TIC0g4LiB4Liy4Lij4LiV4Lix4LmJ4LiH4LiE4LmI4Liy4LiB4Liy4Lij4LmB4LiI4LmJ4LiH4LmA4LiV4Li34Lit4LiZXHJcbiAgICAgIGBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzZXR0aW5nc19ub3RpZmljYXRpb25zIChcclxuICAgICAgICBpZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgdXNlcl9pZCBWQVJDSEFSKDE5MSkgTk9UIE5VTEwsXHJcbiAgICAgICAgbm90aWZpY2F0aW9uX3R5cGUgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxyXG4gICAgICAgIGVtYWlsX2VuYWJsZWQgQk9PTEVBTiBERUZBVUxUIFRSVUUsXHJcbiAgICAgICAgc21zX2VuYWJsZWQgQk9PTEVBTiBERUZBVUxUIEZBTFNFLFxyXG4gICAgICAgIHB1c2hfZW5hYmxlZCBCT09MRUFOIERFRkFVTFQgVFJVRSxcclxuICAgICAgICBmcmVxdWVuY3kgRU5VTSgnSU1NRURJQVRFJywgJ0RBSUxZJywgJ1dFRUtMWScsICdORVZFUicpIERFRkFVTFQgJ0lNTUVESUFURScsXHJcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSgzKSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKDMpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgREFURVRJTUUoMykgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCgzKSBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAoMyksXHJcbiAgICAgICAgSU5ERVggaWR4X3VzZXJfbm90aWZpY2F0aW9uICh1c2VyX2lkLCBub3RpZmljYXRpb25fdHlwZSksXHJcbiAgICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxyXG4gICAgICAgIFVOSVFVRSBLRVkgdW5pcXVlX3VzZXJfbm90aWZpY2F0aW9uX3R5cGUgKHVzZXJfaWQsIG5vdGlmaWNhdGlvbl90eXBlKVxyXG4gICAgICApYFxyXG4gICAgXVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3FsIG9mIHRhYmxlcykge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KHNxbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4hyBTdXBlciBBZG1pbiBVc2VyIOC5gOC4o+C4tOC5iOC4oeC4leC5ieC4meC4quC4s+C4q+C4o+C4seC4muC4reC4h+C4hOC5jOC4geC4o1xyXG4gIGFzeW5jIGNyZWF0ZUluaXRpYWxBZG1pblVzZXIoc2NoZW1hTmFtZTogc3RyaW5nLCBhZG1pbkRhdGE6IHtcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgb3JnQ29kZTogc3RyaW5nXHJcbiAgICBwYXNzd29yZD86IHN0cmluZ1xyXG4gIH0pOiBQcm9taXNlPHsgZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyB9PiB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XHJcbiAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgICBwb3J0OiAzMzA2LFxyXG4gICAgICB1c2VyOiAnZXJwX2FwcCcsXHJcbiAgICAgIHBhc3N3b3JkOiAnZXJwX2FwcF9wYXNzMTIzJyxcclxuICAgICAgZGF0YWJhc2U6IHNjaGVtYU5hbWVcclxuICAgIH0pXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gdXVpZHY0KClcclxuICAgICAgY29uc3QgZGVmYXVsdFBhc3N3b3JkID0gYWRtaW5EYXRhLnBhc3N3b3JkIHx8ICcxMjM0NTYnXHJcbiAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goZGVmYXVsdFBhc3N3b3JkLCAxMClcclxuICAgICAgXHJcbiAgICAgIC8vIOC4quC4o+C5ieC4suC4h+C4reC4teC5gOC4oeC4peC5g+C4meC4o+C4ueC4m+C5geC4muC4miBhZG1pbl/guKPguKvguLHguKrguK3guIfguITguYzguIHguKNcclxuICAgICAgY29uc3QgYWRtaW5FbWFpbCA9IGBhZG1pbl8ke2FkbWluRGF0YS5vcmdDb2RlfWBcclxuICAgICAgY29uc3QgYWRtaW5OYW1lID0gJ1N1cGVyIEFkbWluJ1xyXG5cclxuICAgICAgLy8g4Liq4Lij4LmJ4Liy4LiHIFN1cGVyIEFkbWluIFVzZXJcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeShgXHJcbiAgICAgICAgSU5TRVJUIElOVE8gdXNlcnMgKGlkLCBlbWFpbCwgbmFtZSwgcGFzc3dvcmQsIHJvbGUsIGlzX2FjdGl2ZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdClcclxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sICdTVVBFUl9BRE1JTicsIFRSVUUsIE5PVygpLCBOT1coKSlcclxuICAgICAgYCwgW3VzZXJJZCwgYWRtaW5FbWFpbCwgYWRtaW5OYW1lLCBoYXNoZWRQYXNzd29yZF0pXHJcblxyXG4gICAgICAvLyDguYDguJ7guLTguYjguKHguKrguLTguJfguJjguLTguYzguJfguLjguIHguKrguLTguJfguJjguLTguYzguYPguKvguYnguIHguLHguJogU3VwZXIgQWRtaW5cclxuICAgICAgYXdhaXQgdGhpcy5ncmFudEFsbFBlcm1pc3Npb25zKGNvbm5lY3Rpb24sIHVzZXJJZClcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ3JlYXRlZCBTdXBlciBBZG1pbiB1c2VyIGZvciBzY2hlbWE6ICR7c2NoZW1hTmFtZX1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TpyBTdXBlciBBZG1pbiBFbWFpbDogJHthZG1pbkVtYWlsfWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SRIFN1cGVyIEFkbWluIFBhc3N3b3JkOiAke2RlZmF1bHRQYXNzd29yZH1gKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlbWFpbDogYWRtaW5FbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogZGVmYXVsdFBhc3N3b3JkXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgY3JlYXRpbmcgU3VwZXIgQWRtaW4gdXNlciBmb3IgJHtzY2hlbWFOYW1lfTpgLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC5gOC4nuC4tOC5iOC4oeC4quC4tOC4l+C4mOC4tOC5jOC4l+C4uOC4geC4quC4tOC4l+C4mOC4tOC5jOC5g+C4q+C5ieC4geC4seC4miBTdXBlciBBZG1pblxyXG4gIHByaXZhdGUgYXN5bmMgZ3JhbnRBbGxQZXJtaXNzaW9ucyhjb25uZWN0aW9uOiBteXNxbC5Db25uZWN0aW9uLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgYWxsUGVybWlzc2lvbnMgPSBbXHJcbiAgICAgIC8vIEhSTSBNb2R1bGVcclxuICAgICAgeyBtb2R1bGU6ICdIUk0nLCBzdWJtb2R1bGU6ICdlbXBsb3llZXMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnSFJNJywgc3VibW9kdWxlOiAncGF5cm9sbCcsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdIUk0nLCBzdWJtb2R1bGU6ICdhdHRlbmRhbmNlJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0hSTScsIHN1Ym1vZHVsZTogJ2xlYXZlJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0hSTScsIHN1Ym1vZHVsZTogJ3BlcmZvcm1hbmNlJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICBcclxuICAgICAgLy8gQWNjb3VudGluZyBNb2R1bGVcclxuICAgICAgeyBtb2R1bGU6ICdBY2NvdW50aW5nJywgc3VibW9kdWxlOiAnYWNjb3VudHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnQWNjb3VudGluZycsIHN1Ym1vZHVsZTogJ2pvdXJuYWwnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnQWNjb3VudGluZycsIHN1Ym1vZHVsZTogJ3JlcG9ydHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnQWNjb3VudGluZycsIHN1Ym1vZHVsZTogJ2J1ZGdldCcsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdBY2NvdW50aW5nJywgc3VibW9kdWxlOiAnYXNzZXRzJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICBcclxuICAgICAgLy8gU2FsZXMgTW9kdWxlXHJcbiAgICAgIHsgbW9kdWxlOiAnU2FsZXMnLCBzdWJtb2R1bGU6ICdjdXN0b21lcnMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnU2FsZXMnLCBzdWJtb2R1bGU6ICdvcmRlcnMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnU2FsZXMnLCBzdWJtb2R1bGU6ICdpbnZvaWNlcycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdTYWxlcycsIHN1Ym1vZHVsZTogJ3F1b3RlcycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdTYWxlcycsIHN1Ym1vZHVsZTogJ3JlcG9ydHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIFxyXG4gICAgICAvLyBJbnZlbnRvcnkgTW9kdWxlXHJcbiAgICAgIHsgbW9kdWxlOiAnSW52ZW50b3J5Jywgc3VibW9kdWxlOiAncHJvZHVjdHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnSW52ZW50b3J5Jywgc3VibW9kdWxlOiAnc3RvY2snLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnSW52ZW50b3J5Jywgc3VibW9kdWxlOiAnd2FyZWhvdXNlJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0ludmVudG9yeScsIHN1Ym1vZHVsZTogJ2NhdGVnb3JpZXMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnSW52ZW50b3J5Jywgc3VibW9kdWxlOiAnYWRqdXN0bWVudHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIFxyXG4gICAgICAvLyBQdXJjaGFzaW5nIE1vZHVsZVxyXG4gICAgICB7IG1vZHVsZTogJ1B1cmNoYXNpbmcnLCBzdWJtb2R1bGU6ICdzdXBwbGllcnMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnUHVyY2hhc2luZycsIHN1Ym1vZHVsZTogJ3B1cmNoYXNlX29yZGVycycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdQdXJjaGFzaW5nJywgc3VibW9kdWxlOiAncmVjZWlwdHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnUHVyY2hhc2luZycsIHN1Ym1vZHVsZTogJ3BheW1lbnRzJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ1B1cmNoYXNpbmcnLCBzdWJtb2R1bGU6ICdyZXBvcnRzJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICBcclxuICAgICAgLy8gQ1JNIE1vZHVsZVxyXG4gICAgICB7IG1vZHVsZTogJ0NSTScsIHN1Ym1vZHVsZTogJ2xlYWRzJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0NSTScsIHN1Ym1vZHVsZTogJ2NvbnRhY3RzJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0NSTScsIHN1Ym1vZHVsZTogJ29wcG9ydHVuaXRpZXMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnQ1JNJywgc3VibW9kdWxlOiAnY2FtcGFpZ25zJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ0NSTScsIHN1Ym1vZHVsZTogJ3JlcG9ydHMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIFxyXG4gICAgICAvLyBQcm9qZWN0IE1vZHVsZVxyXG4gICAgICB7IG1vZHVsZTogJ1Byb2plY3QnLCBzdWJtb2R1bGU6ICdwcm9qZWN0cycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdQcm9qZWN0Jywgc3VibW9kdWxlOiAndGFza3MnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnUHJvamVjdCcsIHN1Ym1vZHVsZTogJ3RpbWVfdHJhY2tpbmcnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnUHJvamVjdCcsIHN1Ym1vZHVsZTogJ3Jlc291cmNlcycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdQcm9qZWN0Jywgc3VibW9kdWxlOiAncmVwb3J0cycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgXHJcbiAgICAgIC8vIFNldHRpbmdzIE1vZHVsZVxyXG4gICAgICB7IG1vZHVsZTogJ1NldHRpbmdzJywgc3VibW9kdWxlOiAndXNlcnMnLCBwZXJtaXNzaW9uczogWyd2aWV3JywgJ2NyZWF0ZScsICdlZGl0JywgJ2RlbGV0ZSddIH0sXHJcbiAgICAgIHsgbW9kdWxlOiAnU2V0dGluZ3MnLCBzdWJtb2R1bGU6ICdyb2xlcycsIHBlcm1pc3Npb25zOiBbJ3ZpZXcnLCAnY3JlYXRlJywgJ2VkaXQnLCAnZGVsZXRlJ10gfSxcclxuICAgICAgeyBtb2R1bGU6ICdTZXR0aW5ncycsIHN1Ym1vZHVsZTogJ3Blcm1pc3Npb25zJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ1NldHRpbmdzJywgc3VibW9kdWxlOiAnc3lzdGVtJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9LFxyXG4gICAgICB7IG1vZHVsZTogJ1NldHRpbmdzJywgc3VibW9kdWxlOiAnYmFja3VwJywgcGVybWlzc2lvbnM6IFsndmlldycsICdjcmVhdGUnLCAnZWRpdCcsICdkZWxldGUnXSB9XHJcbiAgICBdXHJcblxyXG4gICAgY29uc3QgcGVybWlzc2lvblF1ZXJpZXMgPSBbXVxyXG4gICAgZm9yIChjb25zdCBtb2R1bGVQZXJtcyBvZiBhbGxQZXJtaXNzaW9ucykge1xyXG4gICAgICBmb3IgKGNvbnN0IHBlcm1pc3Npb24gb2YgbW9kdWxlUGVybXMucGVybWlzc2lvbnMpIHtcclxuICAgICAgICBwZXJtaXNzaW9uUXVlcmllcy5wdXNoKFtcclxuICAgICAgICAgIHV1aWR2NCgpLFxyXG4gICAgICAgICAgdXNlcklkLFxyXG4gICAgICAgICAgbW9kdWxlUGVybXMubW9kdWxlLFxyXG4gICAgICAgICAgbW9kdWxlUGVybXMuc3VibW9kdWxlLFxyXG4gICAgICAgICAgcGVybWlzc2lvbixcclxuICAgICAgICAgIHRydWUgLy8gaGFzX3Blcm1pc3Npb25cclxuICAgICAgICBdKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBlcm1pc3Npb25RdWVyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3Qgc3FsID0gYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIHVzZXJfcGVybWlzc2lvbnMgKGlkLCB1c2VyX2lkLCBtb2R1bGUsIHN1Ym1vZHVsZSwgcGVybWlzc2lvbiwgaGFzX3Blcm1pc3Npb24pXHJcbiAgICAgICAgVkFMVUVTICR7cGVybWlzc2lvblF1ZXJpZXMubWFwKCgpID0+ICcoPywgPywgPywgPywgPywgPyknKS5qb2luKCcsICcpfVxyXG4gICAgICBgXHJcbiAgICAgIGNvbnN0IGZsYXRWYWx1ZXMgPSBwZXJtaXNzaW9uUXVlcmllcy5mbGF0KClcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeShzcWwsIGZsYXRWYWx1ZXMpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIEdyYW50ZWQgJHtwZXJtaXNzaW9uUXVlcmllcy5sZW5ndGh9IHBlcm1pc3Npb25zIHRvIFN1cGVyIEFkbWluYClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4o+C4seC4miBDb25uZWN0aW9uIOC4quC4s+C4q+C4o+C4seC4miBTY2hlbWEg4LiC4Lit4LiH4Lit4LiH4LiE4LmM4LiB4LijXHJcbiAgYXN5bmMgZ2V0T3JnYW5pemF0aW9uQ29ubmVjdGlvbihzY2hlbWFOYW1lOiBzdHJpbmcpOiBQcm9taXNlPG15c3FsLkNvbm5lY3Rpb24+IHtcclxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmhhcyhzY2hlbWFOYW1lKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2NoZW1hTmFtZSkhXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgcG9ydDogMzMwNixcclxuICAgICAgdXNlcjogJ2VycF9hcHAnLFxyXG4gICAgICBwYXNzd29yZDogJ2VycF9hcHBfcGFzczEyMycsXHJcbiAgICAgIGRhdGFiYXNlOiBzY2hlbWFOYW1lXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KHNjaGVtYU5hbWUsIGNvbm5lY3Rpb24pXHJcbiAgICByZXR1cm4gY29ubmVjdGlvblxyXG4gIH1cclxuXHJcbiAgLy8gR2V0IFByaXNtYSBjbGllbnQgZm9yIG9yZ2FuaXphdGlvbiBzY2hlbWFcclxuICBhc3luYyBnZXRPcmdhbml6YXRpb25DbGllbnQob3JnSWQ6IHN0cmluZyk6IFByb21pc2U8UHJpc21hQ2xpZW50IHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gR2V0IG9yZ2FuaXphdGlvbiBmcm9tIG1haW4gZGF0YWJhc2VcclxuICAgICAgY29uc3Qgb3JnID0gYXdhaXQgcHJpc21hLm9yZ2FuaXphdGlvbi5maW5kVW5pcXVlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogb3JnSWQgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCFvcmcpIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzY2hlbWFOYW1lID0gYG9yZ18ke29yZy5vcmdDb2RlLnRvTG93ZXJDYXNlKCl9YFxyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgY2xpZW50IGFscmVhZHkgZXhpc3RzXHJcbiAgICAgIGlmICh0aGlzLm9yZ0NsaWVudHMuaGFzKHNjaGVtYU5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JnQ2xpZW50cy5nZXQoc2NoZW1hTmFtZSkhXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBuZXcgUHJpc21hIGNsaWVudCBmb3IgdGhpcyBvcmdhbml6YXRpb24gc2NoZW1hXHJcbiAgICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBQcmlzbWFDbGllbnQoe1xyXG4gICAgICAgIGRhdGFzb3VyY2VzOiB7XHJcbiAgICAgICAgICBkYjoge1xyXG4gICAgICAgICAgICB1cmw6IGBteXNxbDovL2VycF9hcHA6ZXJwX2FwcF9wYXNzMTIzQGxvY2FsaG9zdDozMzA2LyR7c2NoZW1hTmFtZX1gXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gVGVzdCBjb25uZWN0aW9uXHJcbiAgICAgIGF3YWl0IG9yZ0NsaWVudC4kY29ubmVjdCgpXHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWNoZSB0aGUgY2xpZW50XHJcbiAgICAgIHRoaXMub3JnQ2xpZW50cy5zZXQoc2NoZW1hTmFtZSwgb3JnQ2xpZW50KVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIG9yZ0NsaWVudFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyBvcmdhbml6YXRpb24gY2xpZW50IGZvciBvcmcgJHtvcmdJZH06YCwgZXJyb3IpXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbiB1cCBvcmdhbml6YXRpb24gY2xpZW50XHJcbiAgYXN5bmMgZGlzY29ubmVjdE9yZ2FuaXphdGlvbkNsaWVudChvcmdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBvcmcgPSBhd2FpdCBwcmlzbWEub3JnYW5pemF0aW9uLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBvcmdJZCB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoIW9yZykgcmV0dXJuXHJcblxyXG4gICAgICBjb25zdCBzY2hlbWFOYW1lID0gYG9yZ18ke29yZy5vcmdDb2RlLnRvTG93ZXJDYXNlKCl9YFxyXG4gICAgICBjb25zdCBjbGllbnQgPSB0aGlzLm9yZ0NsaWVudHMuZ2V0KHNjaGVtYU5hbWUpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgYXdhaXQgY2xpZW50LiRkaXNjb25uZWN0KClcclxuICAgICAgICB0aGlzLm9yZ0NsaWVudHMuZGVsZXRlKHNjaGVtYU5hbWUpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGRpc2Nvbm5lY3Rpbmcgb3JnYW5pemF0aW9uIGNsaWVudCBmb3Igb3JnICR7b3JnSWR9OmAsIGVycm9yKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g4Lil4LiaIFNjaGVtYSDguILguK3guIfguK3guIfguITguYzguIHguKMgKOC5g+C4iuC5ieC5gOC4oeC4t+C5iOC4reC4m+C4j+C4tOC5gOC4quC4mOC4q+C4o+C4t+C4reC4peC4muC4reC4h+C4hOC5jOC4geC4oylcclxuICBhc3luYyBkZWxldGVPcmdhbml6YXRpb25TY2hlbWEoc2NoZW1hTmFtZU9yT3JnQ29kZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguKfguYjguLLguYDguJvguYfguJkgc2NoZW1hIG5hbWUg4Lir4Lij4Li34LitIG9yZyBjb2RlXHJcbiAgICBsZXQgc2NoZW1hTmFtZTogc3RyaW5nXHJcbiAgICBpZiAoc2NoZW1hTmFtZU9yT3JnQ29kZS5zdGFydHNXaXRoKCdvcmdfJykpIHtcclxuICAgICAgc2NoZW1hTmFtZSA9IHNjaGVtYU5hbWVPck9yZ0NvZGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjaGVtYU5hbWUgPSBgb3JnXyR7c2NoZW1hTmFtZU9yT3JnQ29kZS50b0xvd2VyQ2FzZSgpfWBcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgcG9ydDogMzMwNixcclxuICAgICAgdXNlcjogJ2VycF9hcHAnLFxyXG4gICAgICBwYXNzd29yZDogJ2VycF9hcHBfcGFzczEyMydcclxuICAgIH0pXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8g4Lil4LiaIGRhdGFiYXNlIHNjaGVtYVxyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KGBEUk9QIERBVEFCQVNFIElGIEVYSVNUUyBcXGAke3NjaGVtYU5hbWV9XFxgYClcclxuICAgICAgXHJcbiAgICAgIC8vIOC4peC4miBjb25uZWN0aW9uIOC4iOC4suC4gSBNYXAg4LiW4LmJ4Liy4Lih4Li1XHJcbiAgICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKHNjaGVtYU5hbWUpXHJcbiAgICAgIHRoaXMub3JnQ2xpZW50cy5kZWxldGUoc2NoZW1hTmFtZSlcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIERlbGV0ZWQgc2NoZW1hOiAke3NjaGVtYU5hbWV9YClcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgZGVsZXRpbmcgc2NoZW1hICR7c2NoZW1hTmFtZX06YCwgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDguJvguLTguJQgQ29ubmVjdGlvbiDguJfguLHguYnguIfguKvguKHguJRcclxuICBhc3luYyBjbG9zZUFsbENvbm5lY3Rpb25zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgZm9yIChjb25zdCBbc2NoZW1hTmFtZSwgY29ubmVjdGlvbl0gb2YgdGhpcy5jb25uZWN0aW9ucykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjCBDbG9zZWQgY29ubmVjdGlvbiBmb3I6ICR7c2NoZW1hTmFtZX1gKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBjbG9zaW5nIGNvbm5lY3Rpb24gZm9yICR7c2NoZW1hTmFtZX06YCwgZXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuY29ubmVjdGlvbnMuY2xlYXIoKVxyXG4gIH1cclxuXHJcbiAgLy8g4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54LilIHVzZXJzIOC4iOC4suC4gSBvcmdhbml6YXRpb24gc2NoZW1hXHJcbiAgYXN5bmMgZ2V0T3JnYW5pemF0aW9uVXNlcnMoc2NoZW1hTmFtZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgaWYgKCFzY2hlbWFOYW1lKSByZXR1cm4gW11cclxuICAgIFxyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgcG9ydDogMzMwNixcclxuICAgICAgdXNlcjogJ2VycF9hcHAnLFxyXG4gICAgICBwYXNzd29yZDogJ2VycF9hcHBfcGFzczEyMycsXHJcbiAgICAgIGRhdGFiYXNlOiBzY2hlbWFOYW1lXHJcbiAgICB9KVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoYFxyXG4gICAgICAgIFNFTEVDVCBpZCwgZW1haWwsIG5hbWUsIHJvbGUsIGlzX2FjdGl2ZSBhcyBpc0FjdGl2ZSwgY3JlYXRlZF9hdCBhcyBjcmVhdGVkQXRcclxuICAgICAgICBGUk9NIHVzZXJzXHJcbiAgICAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDXHJcbiAgICAgIGApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcm93cyBhcyBhbnlbXVxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBmZXRjaGluZyB1c2VycyBmcm9tICR7c2NoZW1hTmFtZX06YCwgZXJyb3IpXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5lbmQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g4Liq4Lij4LmJ4Liy4LiHIFVzZXIg4LmD4Lir4Lih4LmI4LmD4LiZIE9yZ2FuaXphdGlvbiBTY2hlbWFcclxuICBhc3luYyBjcmVhdGVPcmdhbml6YXRpb25Vc2VyKHNjaGVtYU5hbWU6IHN0cmluZywgdXNlckRhdGE6IHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xyXG4gICAgcm9sZTogc3RyaW5nXHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhblxyXG4gIH0pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgcG9ydDogMzMwNixcclxuICAgICAgdXNlcjogJ2VycF9hcHAnLFxyXG4gICAgICBwYXNzd29yZDogJ2VycF9hcHBfcGFzczEyMycsXHJcbiAgICAgIGRhdGFiYXNlOiBzY2hlbWFOYW1lXHJcbiAgICB9KVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHV1aWR2NCgpXHJcbiAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlckRhdGEucGFzc3dvcmQsIDEwKVxyXG5cclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeShgXHJcbiAgICAgICAgSU5TRVJUIElOVE8gdXNlcnMgKGlkLCBlbWFpbCwgbmFtZSwgcGFzc3dvcmQsIHJvbGUsIGlzX2FjdGl2ZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdClcclxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sIE5PVygpLCBOT1coKSlcclxuICAgICAgYCwgW3VzZXJJZCwgdXNlckRhdGEuZW1haWwsIHVzZXJEYXRhLm5hbWUsIGhhc2hlZFBhc3N3b3JkLCB1c2VyRGF0YS5yb2xlLCB1c2VyRGF0YS5pc0FjdGl2ZV0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIENyZWF0ZWQgdXNlcjogJHt1c2VyRGF0YS5lbWFpbH0gaW4gc2NoZW1hOiAke3NjaGVtYU5hbWV9YClcclxuICAgICAgcmV0dXJuIHVzZXJJZFxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBjcmVhdGluZyB1c2VyIGluICR7c2NoZW1hTmFtZX06YCwgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDguYHguIHguYnguYTguIIgVXNlciDguYPguJkgT3JnYW5pemF0aW9uIFNjaGVtYVxyXG4gIGFzeW5jIHVwZGF0ZU9yZ2FuaXphdGlvblVzZXIoc2NoZW1hTmFtZTogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgdXNlckRhdGE6IHtcclxuICAgIG5hbWU/OiBzdHJpbmdcclxuICAgIGVtYWlsPzogc3RyaW5nXHJcbiAgICBwYXNzd29yZD86IHN0cmluZ1xyXG4gICAgcm9sZT86IHN0cmluZ1xyXG4gICAgaXNBY3RpdmU/OiBib29sZWFuXHJcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiAnbG9jYWxob3N0JyxcclxuICAgICAgcG9ydDogMzMwNixcclxuICAgICAgdXNlcjogJ2VycF9hcHAnLFxyXG4gICAgICBwYXNzd29yZDogJ2VycF9hcHBfcGFzczEyMycsXHJcbiAgICAgIGRhdGFiYXNlOiBzY2hlbWFOYW1lXHJcbiAgICB9KVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZXM6IHN0cmluZ1tdID0gW11cclxuICAgICAgY29uc3QgdmFsdWVzOiBhbnlbXSA9IFtdXHJcblxyXG4gICAgICBpZiAodXNlckRhdGEubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdXBkYXRlcy5wdXNoKCduYW1lID0gPycpXHJcbiAgICAgICAgdmFsdWVzLnB1c2godXNlckRhdGEubmFtZSlcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlckRhdGEuZW1haWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHVwZGF0ZXMucHVzaCgnZW1haWwgPSA/JylcclxuICAgICAgICB2YWx1ZXMucHVzaCh1c2VyRGF0YS5lbWFpbClcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlckRhdGEucGFzc3dvcmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlckRhdGEucGFzc3dvcmQsIDEwKVxyXG4gICAgICAgIHVwZGF0ZXMucHVzaCgncGFzc3dvcmQgPSA/JylcclxuICAgICAgICB2YWx1ZXMucHVzaChoYXNoZWRQYXNzd29yZClcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlckRhdGEucm9sZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdXBkYXRlcy5wdXNoKCdyb2xlID0gPycpXHJcbiAgICAgICAgdmFsdWVzLnB1c2godXNlckRhdGEucm9sZSlcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlckRhdGEuaXNBY3RpdmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHVwZGF0ZXMucHVzaCgnaXNfYWN0aXZlID0gPycpXHJcbiAgICAgICAgdmFsdWVzLnB1c2godXNlckRhdGEuaXNBY3RpdmUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1cGRhdGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcblxyXG4gICAgICB1cGRhdGVzLnB1c2goJ3VwZGF0ZWRfYXQgPSBOT1coKScpXHJcbiAgICAgIHZhbHVlcy5wdXNoKHVzZXJJZClcclxuXHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoYFxyXG4gICAgICAgIFVQREFURSB1c2VycyBTRVQgJHt1cGRhdGVzLmpvaW4oJywgJyl9IFdIRVJFIGlkID0gP1xyXG4gICAgICBgLCB2YWx1ZXMpXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFVwZGF0ZWQgdXNlcjogJHt1c2VySWR9IGluIHNjaGVtYTogJHtzY2hlbWFOYW1lfWApXHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHVwZGF0aW5nIHVzZXIgaW4gJHtzY2hlbWFOYW1lfTpgLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4peC4miBVc2VyIOC4iOC4suC4gSBPcmdhbml6YXRpb24gU2NoZW1hXHJcbiAgYXN5bmMgZGVsZXRlT3JnYW5pemF0aW9uVXNlcihzY2hlbWFOYW1lOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XHJcbiAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgICBwb3J0OiAzMzA2LFxyXG4gICAgICB1c2VyOiAnZXJwX2FwcCcsXHJcbiAgICAgIHBhc3N3b3JkOiAnZXJwX2FwcF9wYXNzMTIzJyxcclxuICAgICAgZGF0YWJhc2U6IHNjaGVtYU5hbWVcclxuICAgIH0pXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5xdWVyeSgnREVMRVRFIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/JywgW3VzZXJJZF0pXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgRGVsZXRlZCB1c2VyOiAke3VzZXJJZH0gZnJvbSBzY2hlbWE6ICR7c2NoZW1hTmFtZX1gKVxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBkZWxldGluZyB1c2VyIGZyb20gJHtzY2hlbWFOYW1lfTpgLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOC4quC4o+C5ieC4suC4hyBSb2xlIFRlbXBsYXRlcyDguYDguKPguLTguYjguKHguJXguYnguJlcclxuICBhc3luYyBwb3B1bGF0ZURlZmF1bHRSb2xlUGVybWlzc2lvbnMoc2NoZW1hTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XHJcbiAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgICBwb3J0OiAzMzA2LFxyXG4gICAgICB1c2VyOiAnZXJwX2FwcCcsXHJcbiAgICAgIHBhc3N3b3JkOiAnZXJwX2FwcF9wYXNzMTIzJyxcclxuICAgICAgZGF0YWJhc2U6IHNjaGVtYU5hbWVcclxuICAgIH0pXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRGVmaW5lIGRlZmF1bHQgcm9sZSBwZXJtaXNzaW9ucyBkaXJlY3RseSBoZXJlIHRvIGF2b2lkIGltcG9ydCBpc3N1ZXNcclxuICAgICAgY29uc3QgREVGQVVMVF9ST0xFX1BFUk1JU1NJT05TID0ge1xyXG4gICAgICAgIEFETUlOOiB7XHJcbiAgICAgICAgICBocm06IHtcclxuICAgICAgICAgICAgZW1wbG95ZWU6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlLCBpbXBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgYXR0ZW5kYW5jZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBhcHByb3ZlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgcGF5cm9sbDogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBhcHByb3ZlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgbGVhdmU6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgYXBwcm92ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIGFubm91bmNlbWVudDogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBhY2NvdW50aW5nOiB7XHJcbiAgICAgICAgICAgIGluY29tZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgZmluYW5jZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBhcHByb3ZlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogdHJ1ZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2FsZXM6IHtcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlLCBpbXBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgcXVvdGF0aW9uOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IHRydWUsIGFwcHJvdmU6IHRydWUsIGV4cG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICByZXBvcnQ6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBpbnZlbnRvcnk6IHtcclxuICAgICAgICAgICAgcHJvZHVjdDogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBleHBvcnQ6IHRydWUsIGltcG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBzdG9jazogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwdXJjaGFzaW5nOiB7XHJcbiAgICAgICAgICAgIG9yZGVyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IHRydWUsIGFwcHJvdmU6IHRydWUsIGV4cG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBzdXBwbGllcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBleHBvcnQ6IHRydWUsIGltcG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICByZXBvcnQ6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjcm06IHtcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlLCBpbXBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgaGlzdG9yeTogeyByZWFkOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgYWN0aXZpdHk6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgIHRhc2s6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHN0YXR1czogeyByZWFkOiB0cnVlLCB1cGRhdGU6IHRydWUsIGV4cG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgdXNlcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgcGVybWlzc2lvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlIH0sXHJcbiAgICAgICAgICAgIGNvbmZpZzogeyByZWFkOiB0cnVlLCB1cGRhdGU6IHRydWUgfSxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7IHJlYWQ6IHRydWUsIHVwZGF0ZTogdHJ1ZSB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBNQU5BR0VSOiB7XHJcbiAgICAgICAgICBocm06IHtcclxuICAgICAgICAgICAgZW1wbG95ZWU6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogdHJ1ZSwgaW1wb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhdHRlbmRhbmNlOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHBheXJvbGw6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIGxlYXZlOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlLCBhcHByb3ZlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgYW5ub3VuY2VtZW50OiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBhY2NvdW50aW5nOiB7XHJcbiAgICAgICAgICAgIGluY29tZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIGZpbmFuY2U6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogdHJ1ZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHJlcG9ydDogeyByZWFkOiB0cnVlLCBleHBvcnQ6IHRydWUgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNhbGVzOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbWVyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IHRydWUsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcXVvdGF0aW9uOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlLCBhcHByb3ZlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogdHJ1ZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaW52ZW50b3J5OiB7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogdHJ1ZSwgaW1wb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBzdG9jazogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IHRydWUgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1cmNoYXNpbmc6IHtcclxuICAgICAgICAgICAgb3JkZXI6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UsIGFwcHJvdmU6IHRydWUsIGV4cG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBzdXBwbGllcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiB0cnVlLCBpbXBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHJlcG9ydDogeyByZWFkOiB0cnVlLCBleHBvcnQ6IHRydWUgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNybToge1xyXG4gICAgICAgICAgICBjdXN0b21lcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiB0cnVlLCBpbXBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGhpc3Rvcnk6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhY3Rpdml0eTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiB0cnVlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgIHRhc2s6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBzdGF0dXM6IHsgcmVhZDogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBleHBvcnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICB1c2VyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcGVybWlzc2lvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNvbmZpZzogeyByZWFkOiB0cnVlLCB1cGRhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogeyByZWFkOiB0cnVlLCB1cGRhdGU6IHRydWUgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVVNFUjoge1xyXG4gICAgICAgICAgaHJtOiB7XHJcbiAgICAgICAgICAgIGVtcGxveWVlOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgYXR0ZW5kYW5jZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcGF5cm9sbDogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBhcHByb3ZlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBsZWF2ZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiB0cnVlLCBhcHByb3ZlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhbm5vdW5jZW1lbnQ6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYWNjb3VudGluZzoge1xyXG4gICAgICAgICAgICBpbmNvbWU6IHsgcmVhZDogZmFsc2UsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgZmluYW5jZTogeyByZWFkOiBmYWxzZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzYWxlczoge1xyXG4gICAgICAgICAgICBjdXN0b21lcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlLCBpbXBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHF1b3RhdGlvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGludmVudG9yeToge1xyXG4gICAgICAgICAgICBwcm9kdWN0OiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgc3RvY2s6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1cmNoYXNpbmc6IHtcclxuICAgICAgICAgICAgb3JkZXI6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiB0cnVlLCB1cGRhdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UsIGFwcHJvdmU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHN1cHBsaWVyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNybToge1xyXG4gICAgICAgICAgICBjdXN0b21lcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlLCBpbXBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGhpc3Rvcnk6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhY3Rpdml0eTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IHRydWUsIHVwZGF0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgICB0YXNrOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogdHJ1ZSwgdXBkYXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHN0YXR1czogeyByZWFkOiB0cnVlLCB1cGRhdGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICB1c2VyOiB7IHJlYWQ6IGZhbHNlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHsgcmVhZDogZmFsc2UsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgY29uZmlnOiB7IHJlYWQ6IGZhbHNlLCB1cGRhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogeyByZWFkOiB0cnVlLCB1cGRhdGU6IHRydWUgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVklFV0VSOiB7XHJcbiAgICAgICAgICBocm06IHtcclxuICAgICAgICAgICAgZW1wbG95ZWU6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSwgaW1wb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhdHRlbmRhbmNlOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGFwcHJvdmU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHBheXJvbGw6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgbGVhdmU6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgYW5ub3VuY2VtZW50OiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGFjY291bnRpbmc6IHtcclxuICAgICAgICAgICAgaW5jb21lOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgZmluYW5jZTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBhcHByb3ZlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICByZXBvcnQ6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiBmYWxzZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2FsZXM6IHtcclxuICAgICAgICAgICAgY3VzdG9tZXI6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSwgaW1wb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBxdW90YXRpb246IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgYXBwcm92ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGludmVudG9yeToge1xyXG4gICAgICAgICAgICBwcm9kdWN0OiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgc3RvY2s6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwdXJjaGFzaW5nOiB7XHJcbiAgICAgICAgICAgIG9yZGVyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGFwcHJvdmU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHN1cHBsaWVyOiB7IHJlYWQ6IHRydWUsIGNyZWF0ZTogZmFsc2UsIHVwZGF0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UsIGV4cG9ydDogZmFsc2UsIGltcG9ydDogZmFsc2UgfSxcclxuICAgICAgICAgICAgcmVwb3J0OiB7IHJlYWQ6IHRydWUsIGV4cG9ydDogZmFsc2UgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNybToge1xyXG4gICAgICAgICAgICBjdXN0b21lcjogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlLCBpbXBvcnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGhpc3Rvcnk6IHsgcmVhZDogdHJ1ZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBhY3Rpdml0eTogeyByZWFkOiB0cnVlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlLCBleHBvcnQ6IGZhbHNlIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgIHRhc2s6IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBzdGF0dXM6IHsgcmVhZDogdHJ1ZSwgdXBkYXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246IHsgcmVhZDogdHJ1ZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgdXNlcjogeyByZWFkOiBmYWxzZSwgY3JlYXRlOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSwgZXhwb3J0OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB7IHJlYWQ6IGZhbHNlLCBjcmVhdGU6IGZhbHNlLCB1cGRhdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNvbmZpZzogeyByZWFkOiBmYWxzZSwgdXBkYXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb246IHsgcmVhZDogdHJ1ZSwgdXBkYXRlOiBmYWxzZSB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhciBleGlzdGluZyByb2xlIHRlbXBsYXRlc1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KCdERUxFVEUgRlJPTSByb2xlX3RlbXBsYXRlcycpXHJcblxyXG4gICAgICBjb25zdCByb2xlUGVybWlzc2lvblJlY29yZHMgPSBbXVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIHJlY29yZHMgZm9yIGVhY2ggcm9sZSBhbmQgdGhlaXIgcGVybWlzc2lvbnNcclxuICAgICAgZm9yIChjb25zdCBbcm9sZU5hbWUsIHJvbGVQZXJtaXNzaW9uc10gb2YgT2JqZWN0LmVudHJpZXMoREVGQVVMVF9ST0xFX1BFUk1JU1NJT05TKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgW21vZHVsZSwgbW9kdWxlUGVybWlzc2lvbnNdIG9mIE9iamVjdC5lbnRyaWVzKHJvbGVQZXJtaXNzaW9ucyBhcyBhbnkpKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IFtzdWJtb2R1bGUsIHN1Ym1vZHVsZVBlcm1pc3Npb25zXSBvZiBPYmplY3QuZW50cmllcyhtb2R1bGVQZXJtaXNzaW9ucyBhcyBhbnkpKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3Blcm1pc3Npb24sIGdyYW50ZWRdIG9mIE9iamVjdC5lbnRyaWVzKHN1Ym1vZHVsZVBlcm1pc3Npb25zIGFzIGFueSkpIHtcclxuICAgICAgICAgICAgICByb2xlUGVybWlzc2lvblJlY29yZHMucHVzaChbXHJcbiAgICAgICAgICAgICAgICByb2xlTmFtZSxcclxuICAgICAgICAgICAgICAgIG1vZHVsZSxcclxuICAgICAgICAgICAgICAgIHN1Ym1vZHVsZSxcclxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXHJcbiAgICAgICAgICAgICAgICBncmFudGVkXHJcbiAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5zZXJ0IHJvbGUgcGVybWlzc2lvbnMgaW4gYmF0Y2hlc1xyXG4gICAgICBpZiAocm9sZVBlcm1pc3Npb25SZWNvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KGBcclxuICAgICAgICAgIElOU0VSVCBJTlRPIHJvbGVfdGVtcGxhdGVzIChyb2xlLCBtb2R1bGUsIHN1Ym1vZHVsZSwgcGVybWlzc2lvbiwgZ3JhbnRlZClcclxuICAgICAgICAgIFZBTFVFUyA/XHJcbiAgICAgICAgYCwgW3JvbGVQZXJtaXNzaW9uUmVjb3Jkc10pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9wdWxhdGVkIHJvbGUgdGVtcGxhdGVzIGZvciBzY2hlbWE6ICR7c2NoZW1hTmFtZX1gKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHBvcHVsYXRpbmcgcm9sZSB0ZW1wbGF0ZXMgZm9yICR7c2NoZW1hTmFtZX06YCwgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJteXNxbCIsInByaXNtYSIsImJjcnlwdCIsInY0IiwidXVpZHY0IiwiUHJpc21hQ2xpZW50IiwiRGF0YWJhc2VNYW5hZ2VyIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImNyZWF0ZU9yZ2FuaXphdGlvblNjaGVtYSIsIm9yZ0NvZGUiLCJhZG1pbkRhdGEiLCJzY2hlbWFOYW1lIiwidG9Mb3dlckNhc2UiLCJjb25uZWN0aW9uIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwb3J0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJxdWVyeSIsImNyZWF0ZUJhc2ljVGFibGVzIiwiZW5kIiwicG9wdWxhdGVEZWZhdWx0Um9sZVBlcm1pc3Npb25zIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiY3JlYXRlU3lzdGVtVGFibGVzIiwiY3JlYXRlSFJNVGFibGVzIiwiY3JlYXRlQWNjb3VudGluZ1RhYmxlcyIsImNyZWF0ZVNhbGVzVGFibGVzIiwiY3JlYXRlSW52ZW50b3J5VGFibGVzIiwiY3JlYXRlUHVyY2hhc2luZ1RhYmxlcyIsImNyZWF0ZUNSTVRhYmxlcyIsImNyZWF0ZVByb2plY3RUYWJsZXMiLCJjcmVhdGVTZXR0aW5nc1RhYmxlcyIsInRhYmxlcyIsInNxbCIsImNyZWF0ZUluaXRpYWxBZG1pblVzZXIiLCJ1c2VySWQiLCJkZWZhdWx0UGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJhZG1pbkVtYWlsIiwiYWRtaW5OYW1lIiwiZ3JhbnRBbGxQZXJtaXNzaW9ucyIsImVtYWlsIiwiYWxsUGVybWlzc2lvbnMiLCJtb2R1bGUiLCJzdWJtb2R1bGUiLCJwZXJtaXNzaW9ucyIsInBlcm1pc3Npb25RdWVyaWVzIiwibW9kdWxlUGVybXMiLCJwZXJtaXNzaW9uIiwicHVzaCIsImxlbmd0aCIsIm1hcCIsImpvaW4iLCJmbGF0VmFsdWVzIiwiZmxhdCIsImdldE9yZ2FuaXphdGlvbkNvbm5lY3Rpb24iLCJjb25uZWN0aW9ucyIsImhhcyIsImdldCIsInNldCIsImdldE9yZ2FuaXphdGlvbkNsaWVudCIsIm9yZ0lkIiwib3JnIiwib3JnYW5pemF0aW9uIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJvcmdDbGllbnRzIiwib3JnQ2xpZW50IiwiZGF0YXNvdXJjZXMiLCJkYiIsInVybCIsIiRjb25uZWN0IiwiZGlzY29ubmVjdE9yZ2FuaXphdGlvbkNsaWVudCIsImNsaWVudCIsIiRkaXNjb25uZWN0IiwiZGVsZXRlIiwiZGVsZXRlT3JnYW5pemF0aW9uU2NoZW1hIiwic2NoZW1hTmFtZU9yT3JnQ29kZSIsInN0YXJ0c1dpdGgiLCJjbG9zZUFsbENvbm5lY3Rpb25zIiwiY2xlYXIiLCJnZXRPcmdhbml6YXRpb25Vc2VycyIsInJvd3MiLCJjcmVhdGVPcmdhbml6YXRpb25Vc2VyIiwidXNlckRhdGEiLCJuYW1lIiwicm9sZSIsImlzQWN0aXZlIiwidXBkYXRlT3JnYW5pemF0aW9uVXNlciIsInVwZGF0ZXMiLCJ2YWx1ZXMiLCJ1bmRlZmluZWQiLCJkZWxldGVPcmdhbml6YXRpb25Vc2VyIiwiREVGQVVMVF9ST0xFX1BFUk1JU1NJT05TIiwiQURNSU4iLCJocm0iLCJlbXBsb3llZSIsInJlYWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJleHBvcnQiLCJpbXBvcnQiLCJhdHRlbmRhbmNlIiwiYXBwcm92ZSIsInBheXJvbGwiLCJsZWF2ZSIsImFubm91bmNlbWVudCIsImFjY291bnRpbmciLCJpbmNvbWUiLCJmaW5hbmNlIiwicmVwb3J0Iiwic2FsZXMiLCJjdXN0b21lciIsInF1b3RhdGlvbiIsImludmVudG9yeSIsInByb2R1Y3QiLCJzdG9jayIsInRyYW5zYWN0aW9uIiwicHVyY2hhc2luZyIsIm9yZGVyIiwic3VwcGxpZXIiLCJjcm0iLCJoaXN0b3J5IiwiYWN0aXZpdHkiLCJwcm9qZWN0IiwidGFzayIsInN0YXR1cyIsIm5vdGlmaWNhdGlvbiIsInNldHRpbmdzIiwiY29uZmlnIiwiTUFOQUdFUiIsIlVTRVIiLCJWSUVXRVIiLCJyb2xlUGVybWlzc2lvblJlY29yZHMiLCJyb2xlTmFtZSIsInJvbGVQZXJtaXNzaW9ucyIsIk9iamVjdCIsImVudHJpZXMiLCJtb2R1bGVQZXJtaXNzaW9ucyIsInN1Ym1vZHVsZVBlcm1pc3Npb25zIiwiZ3JhbnRlZCIsIk1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/database-manager.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = globalThis.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalThis.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQU03QyxNQUFNQyxTQUFTQyxXQUFXRCxNQUFNLElBQUksSUFBSUQsd0RBQVlBO0FBRXBELElBQUlHLElBQXlCLEVBQWNELFdBQVdELE1BQU0sR0FBR0E7QUFFL0QsaUVBQWVBLE1BQU1BLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lcnAtYmFja2VuZC8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICB2YXIgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcclxufVxyXG5cclxuY29uc3QgcHJpc21hID0gZ2xvYmFsVGhpcy5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsVGhpcy5wcmlzbWEgPSBwcmlzbWFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByaXNtYVxyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiZ2xvYmFsVGhpcyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/uuid","vendor-chunks/aws-ssl-profiles","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/lru-cache","vendor-chunks/long","vendor-chunks/safer-buffer","vendor-chunks/named-placeholders","vendor-chunks/lru.min","vendor-chunks/is-property","vendor-chunks/generate-function","vendor-chunks/denque"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&page=%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Forganizations%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cflutter%5Cerp_fluter_nextjs_tidb%5Cbackend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();